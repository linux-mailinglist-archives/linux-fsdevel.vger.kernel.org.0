Return-Path: <linux-fsdevel-owner@vger.kernel.org>
X-Original-To: lists+linux-fsdevel@lfdr.de
Delivered-To: lists+linux-fsdevel@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id 7CBFB34BA72
	for <lists+linux-fsdevel@lfdr.de>; Sun, 28 Mar 2021 04:16:11 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S231225AbhC1COw (ORCPT <rfc822;lists+linux-fsdevel@lfdr.de>);
        Sat, 27 Mar 2021 22:14:52 -0400
Received: from mga11.intel.com ([192.55.52.93]:47429 "EHLO mga11.intel.com"
        rhost-flags-OK-OK-OK-OK) by vger.kernel.org with ESMTP
        id S231184AbhC1COM (ORCPT <rfc822;linux-fsdevel@vger.kernel.org>);
        Sat, 27 Mar 2021 22:14:12 -0400
IronPort-SDR: cSyaHTRmY892XinflCfrIyYl0WwS/Lrgd06r2GNIr74PfAf+SECy4XcTwOtdLtspGYkDUSUNcO
 7u4sa/CrboLg==
X-IronPort-AV: E=McAfee;i="6000,8403,9936"; a="188080947"
X-IronPort-AV: E=Sophos;i="5.81,284,1610438400"; 
   d="scan'208";a="188080947"
Received: from orsmga002.jf.intel.com ([10.7.209.21])
  by fmsmga102.fm.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384; 27 Mar 2021 19:14:12 -0700
IronPort-SDR: PLCvrc1AhKc9g+rlXbpRX/vXfs6dwGo005iEbWFv0XGfv6SHnW134ddsq+nOrEMUfLWT9+dNaZ
 sUQ8prQgE3Lg==
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.81,284,1610438400"; 
   d="scan'208";a="392711034"
Received: from lkp-server01.sh.intel.com (HELO 69d8fcc516b7) ([10.239.97.150])
  by orsmga002.jf.intel.com with ESMTP; 27 Mar 2021 19:14:09 -0700
Received: from kbuild by 69d8fcc516b7 with local (Exim 4.92)
        (envelope-from <lkp@intel.com>)
        id 1lQKwK-0003mu-OQ; Sun, 28 Mar 2021 02:14:08 +0000
Date:   Sun, 28 Mar 2021 10:13:33 +0800
From:   kernel test robot <lkp@intel.com>
To:     Konstantin Komarov <almaz.alexandrovich@paragon-software.com>,
        linux-fsdevel@vger.kernel.org
Cc:     kbuild-all@lists.01.org, viro@zeniv.linux.org.uk,
        linux-kernel@vger.kernel.org, pali@kernel.org, dsterba@suse.cz,
        aaptel@suse.com, willy@infradead.org, rdunlap@infradead.org,
        joe@perches.com, mark@harmstone.com
Subject: [PATCH] fs/ntfs3: fix d_find_alias.cocci warnings
Message-ID: <20210328021333.GA68800@116d7529a87d>
References: <20210327214023.3214923-10-almaz.alexandrovich@paragon-software.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20210327214023.3214923-10-almaz.alexandrovich@paragon-software.com>
X-Patchwork-Hint: ignore
User-Agent: Mutt/1.10.1 (2018-07-13)
Precedence: bulk
List-ID: <linux-fsdevel.vger.kernel.org>
X-Mailing-List: linux-fsdevel@vger.kernel.org

From: kernel test robot <lkp@intel.com>

fs/ntfs3/super.c:93:17-23: Missing call to dput() at line 121.

 Make sure calls to d_find_alias() have a corresponding call to dput().
Generated by: scripts/coccinelle/api/d_find_alias.cocci

CC: Konstantin Komarov <almaz.alexandrovich@paragon-software.com>
Reported-by: kernel test robot <lkp@intel.com>
Signed-off-by: kernel test robot <lkp@intel.com>
---

url:    https://github.com/0day-ci/linux/commits/Konstantin-Komarov/NTFS-read-write-driver-GPL-implementation-by-Paragon-Software/20210328-054516
base:   931294922e65a23e1aad6398b9ae02df74044679

Please take the patch only if it's a positive warning. Thanks!

 super.c |    1 +
 1 file changed, 1 insertion(+)

--- a/fs/ntfs3/super.c
+++ b/fs/ntfs3/super.c
@@ -118,6 +118,7 @@ void ntfs_inode_printk(struct inode *ino
 	atomic_inc(&s_name_buf_cnt);
 	if (name != s_name_buf)
 		kfree(name);
+	dput(dentry);
 }
 #endif
 
