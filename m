Return-Path: <linux-fsdevel-owner@vger.kernel.org>
X-Original-To: lists+linux-fsdevel@lfdr.de
Delivered-To: lists+linux-fsdevel@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by mail.lfdr.de (Postfix) with ESMTP id 1D8AA918E6
	for <lists+linux-fsdevel@lfdr.de>; Sun, 18 Aug 2019 20:34:53 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1726925AbfHRSet (ORCPT <rfc822;lists+linux-fsdevel@lfdr.de>);
        Sun, 18 Aug 2019 14:34:49 -0400
Received: from mail.kernel.org ([198.145.29.99]:44642 "EHLO mail.kernel.org"
        rhost-flags-OK-OK-OK-OK) by vger.kernel.org with ESMTP
        id S1726005AbfHRSet (ORCPT <rfc822;linux-fsdevel@vger.kernel.org>);
        Sun, 18 Aug 2019 14:34:49 -0400
Received: from localhost (83-86-89-107.cable.dynamic.v4.ziggo.nl [83.86.89.107])
        (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
        (No client certificate requested)
        by mail.kernel.org (Postfix) with ESMTPSA id D91862184D;
        Sun, 18 Aug 2019 18:34:47 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
        s=default; t=1566153288;
        bh=NoAluoc+Uq1qt0jwwoy3iiCN6uLBPDpdA+kJGNLfpEc=;
        h=Date:From:To:Cc:Subject:References:In-Reply-To:From;
        b=gGZ5UHz+VcRsH4bqNPorYZKMdOjs4yjmQumubPysA2fMTlAuE1QxyfIcxRbYwSVeI
         Qb4pWxTOnTUKPIM2ipvQtTNTl0RqCtrF1ds4J+2Oe4TVNBnOCeRoFiFduU+U2Qjj+q
         RM0RP0rlCS881frkAmEiHevGSBTCsQWY54ANTTN4=
Date:   Sun, 18 Aug 2019 20:34:46 +0200
From:   Greg KH <gregkh@linuxfoundation.org>
To:     Deepa Dinamani <deepa.kernel@gmail.com>
Cc:     viro@zeniv.linux.org.uk, linux-kernel@vger.kernel.org,
        linux-fsdevel@vger.kernel.org, y2038@lists.linaro.org,
        arnd@arndb.de, adrian.hunter@intel.com, dedekind1@gmail.com,
        hch@lst.de, jaegeuk@kernel.org, jlbec@evilplan.org, richard@nod.at,
        tj@kernel.org, yuchao0@huawei.com,
        linux-f2fs-devel@lists.sourceforge.net,
        linux-ntfs-dev@lists.sourceforge.net, linux-mtd@lists.infradead.org
Subject: Re: [PATCH v8 03/20] timestamp_truncate: Replace users of
 timespec64_trunc
Message-ID: <20190818183446.GA2791@kroah.com>
References: <20190818165817.32634-1-deepa.kernel@gmail.com>
 <20190818165817.32634-4-deepa.kernel@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20190818165817.32634-4-deepa.kernel@gmail.com>
User-Agent: Mutt/1.12.1 (2019-06-15)
Sender: linux-fsdevel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-fsdevel.vger.kernel.org>
X-Mailing-List: linux-fsdevel@vger.kernel.org

On Sun, Aug 18, 2019 at 09:58:00AM -0700, Deepa Dinamani wrote:
> Update the inode timestamp updates to use timestamp_truncate()
> instead of timespec64_trunc().
> 
> The change was mostly generated by the following coccinelle
> script.
> 
> virtual context
> virtual patch
> 
> @r1 depends on patch forall@
> struct inode *inode;
> identifier i_xtime =~ "^i_[acm]time$";
> expression e;
> @@
> 
> inode->i_xtime =
> - timespec64_trunc(
> + timestamp_truncate(
> ...,
> - e);
> + inode);
> 
> Signed-off-by: Deepa Dinamani <deepa.kernel@gmail.com>
> Cc: adrian.hunter@intel.com
> Cc: dedekind1@gmail.com
> Cc: gregkh@linuxfoundation.org
> Cc: hch@lst.de
> Cc: jaegeuk@kernel.org
> Cc: jlbec@evilplan.org
> Cc: richard@nod.at
> Cc: tj@kernel.org
> Cc: yuchao0@huawei.com
> Cc: linux-f2fs-devel@lists.sourceforge.net
> Cc: linux-ntfs-dev@lists.sourceforge.net
> Cc: linux-mtd@lists.infradead.org
> ---
>  fs/attr.c           | 21 ++++++++++++---------
>  fs/configfs/inode.c | 12 ++++++------
>  fs/f2fs/file.c      | 21 ++++++++++++---------
>  fs/kernfs/inode.c   |  7 +++----
>  fs/ntfs/inode.c     | 21 ++++++++++++---------
>  fs/ubifs/file.c     | 21 ++++++++++++---------
>  6 files changed, 57 insertions(+), 46 deletions(-)

For kernfs:
	Acked-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
