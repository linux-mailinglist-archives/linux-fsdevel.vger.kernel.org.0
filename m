Return-Path: <linux-fsdevel-owner@vger.kernel.org>
X-Original-To: lists+linux-fsdevel@lfdr.de
Delivered-To: lists+linux-fsdevel@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id D0A9F31B14D
	for <lists+linux-fsdevel@lfdr.de>; Sun, 14 Feb 2021 17:49:14 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S229758AbhBNQs5 (ORCPT <rfc822;lists+linux-fsdevel@lfdr.de>);
        Sun, 14 Feb 2021 11:48:57 -0500
Received: from mail-il1-f200.google.com ([209.85.166.200]:38989 "EHLO
        mail-il1-f200.google.com" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S229637AbhBNQs4 (ORCPT
        <rfc822;linux-fsdevel@vger.kernel.org>);
        Sun, 14 Feb 2021 11:48:56 -0500
Received: by mail-il1-f200.google.com with SMTP id f132so3993839ilh.6
        for <linux-fsdevel@vger.kernel.org>; Sun, 14 Feb 2021 08:48:41 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to;
        bh=cjRr4E3Q5PJcPyCBurqL2Ci6PgHAtJp8Ej4wKqKs3Q8=;
        b=P0kkAH/imv1sVwbMqU99lux6/tiCEdNGdz1OK6Ul22X8ymoJkdPHcrdyJfBx1sft4G
         QRHqTqWTfoPRueYu9lBu9BTnEpEJ8L/PnmgKBN+dopDxqC09QbHewr83hHQNsqnWIeh7
         15haqp9oEAhSE+PPF/Lk26ToOwQVUwxXKUNygQ74zw/sEj/6eaRyuWHQ3L38LmPSjan5
         /cK/qXQgx2hCahxiMvreJI3OaJDfSwcq49jRGEeyU7ra3tMCp1JY2RERL4bSZPmVcnvV
         1BiM4MgVsF3y0SbJxIDW7UKF388ksTts8t+A5F0DhhxsvPTxEMiG6C8zjl/qbL3VCQeI
         OcNQ==
X-Gm-Message-State: AOAM533Mal7cNJ2WCtEuf9tiyaZA3ARgXpsaJIR5g3EjOuMov9KFgSfo
        wApAKC76cf96geRjeVeWO7awhOL8J002IVlm/PzoN7auO0LO
X-Google-Smtp-Source: ABdhPJyJ87IQaRDjxAanOnbFiERX2+Tsk9m3VOkrA1L0JF7KF7TQJ1DWvIicDE/P3WFZvYTct88nAIIDh095IIW7bNs1pGt6uQUe
MIME-Version: 1.0
X-Received: by 2002:a92:3306:: with SMTP id a6mr9662869ilf.55.1613321296071;
 Sun, 14 Feb 2021 08:48:16 -0800 (PST)
Date:   Sun, 14 Feb 2021 08:48:16 -0800
X-Google-Appengine-App-Id: s~syzkaller
X-Google-Appengine-App-Id-Alias: syzkaller
Message-ID: <000000000000c2d2c005bb4ea200@google.com>
Subject: WARNING in mark_buffer_dirty (3)
From:   syzbot <syzbot+7d5c3e0439dc861b68fc@syzkaller.appspotmail.com>
To:     linux-fsdevel@vger.kernel.org, linux-kernel@vger.kernel.org,
        syzkaller-bugs@googlegroups.com, viro@zeniv.linux.org.uk
Content-Type: text/plain; charset="UTF-8"
Precedence: bulk
List-ID: <linux-fsdevel.vger.kernel.org>
X-Mailing-List: linux-fsdevel@vger.kernel.org

Hello,

syzbot found the following issue on:

HEAD commit:    e0756cfc Merge tag 'trace-v5.11-rc7' of git://git.kernel.o..
git tree:       upstream
console output: https://syzkaller.appspot.com/x/log.txt?x=14d0f814d00000
kernel config:  https://syzkaller.appspot.com/x/.config?x=a53fd47f16f22f8c
dashboard link: https://syzkaller.appspot.com/bug?extid=7d5c3e0439dc861b68fc

Unfortunately, I don't have any reproducer for this issue yet.

IMPORTANT: if you fix the issue, please add the following tag to the commit:
Reported-by: syzbot+7d5c3e0439dc861b68fc@syzkaller.appspotmail.com

------------[ cut here ]------------
WARNING: CPU: 3 PID: 5031 at fs/buffer.c:1113 mark_buffer_dirty+0x488/0x5d0 fs/buffer.c:1113
Modules linked in:
CPU: 3 PID: 5031 Comm: jbd2/sda1-8 Not tainted 5.11.0-rc7-syzkaller #0
Hardware name: QEMU Standard PC (Q35 + ICH9, 2009), BIOS 1.14.0-2 04/01/2014
RIP: 0010:mark_buffer_dirty+0x488/0x5d0 fs/buffer.c:1113
Code: c1 ea 03 80 3c 02 00 0f 85 52 01 00 00 48 8b 3b be 04 00 00 00 e8 b8 ac fc ff 5b 5d 41 5c 41 5d e9 2d 9d a2 ff e8 28 9d a2 ff <0f> 0b e9 bf fb ff ff e8 1c 9d a2 ff 0f 0b e9 e3 fb ff ff e8 10 9d
RSP: 0018:ffffc9000df3fa20 EFLAGS: 00010293
RAX: 0000000000000000 RBX: ffff888017d0b698 RCX: 0000000000000000
RDX: ffff888014b420c0 RSI: ffffffff81d039a8 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000000000 R09: 0000000000000000
R10: ffffffff81d03565 R11: 0000000000000000 R12: ffff888017d0b698
R13: ffff88801ad9e980 R14: ffff888022e8ea50 R15: ffff888022e8ea50
FS:  0000000000000000(0000) GS:ffff88802cd00000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000557ba7d6b967 CR3: 000000000ba8e000 CR4: 0000000000150ee0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000fffe0ff0 DR7: 0000000000000400
Call Trace:
 __jbd2_journal_temp_unlink_buffer+0x3ba/0x500 fs/jbd2/transaction.c:2021
 __jbd2_journal_unfile_buffer+0x60/0xb0 fs/jbd2/transaction.c:2035
 __jbd2_journal_refile_buffer+0x3d2/0x4a0 fs/jbd2/transaction.c:2581
 jbd2_journal_commit_transaction+0x43ef/0x6b90 fs/jbd2/commit.c:1084
 kjournald2+0x1d0/0x930 fs/jbd2/journal.c:213
 kthread+0x3b1/0x4a0 kernel/kthread.c:292
 ret_from_fork+0x1f/0x30 arch/x86/entry/entry_64.S:296


---
This report is generated by a bot. It may contain errors.
See https://goo.gl/tpsmEJ for more information about syzbot.
syzbot engineers can be reached at syzkaller@googlegroups.com.

syzbot will keep track of this issue. See:
https://goo.gl/tpsmEJ#status for how to communicate with syzbot.
