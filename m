Return-Path: <linux-fsdevel+bounces-14097-lists+linux-fsdevel=lfdr.de@vger.kernel.org>
X-Original-To: lists+linux-fsdevel@lfdr.de
Delivered-To: lists+linux-fsdevel@lfdr.de
Received: from ny.mirrors.kernel.org (ny.mirrors.kernel.org [IPv6:2604:1380:45d1:ec00::1])
	by mail.lfdr.de (Postfix) with ESMTPS id 90293877A57
	for <lists+linux-fsdevel@lfdr.de>; Mon, 11 Mar 2024 05:26:31 +0100 (CET)
Received: from smtp.subspace.kernel.org (wormhole.subspace.kernel.org [52.25.139.140])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by ny.mirrors.kernel.org (Postfix) with ESMTPS id 81A9F1C203A0
	for <lists+linux-fsdevel@lfdr.de>; Mon, 11 Mar 2024 04:26:30 +0000 (UTC)
Received: from localhost.localdomain (localhost.localdomain [127.0.0.1])
	by smtp.subspace.kernel.org (Postfix) with ESMTP id 0160412B77;
	Mon, 11 Mar 2024 04:25:22 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (2048-bit key) header.d=sony.com header.i=@sony.com header.b="dwZD2iKX"
X-Original-To: linux-fsdevel@vger.kernel.org
Received: from mx08-001d1705.pphosted.com (mx08-001d1705.pphosted.com [185.183.30.70])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id 18B4B11C8B
	for <linux-fsdevel@vger.kernel.org>; Mon, 11 Mar 2024 04:25:18 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=fail smtp.client-ip=185.183.30.70
ARC-Seal:i=2; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1710131121; cv=fail; b=VMPRGDTLU7jNUf2xPcfLRpmSaVegbOTfyr01i/ryndsPFUXCfxXiLkM7+vgjDpsZrJU4Rcz2cSox4g8njit8s3yExacIlI1OgNVVUYxMzFvuSDD6nHt/CtUF4oW4B4dMCpd3UU21HaAJHrUhqlE26vgT2lLJiRIThiYLC8b1D14=
ARC-Message-Signature:i=2; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1710131121; c=relaxed/simple;
	bh=n7KXto4Q+kMM5xLS4Aqwoi8xmxywwVMt7y1BTOOk3hg=;
	h=From:To:CC:Subject:Date:Message-ID:MIME-Version:Content-Type; b=l2XpF1ev67lHt1qDK4q0ui2j0pHmAeEWRLR3FnJ2cnXX6OaXv8KzvCPG5vYpOzXfvui7lpe4Xdmp94EKdrCHgPGdsAF5S/v8qdcOiWLtTzNytBQqF/c1YXj4x4C1NZPTA7oB2Wk9EIPYhb3l7IuSl6TWkXAhM7+kwxWMf6avEJE=
ARC-Authentication-Results:i=2; smtp.subspace.kernel.org; dmarc=pass (p=none dis=none) header.from=sony.com; spf=pass smtp.mailfrom=sony.com; dkim=pass (2048-bit key) header.d=sony.com header.i=@sony.com header.b=dwZD2iKX; arc=fail smtp.client-ip=185.183.30.70
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=none dis=none) header.from=sony.com
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=sony.com
Received: from pps.filterd (m0209321.ppops.net [127.0.0.1])
	by mx08-001d1705.pphosted.com (8.17.1.19/8.17.1.19) with ESMTP id 42B3eD3R031815;
	Mon, 11 Mar 2024 04:25:09 GMT
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=sony.com; h=from : to : cc :
 subject : date : message-id : mime-version : content-type :
 content-transfer-encoding; s=S1;
 bh=n7KXto4Q+kMM5xLS4Aqwoi8xmxywwVMt7y1BTOOk3hg=;
 b=dwZD2iKXi719xYBmC3T5htF1Y95zUrLcE3BfQ2mzQjiaui/Z7j5DaFniCxhWViJ83GBi
 aSLhb7fbSC/ISRc2DZaosnL8BX+yTCEfFrHwucPxvPTEdKoBfqymjjqn183oQ+wCa3XL
 teq6ILypQmkb1oRI6DopVKCJPTln4ZiTQMnwst3kzevIBsl+H81RRWEIq52rgdYHy5LT
 0o+rz/z3Xjd4dPL7ZBXTWChzV2c0YMhDHYGnfYnTIqxh3Fs4UvPCc3vxZki7esBYuxzO
 SB6Dfg+R5P6dABelCkpL2DPuElAXZBoEiVq03QoNE+kJXc9bYDwt92Gg8dBI80rnv4Kj pw== 
Received: from apc01-psa-obe.outbound.protection.outlook.com (mail-psaapc01lp2041.outbound.protection.outlook.com [104.47.26.41])
	by mx08-001d1705.pphosted.com (PPS) with ESMTPS id 3wrd669ety-1
	(version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK);
	Mon, 11 Mar 2024 04:25:08 +0000
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=kqLZ7N8H1DV7/tVHhqahoC9KDT9zhVNdbQ/CUfQIvXqcc5JBKvCOQD7t7kgHNaTvDg2h0FNslybq4HjAyA43GPnl8GTEjvZiucsGCswGMu2PMUgw2GEv+N0zU8qRyYMZN/uZ74RC/5wQN4i7fOGKhk2myR4zh0cvDiUvZYpzEpAgYkxSUAYiaRCsleK2DmJY+l35t1i5Hn6Zvduq6te6ZNn0AIKosuVVj2hSmQX/fSSqDI8J+Xp2eq2OzX1C0IYBSIBsEgxulvnSpfPwEmoJo+rjZa6YDrV0rrB8SL8beD5nx7RIz70XrQEjoNz+aKmSxkjc2lLjDN4NTZwkrZHR5Q==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=n7KXto4Q+kMM5xLS4Aqwoi8xmxywwVMt7y1BTOOk3hg=;
 b=HcSa1TcGLf0MqojjMj8FV/INkR/ow3dkB9f3iEJ8pJYy57S68vggiIz0xeN/l+7BZW4loLQktdE8OcX70C0t23rVtSDgUgmLtwg5cz/8J/tQpjz0t9uOe8fNSp5hsiPaeEXhajlANUid1kP0bufppRJi/3+5q8mgUP9wjGhymVTEiO/Fr6bTJurAo7dVHP3Rq0oefsRrS2vVuD6jJy4Fyl56NtEpKM0dwDMaIolJ79A8CiIxBxiAFqPJbTFRRnrYgIh/JTTFVpU5vRB1BbwhufuLFDPmmaVuML1QsjTWVh0LqOLJFcSh729PVEWs2V1fgHe8HyPxUlXZr7qAlAxrLw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=sony.com; dmarc=pass action=none header.from=sony.com;
 dkim=pass header.d=sony.com; arc=none
Received: from TY0PR04MB6328.apcprd04.prod.outlook.com (2603:1096:400:279::9)
 by SEYPR04MB7362.apcprd04.prod.outlook.com (2603:1096:101:1a6::12) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.7362.34; Mon, 11 Mar
 2024 04:25:03 +0000
Received: from TY0PR04MB6328.apcprd04.prod.outlook.com
 ([fe80::c5b0:d335:658e:20bd]) by TY0PR04MB6328.apcprd04.prod.outlook.com
 ([fe80::c5b0:d335:658e:20bd%7]) with mapi id 15.20.7362.031; Mon, 11 Mar 2024
 04:25:03 +0000
From: "Yuezhang.Mo@sony.com" <Yuezhang.Mo@sony.com>
To: "linkinjeon@kernel.org" <linkinjeon@kernel.org>,
        "sj1557.seo@samsung.com"
	<sj1557.seo@samsung.com>
CC: "linux-fsdevel@vger.kernel.org" <linux-fsdevel@vger.kernel.org>,
        "Andy.Wu@sony.com" <Andy.Wu@sony.com>,
        "Wataru.Aoyama@sony.com"
	<Wataru.Aoyama@sony.com>
Subject: [PATCH v3 04/10] exfat: convert exfat_remove_entries() to use dentry
 cache
Thread-Topic: [PATCH v3 04/10] exfat: convert exfat_remove_entries() to use
 dentry cache
Thread-Index: AdiooMwbmTYcUEcLR5WCicuFtdV3d3KyWQLA
Date: Mon, 11 Mar 2024 04:25:03 +0000
Message-ID: 
 <TY0PR04MB63280C859F8DC1D76933EFF081242@TY0PR04MB6328.apcprd04.prod.outlook.com>
Accept-Language: zh-CN, en-US
Content-Language: zh-CN
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-ms-publictraffictype: Email
x-ms-traffictypediagnostic: TY0PR04MB6328:EE_|SEYPR04MB7362:EE_
x-ms-office365-filtering-correlation-id: 014e181d-7ed4-4d86-0d1e-08dc4183391c
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: 
 Saix5ylSFmtuFxj7jiU566PbivK28V4DAmWVnu7MVBfkppaUKoL82pRuKiZXbRDhLJF3qn9ISzWIEyMvSXUIaQ7Q95lYCJ8xGFQhP0PcRAuogi1JKKSEJjJ2HJIWaGnp1mnjD5s0/BRphWd+gqXH5MdRxbMjZmpB+t1d653u5TlH+HGP60kbpInozh0IEKDc5hfXSyOTD2WFVKa541TmtzCxpbeSHwBHndEFdwsLKKWydRet/73rlAZqoNGanFQTpZA2+CYKNpGGtQkxAAaw7ETbj74gBd8bLDnF2a5fxlDeyK5QFEtvkVzYOfV7QghskViHlap4Xa/jqp5C4wkajRS2rXioFHWV+qbdAcu0SjTogMsjTc3NUjzX3RJ3kuu6uQ9d05lFNIqwJkwGbgc0odBtY2AeQFeN1NVv/pwEr+cp5jJWJS8lnmUgNuupUGUmXkS9q6QLvmwFMxiTQXhg/uqwVPDIKqAs+8YK/OfQxAUvHniv8fd2COAps3iaAeu5mXg1j9GdeiwWZyi1eeslzqRZCAiGx69LaKMM3NwrIfSXrImrCVqxycJ+HbPLgKhI0+W3hm6v/1LKhBYBWIXqOf7eCfk1wjKw6PnRdumB6UII0lHtbWjboTDrbesN31oUyPbfg3FWnOhnnlAsp+MKBhi8GMAR76ZuLX5jHie7p2N1OiwMrZbwxiyYUIPUTF7N7d/rQEWeOZ2UgyE6LYKTZeMyWEyiPo3mXNakt6pwp9M=
x-forefront-antispam-report: 
 CIP:255.255.255.255;CTRY:;LANG:zh-cn;SCL:1;SRV:;IPV:NLI;SFV:NSPM;H:TY0PR04MB6328.apcprd04.prod.outlook.com;PTR:;CAT:NONE;SFS:(13230031)(1800799015)(376005)(38070700009);DIR:OUT;SFP:1101;
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0: 
 =?utf-8?B?SngzOWFjcHh5ekpta0h0bjhBc3pkTGJMZHJvVk5wNi9hQW9KRktha3FtUmxs?=
 =?utf-8?B?OXpUTzR6S1BjVmwxbkQ4dGFSdm9yV3N2K056TCtsNjZid01nV3dEVVV4eDh2?=
 =?utf-8?B?SDNHd3kyVDNLeUJsaUFzNkdKc0NvUU5vQkRsc1Y3TFVnU2VONGFHTzAxVjE3?=
 =?utf-8?B?UXdTdktIdkRBeDFEcThvVlN4T1pBUm1na3EyQnFDWjhFQkFPcHRTaDNOZnNW?=
 =?utf-8?B?TXRMcTVxNEhIWC9VdnJLK3BjVzloQi9BQUYwclorbmx2VjZHUHFzQU92RjRv?=
 =?utf-8?B?RzJCMDExOWt1NlpqTUd6aGpWYmxNRDZLcG1wNWpGUEIrbHFLU2tIVHlSUnJ6?=
 =?utf-8?B?Y2g4dGdxb1NxcjBUa1N4bFpFSmdRUmxnN1QrWWVLbFI3MFBaN2ZkbUhzSEti?=
 =?utf-8?B?TjhLNXRLb2RKa21CSjF1WU1LdU95WGhmQUo0dHZSVlI1Q24vbDQwSnVLT20y?=
 =?utf-8?B?VjlTNTFBcTF6Q0hSeVFUditWTnE5QjFqTFpSb1BNRGtJWHRnTkNTT1IrM3ZW?=
 =?utf-8?B?SW5HK0dyMFVTcnV6S2pCcTQ5T3N4SXFyTkhxRTRGNmE0VldlZDhVMGd6VjFO?=
 =?utf-8?B?T3hhRDdOc1FNL3UwVytWRzF1Tk0ySEcwZ1J2aHV4Tm8yZEh4bSs3RFZZa0dH?=
 =?utf-8?B?N1N6clE5SS9CMVJIQllwY0UraXJYZGxTcjZicDBKblBZSjFIS3pGbE9YbEJJ?=
 =?utf-8?B?dk1ybnhlUGFKOG1tT0ZndHA3MjB5eWZqTTc4VDZ3M1ZqbmNveHhEMTlTT1BC?=
 =?utf-8?B?Z05aZU5jVTg4QWlPaFA2N3lURzNvTmJGZWVhSlBpMlE0UXZwemxKdExWSmF1?=
 =?utf-8?B?VlJoTWdGT1dydXdUVDYrcmY5R0JGUTJmY3E2TXRrR3lmUE1sdUZxZnZMdVpM?=
 =?utf-8?B?cDFzQVY5RHYzclpPT2lHMHdpaGlqMnVBVkt5SDVGM0dxSjhlV2JHSGFWdU1T?=
 =?utf-8?B?ME1pY2NxL0Z1MjF0VDR5aDNnYnBaMUdUdkFXbHgxZWphNlV1Yk54WU5NSWw5?=
 =?utf-8?B?eFpuTGNOSnFnN1MyalpteGQxRCtLOENIcDdFNzU0eDlMOFFzMDZOMWpXQ3ho?=
 =?utf-8?B?aVNFS2k5R3h5TDE5N1FRTWlKUlNyQndkdTBqWnFnYXZ3eFFTMnFmQUdibTVq?=
 =?utf-8?B?U0h4ZTVXWGdWeUxpUU9iek96OTdkTjI3aHBwSEpUeDJ1eUxJVjJpNmxMTHdz?=
 =?utf-8?B?L3FUYXJPQm9ZUG8wUTlmdnVkV0hSaUFuVHFhKzlNM3VXMlVKNU50R2dXdzFl?=
 =?utf-8?B?UGZHdThxT29JOVptR0tyYVE3M2RCWXUxUEQxM1UxMnZtUEZEdnNXeG5zODY3?=
 =?utf-8?B?SFEwR3ZPQXpDN1NrTmx5UnFJdHAvN2JvY09UelZWUmwxV2IzYldENlVRSURk?=
 =?utf-8?B?ekZFQWdpNkhMUTlPMFpLdGVCMysyU3RDa0JjMFdrbTJyMjRLdE1UOGVtUEV3?=
 =?utf-8?B?Rkl4WDlPODBMVGNBMmpBTkgrbjhCWWRJdkpySTc0eEw3ODBXcnNIeXdsSUVo?=
 =?utf-8?B?RXY0ZXphRDVWNk96T0xDRERGM1YyT3F0N1NPVFNxOXBLU000V3RHUVdMMjJ6?=
 =?utf-8?B?YnVLMGN4MG44VGl2SlNGeC9pUGVJU1FiZnI4WUhhTGNnZ1JZT2d0Zyt2Z3RU?=
 =?utf-8?B?d3M1aXlrUkkyZFQrd3p3ankxRkpIS2RIUDlxaTVNVDVNYmxEVzZGWDFXdXY4?=
 =?utf-8?B?d1VMdFNCTG95cEh4YjF2bkFmNjRFSXNMa3VHSThBQWxpb1dZZUxLdDZaREg4?=
 =?utf-8?B?WnVRMDhqOE9wRHhYOFVhRXdXYktVRUhkMGVDVktyOGtYeEZXRy9JM3BnSXl3?=
 =?utf-8?B?L29NOWlzdWk1cTkraEFPZDNiWCtYbnFJWU9jUjJYd0NsR1ZIWFRBREl1Wmxw?=
 =?utf-8?B?MFZ2bnVjSnFIVFM0R2dqbFRHRjM5anBncUR3cmpGd3VPdThKenFiQnZoTzN0?=
 =?utf-8?B?b0xGTzZ4aFczMDI4VFVablR1M3pHUE51NHZCYUVZUkFjSW9PUkhCcExVUHhu?=
 =?utf-8?B?SFoyQUpTRHJjQ2dSWkwwY2lRRVorNzhlejRHZTVDeUVXSXJDU0hDWGRuOXlv?=
 =?utf-8?B?VitoM1RadDR5M3huWTVGWVRTdDljMDJHM21DZ2szUkUrRzk5aWxMWFZTQWds?=
 =?utf-8?Q?7o9gTL5q4f8MJq8AC9p9kGWxD?=
Precedence: bulk
X-Mailing-List: linux-fsdevel@vger.kernel.org
List-Id: <linux-fsdevel.vger.kernel.org>
List-Subscribe: <mailto:linux-fsdevel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-fsdevel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
X-MS-Exchange-AntiSpam-ExternalHop-MessageData-ChunkCount: 1
X-MS-Exchange-AntiSpam-ExternalHop-MessageData-0: 
	4HFiDbBQo7DpqAfytbVDx7WGwYNlR+sgFtS7GQLRsQIVTVg5vF0ZEtKDqw4PMEt9H52PksDqyLRmPRGa9vmuOz2iGDKu8ehNL3akOibd7DZXXUCOxUBWL8sGNce1k5IJdSAzX6D2IhZ0SAwsg/hGK03uK7DmfitRTjS1BLyVvjkAbZr4bnkl2RTq11rN/f/r9vh3epbFlPx0lRtnJ4dHy0RlIe2Z8RPtxnkZ2s/aWHQcWdf/IyBJqcDhkXtkoC7Qx1cN7o9aPNQgqHL2CQxmI5Xjs2+KLUicH/hSQzPignzCZMVqpdImLAEWGSk3Px85wapRJw/BdTRQCIKO3lKiNrrCDDjQPmDr8sdCymZz9TSS+IZFxOacOSftc9ln3umTUfzYHZXMKojMzepFlnGU3T1reT0ciWkv9JWRHpI3GriweQ16g+huQVYvtujbn4gt48rgHbmoG0ixmo/P2O56aVEev7VuMXOE4AbfijmwFYlFMC6LDxSmMy3DeD2jSEzw4zamqct8HbfOgY/PzMFyBpY+ro5cTWmbR4axGm5A9gZDh6o+Mb1MOZtw4HQWN0KRxERq7kFDy42TFWwalx5qSQhBuu1uk/8MUi1ux4vNS9gZoMjT8mravtRRnYA6nt1d
X-OriginatorOrg: sony.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: TY0PR04MB6328.apcprd04.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 014e181d-7ed4-4d86-0d1e-08dc4183391c
X-MS-Exchange-CrossTenant-originalarrivaltime: 11 Mar 2024 04:25:03.4278
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 66c65d8a-9158-4521-a2d8-664963db48e4
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: BaCDr/zUkKmEr4Y6iftBaDm0lnmDloCgLGsHRdQE2H+aXyNDWHRRSX6Fjo7VgNACB3asWVVmChdQ6tAAaJqm2A==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: SEYPR04MB7362
X-Proofpoint-ORIG-GUID: DFGCXgGAZrO94Aa1ekzHn9cYLWBOeINI
X-Proofpoint-GUID: DFGCXgGAZrO94Aa1ekzHn9cYLWBOeINI
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
X-Sony-Outbound-GUID: DFGCXgGAZrO94Aa1ekzHn9cYLWBOeINI
X-Proofpoint-Virus-Version: vendor=baseguard
 engine=ICAP:2.0.272,Aquarius:18.0.1011,Hydra:6.0.619,FMLib:17.11.176.26
 definitions=2024-03-11_01,2024-03-06_01,2023-05-22_02

QmVmb3JlIHRoaXMgY29udmVyc2lvbiwgaW4gZXhmYXRfcmVtb3ZlX2VudHJpZXMoKSwgdG8gbWFy
ayB0aGUNCmRlbnRyaWVzIGluIGEgZGVudHJ5IHNldCBhcyBkZWxldGVkLCB0aGUgc3luYyB0aW1l
cyBpcyBlcXVhbHMNCnRoZSBkZW50cnkgbnVtYmVycyBpZiAnZGlyc3luYycgb3IgJ3N5bmMnIGlz
IGVuYWJsZWQuDQpUaGF0IGFmZmVjdHMgbm90IG9ubHkgcGVyZm9ybWFuY2UgYnV0IGFsc28gZGV2
aWNlIGxpZmUuDQoNCkFmdGVyIHRoaXMgY29udmVyc2lvbiwgb25seSBuZWVkcyB0byBiZSBzeW5j
aHJvbml6ZWQgb25jZSBpZg0KJ2RpcnN5bmMnIG9yICdzeW5jJyBpcyBlbmFibGVkLg0KDQpTaWdu
ZWQtb2ZmLWJ5OiBZdWV6aGFuZyBNbyA8WXVlemhhbmcuTW9Ac29ueS5jb20+DQpSZXZpZXdlZC1i
eTogQW5keSBXdSA8QW5keS5XdUBzb255LmNvbT4NClJldmlld2VkLWJ5OiBBb3lhbWEgV2F0YXJ1
IDx3YXRhcnUuYW95YW1hQHNvbnkuY29tPg0KLS0tDQogZnMvZXhmYXQvZGlyLmMgICAgICB8ICAx
NyArKy0tDQogZnMvZXhmYXQvZXhmYXRfZnMuaCB8ICAgNCArLQ0KIGZzL2V4ZmF0L25hbWVpLmMg
ICAgfCAxODQgKysrKysrKysrKysrKysrKysrKystLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAz
IGZpbGVzIGNoYW5nZWQsIDkwIGluc2VydGlvbnMoKyksIDExNSBkZWxldGlvbnMoLSkNCg0KZGlm
ZiAtLWdpdCBhL2ZzL2V4ZmF0L2Rpci5jIGIvZnMvZXhmYXQvZGlyLmMNCmluZGV4IDFkMjBhYmIw
YjM5Yi4uZDM0YjUwMjkzZTJmIDEwMDY0NA0KLS0tIGEvZnMvZXhmYXQvZGlyLmMNCisrKyBiL2Zz
L2V4ZmF0L2Rpci5jDQpAQCAtNTc3LDI4ICs1NzcsMjMgQEAgaW50IGV4ZmF0X2luaXRfZXh0X2Vu
dHJ5KHN0cnVjdCBpbm9kZSAqaW5vZGUsIHN0cnVjdCBleGZhdF9jaGFpbiAqcF9kaXIsDQogCXJl
dHVybiAwOw0KIH0NCiANCi1pbnQgZXhmYXRfcmVtb3ZlX2VudHJpZXMoc3RydWN0IGlub2RlICpp
bm9kZSwgc3RydWN0IGV4ZmF0X2NoYWluICpwX2RpciwNCi0JCWludCBlbnRyeSwgaW50IG9yZGVy
LCBpbnQgbnVtX2VudHJpZXMpDQordm9pZCBleGZhdF9yZW1vdmVfZW50cmllcyhzdHJ1Y3QgaW5v
ZGUgKmlub2RlLCBzdHJ1Y3QgZXhmYXRfZW50cnlfc2V0X2NhY2hlICplcywNCisJCWludCBvcmRl
cikNCiB7DQotCXN0cnVjdCBzdXBlcl9ibG9jayAqc2IgPSBpbm9kZS0+aV9zYjsNCiAJaW50IGk7
DQogCXN0cnVjdCBleGZhdF9kZW50cnkgKmVwOw0KLQlzdHJ1Y3QgYnVmZmVyX2hlYWQgKmJoOw0K
IA0KLQlmb3IgKGkgPSBvcmRlcjsgaSA8IG51bV9lbnRyaWVzOyBpKyspIHsNCi0JCWVwID0gZXhm
YXRfZ2V0X2RlbnRyeShzYiwgcF9kaXIsIGVudHJ5ICsgaSwgJmJoKTsNCi0JCWlmICghZXApDQot
CQkJcmV0dXJuIC1FSU87DQorCWZvciAoaSA9IG9yZGVyOyBpIDwgZXMtPm51bV9lbnRyaWVzOyBp
KyspIHsNCisJCWVwID0gZXhmYXRfZ2V0X2RlbnRyeV9jYWNoZWQoZXMsIGkpOw0KIA0KIAkJaWYg
KGV4ZmF0X2dldF9lbnRyeV90eXBlKGVwKSAmIFRZUEVfQkVOSUdOX1NFQykNCiAJCQlleGZhdF9m
cmVlX2Jlbmlnbl9zZWNvbmRhcnlfY2x1c3RlcnMoaW5vZGUsIGVwKTsNCiANCiAJCWV4ZmF0X3Nl
dF9lbnRyeV90eXBlKGVwLCBUWVBFX0RFTEVURUQpOw0KLQkJZXhmYXRfdXBkYXRlX2JoKGJoLCBJ
U19ESVJTWU5DKGlub2RlKSk7DQotCQlicmVsc2UoYmgpOw0KIAl9DQogDQotCXJldHVybiAwOw0K
KwlpZiAob3JkZXIgPCBlcy0+bnVtX2VudHJpZXMpDQorCQllcy0+bW9kaWZpZWQgPSB0cnVlOw0K
IH0NCiANCiB2b2lkIGV4ZmF0X3VwZGF0ZV9kaXJfY2hrc3VtX3dpdGhfZW50cnlfc2V0KHN0cnVj
dCBleGZhdF9lbnRyeV9zZXRfY2FjaGUgKmVzKQ0KZGlmZiAtLWdpdCBhL2ZzL2V4ZmF0L2V4ZmF0
X2ZzLmggYi9mcy9leGZhdC9leGZhdF9mcy5oDQppbmRleCA3MWI5MzFjZjg0YzMuLmE4MjcxMjQ4
Zjg1NyAxMDA2NDQNCi0tLSBhL2ZzL2V4ZmF0L2V4ZmF0X2ZzLmgNCisrKyBiL2ZzL2V4ZmF0L2V4
ZmF0X2ZzLmgNCkBAIC00ODQsOCArNDg0LDggQEAgdm9pZCBleGZhdF9pbml0X2Rpcl9lbnRyeShz
dHJ1Y3QgZXhmYXRfZW50cnlfc2V0X2NhY2hlICplcywNCiAJCXVuc2lnbmVkIGxvbmcgbG9uZyBz
aXplLCBzdHJ1Y3QgdGltZXNwZWM2NCAqdHMpOw0KIGludCBleGZhdF9pbml0X2V4dF9lbnRyeShz
dHJ1Y3QgaW5vZGUgKmlub2RlLCBzdHJ1Y3QgZXhmYXRfY2hhaW4gKnBfZGlyLA0KIAkJaW50IGVu
dHJ5LCBpbnQgbnVtX2VudHJpZXMsIHN0cnVjdCBleGZhdF91bmlfbmFtZSAqcF91bmluYW1lKTsN
Ci1pbnQgZXhmYXRfcmVtb3ZlX2VudHJpZXMoc3RydWN0IGlub2RlICppbm9kZSwgc3RydWN0IGV4
ZmF0X2NoYWluICpwX2RpciwNCi0JCWludCBlbnRyeSwgaW50IG9yZGVyLCBpbnQgbnVtX2VudHJp
ZXMpOw0KK3ZvaWQgZXhmYXRfcmVtb3ZlX2VudHJpZXMoc3RydWN0IGlub2RlICppbm9kZSwgc3Ry
dWN0IGV4ZmF0X2VudHJ5X3NldF9jYWNoZSAqZXMsDQorCQlpbnQgb3JkZXIpOw0KIGludCBleGZh
dF91cGRhdGVfZGlyX2Noa3N1bShzdHJ1Y3QgaW5vZGUgKmlub2RlLCBzdHJ1Y3QgZXhmYXRfY2hh
aW4gKnBfZGlyLA0KIAkJaW50IGVudHJ5KTsNCiB2b2lkIGV4ZmF0X3VwZGF0ZV9kaXJfY2hrc3Vt
X3dpdGhfZW50cnlfc2V0KHN0cnVjdCBleGZhdF9lbnRyeV9zZXRfY2FjaGUgKmVzKTsNCmRpZmYg
LS1naXQgYS9mcy9leGZhdC9uYW1laS5jIGIvZnMvZXhmYXQvbmFtZWkuYw0KaW5kZXggMDc1MDZm
Mzg4MmJiLi5mNTZlMjIzYjliOGYgMTAwNjQ0DQotLS0gYS9mcy9leGZhdC9uYW1laS5jDQorKysg
Yi9mcy9leGZhdC9uYW1laS5jDQpAQCAtODAzLDEyICs4MDMsMTEgQEAgc3RhdGljIHN0cnVjdCBk
ZW50cnkgKmV4ZmF0X2xvb2t1cChzdHJ1Y3QgaW5vZGUgKmRpciwgc3RydWN0IGRlbnRyeSAqZGVu
dHJ5LA0KIHN0YXRpYyBpbnQgZXhmYXRfdW5saW5rKHN0cnVjdCBpbm9kZSAqZGlyLCBzdHJ1Y3Qg
ZGVudHJ5ICpkZW50cnkpDQogew0KIAlzdHJ1Y3QgZXhmYXRfY2hhaW4gY2RpcjsNCi0Jc3RydWN0
IGV4ZmF0X2RlbnRyeSAqZXA7DQogCXN0cnVjdCBzdXBlcl9ibG9jayAqc2IgPSBkaXItPmlfc2I7
DQogCXN0cnVjdCBpbm9kZSAqaW5vZGUgPSBkZW50cnktPmRfaW5vZGU7DQogCXN0cnVjdCBleGZh
dF9pbm9kZV9pbmZvICplaSA9IEVYRkFUX0koaW5vZGUpOw0KLQlzdHJ1Y3QgYnVmZmVyX2hlYWQg
KmJoOw0KLQlpbnQgbnVtX2VudHJpZXMsIGVudHJ5LCBlcnIgPSAwOw0KKwlzdHJ1Y3QgZXhmYXRf
ZW50cnlfc2V0X2NhY2hlIGVzOw0KKwlpbnQgZW50cnksIGVyciA9IDA7DQogDQogCW11dGV4X2xv
Y2soJkVYRkFUX1NCKHNiKS0+c19sb2NrKTsNCiAJZXhmYXRfY2hhaW5fZHVwKCZjZGlyLCAmZWkt
PmRpcik7DQpAQCAtODE5LDI2ICs4MTgsMjAgQEAgc3RhdGljIGludCBleGZhdF91bmxpbmsoc3Ry
dWN0IGlub2RlICpkaXIsIHN0cnVjdCBkZW50cnkgKmRlbnRyeSkNCiAJCWdvdG8gdW5sb2NrOw0K
IAl9DQogDQotCWVwID0gZXhmYXRfZ2V0X2RlbnRyeShzYiwgJmNkaXIsIGVudHJ5LCAmYmgpOw0K
LQlpZiAoIWVwKSB7DQotCQllcnIgPSAtRUlPOw0KLQkJZ290byB1bmxvY2s7DQotCX0NCi0JbnVt
X2VudHJpZXMgPSBleGZhdF9jb3VudF9leHRfZW50cmllcyhzYiwgJmNkaXIsIGVudHJ5LCBlcCk7
DQotCWlmIChudW1fZW50cmllcyA8IDApIHsNCisJZXJyID0gZXhmYXRfZ2V0X2RlbnRyeV9zZXQo
JmVzLCBzYiwgJmNkaXIsIGVudHJ5LCBFU19BTExfRU5UUklFUyk7DQorCWlmIChlcnIpIHsNCiAJ
CWVyciA9IC1FSU87DQotCQlicmVsc2UoYmgpOw0KIAkJZ290byB1bmxvY2s7DQogCX0NCi0JbnVt
X2VudHJpZXMrKzsNCi0JYnJlbHNlKGJoKTsNCiANCiAJZXhmYXRfc2V0X3ZvbHVtZV9kaXJ0eShz
Yik7DQorDQogCS8qIHVwZGF0ZSB0aGUgZGlyZWN0b3J5IGVudHJ5ICovDQotCWlmIChleGZhdF9y
ZW1vdmVfZW50cmllcyhkaXIsICZjZGlyLCBlbnRyeSwgMCwgbnVtX2VudHJpZXMpKSB7DQotCQll
cnIgPSAtRUlPOw0KKwlleGZhdF9yZW1vdmVfZW50cmllcyhpbm9kZSwgJmVzLCBFU19JRFhfRklM
RSk7DQorDQorCWVyciA9IGV4ZmF0X3B1dF9kZW50cnlfc2V0KCZlcywgSVNfRElSU1lOQyhpbm9k
ZSkpOw0KKwlpZiAoZXJyKQ0KIAkJZ290byB1bmxvY2s7DQotCX0NCiANCiAJLyogVGhpcyBkb2Vz
bid0IG1vZGlmeSBlaSAqLw0KIAllaS0+ZGlyLmRpciA9IERJUl9ERUxFVEVEOw0KQEAgLTk1NCwx
MyArOTQ3LDEyIEBAIHN0YXRpYyBpbnQgZXhmYXRfY2hlY2tfZGlyX2VtcHR5KHN0cnVjdCBzdXBl
cl9ibG9jayAqc2IsDQogc3RhdGljIGludCBleGZhdF9ybWRpcihzdHJ1Y3QgaW5vZGUgKmRpciwg
c3RydWN0IGRlbnRyeSAqZGVudHJ5KQ0KIHsNCiAJc3RydWN0IGlub2RlICppbm9kZSA9IGRlbnRy
eS0+ZF9pbm9kZTsNCi0Jc3RydWN0IGV4ZmF0X2RlbnRyeSAqZXA7DQogCXN0cnVjdCBleGZhdF9j
aGFpbiBjZGlyLCBjbHVfdG9fZnJlZTsNCiAJc3RydWN0IHN1cGVyX2Jsb2NrICpzYiA9IGlub2Rl
LT5pX3NiOw0KIAlzdHJ1Y3QgZXhmYXRfc2JfaW5mbyAqc2JpID0gRVhGQVRfU0Ioc2IpOw0KIAlz
dHJ1Y3QgZXhmYXRfaW5vZGVfaW5mbyAqZWkgPSBFWEZBVF9JKGlub2RlKTsNCi0Jc3RydWN0IGJ1
ZmZlcl9oZWFkICpiaDsNCi0JaW50IG51bV9lbnRyaWVzLCBlbnRyeSwgZXJyOw0KKwlzdHJ1Y3Qg
ZXhmYXRfZW50cnlfc2V0X2NhY2hlIGVzOw0KKwlpbnQgZW50cnksIGVycjsNCiANCiAJbXV0ZXhf
bG9jaygmRVhGQVRfU0IoaW5vZGUtPmlfc2IpLT5zX2xvY2spOw0KIA0KQEAgLTk4NCwyNyArOTc2
LDIwIEBAIHN0YXRpYyBpbnQgZXhmYXRfcm1kaXIoc3RydWN0IGlub2RlICpkaXIsIHN0cnVjdCBk
ZW50cnkgKmRlbnRyeSkNCiAJCWdvdG8gdW5sb2NrOw0KIAl9DQogDQotCWVwID0gZXhmYXRfZ2V0
X2RlbnRyeShzYiwgJmNkaXIsIGVudHJ5LCAmYmgpOw0KLQlpZiAoIWVwKSB7DQotCQllcnIgPSAt
RUlPOw0KLQkJZ290byB1bmxvY2s7DQotCX0NCi0NCi0JbnVtX2VudHJpZXMgPSBleGZhdF9jb3Vu
dF9leHRfZW50cmllcyhzYiwgJmNkaXIsIGVudHJ5LCBlcCk7DQotCWlmIChudW1fZW50cmllcyA8
IDApIHsNCisJZXJyID0gZXhmYXRfZ2V0X2RlbnRyeV9zZXQoJmVzLCBzYiwgJmNkaXIsIGVudHJ5
LCBFU19BTExfRU5UUklFUyk7DQorCWlmIChlcnIpIHsNCiAJCWVyciA9IC1FSU87DQotCQlicmVs
c2UoYmgpOw0KIAkJZ290byB1bmxvY2s7DQogCX0NCi0JbnVtX2VudHJpZXMrKzsNCi0JYnJlbHNl
KGJoKTsNCiANCiAJZXhmYXRfc2V0X3ZvbHVtZV9kaXJ0eShzYik7DQotCWVyciA9IGV4ZmF0X3Jl
bW92ZV9lbnRyaWVzKGRpciwgJmNkaXIsIGVudHJ5LCAwLCBudW1fZW50cmllcyk7DQotCWlmIChl
cnIpIHsNCi0JCWV4ZmF0X2VycihzYiwgImZhaWxlZCB0byBleGZhdF9yZW1vdmVfZW50cmllcyA6
IGVyciglZCkiLCBlcnIpOw0KKw0KKwlleGZhdF9yZW1vdmVfZW50cmllcyhpbm9kZSwgJmVzLCBF
U19JRFhfRklMRSk7DQorDQorCWVyciA9IGV4ZmF0X3B1dF9kZW50cnlfc2V0KCZlcywgSVNfRElS
U1lOQyhkaXIpKTsNCisJaWYgKGVycikNCiAJCWdvdG8gdW5sb2NrOw0KLQl9DQorDQogCWVpLT5k
aXIuZGlyID0gRElSX0RFTEVURUQ7DQogDQogCWlub2RlX2luY19pdmVyc2lvbihkaXIpOw0KQEAg
LTEwMzAsMzYgKzEwMTUsNDAgQEAgc3RhdGljIGludCBleGZhdF9yZW5hbWVfZmlsZShzdHJ1Y3Qg
aW5vZGUgKmlub2RlLCBzdHJ1Y3QgZXhmYXRfY2hhaW4gKnBfZGlyLA0KIAkJaW50IG9sZGVudHJ5
LCBzdHJ1Y3QgZXhmYXRfdW5pX25hbWUgKnBfdW5pbmFtZSwNCiAJCXN0cnVjdCBleGZhdF9pbm9k
ZV9pbmZvICplaSkNCiB7DQotCWludCByZXQsIG51bV9vbGRfZW50cmllcywgbnVtX25ld19lbnRy
aWVzOw0KKwlpbnQgcmV0LCBudW1fbmV3X2VudHJpZXM7DQogCXN0cnVjdCBleGZhdF9kZW50cnkg
KmVwb2xkLCAqZXBuZXc7DQogCXN0cnVjdCBzdXBlcl9ibG9jayAqc2IgPSBpbm9kZS0+aV9zYjsN
Ci0Jc3RydWN0IGJ1ZmZlcl9oZWFkICpuZXdfYmgsICpvbGRfYmg7DQorCXN0cnVjdCBidWZmZXJf
aGVhZCAqbmV3X2JoOw0KKwlzdHJ1Y3QgZXhmYXRfZW50cnlfc2V0X2NhY2hlIG9sZF9lczsNCiAJ
aW50IHN5bmMgPSBJU19ESVJTWU5DKGlub2RlKTsNCiANCi0JZXBvbGQgPSBleGZhdF9nZXRfZGVu
dHJ5KHNiLCBwX2Rpciwgb2xkZW50cnksICZvbGRfYmgpOw0KLQlpZiAoIWVwb2xkKQ0KLQkJcmV0
dXJuIC1FSU87DQotDQotCW51bV9vbGRfZW50cmllcyA9IGV4ZmF0X2NvdW50X2V4dF9lbnRyaWVz
KHNiLCBwX2Rpciwgb2xkZW50cnksIGVwb2xkKTsNCi0JaWYgKG51bV9vbGRfZW50cmllcyA8IDAp
DQotCQlyZXR1cm4gLUVJTzsNCi0JbnVtX29sZF9lbnRyaWVzKys7DQotDQogCW51bV9uZXdfZW50
cmllcyA9IGV4ZmF0X2NhbGNfbnVtX2VudHJpZXMocF91bmluYW1lKTsNCiAJaWYgKG51bV9uZXdf
ZW50cmllcyA8IDApDQogCQlyZXR1cm4gbnVtX25ld19lbnRyaWVzOw0KIA0KLQlpZiAobnVtX29s
ZF9lbnRyaWVzIDwgbnVtX25ld19lbnRyaWVzKSB7DQorCXJldCA9IGV4ZmF0X2dldF9kZW50cnlf
c2V0KCZvbGRfZXMsIHNiLCBwX2Rpciwgb2xkZW50cnksIEVTX0FMTF9FTlRSSUVTKTsNCisJaWYg
KHJldCkgew0KKwkJcmV0ID0gLUVJTzsNCisJCXJldHVybiByZXQ7DQorCX0NCisNCisJZXBvbGQg
PSBleGZhdF9nZXRfZGVudHJ5X2NhY2hlZCgmb2xkX2VzLCBFU19JRFhfRklMRSk7DQorDQorCWlm
IChvbGRfZXMubnVtX2VudHJpZXMgPCBudW1fbmV3X2VudHJpZXMpIHsNCiAJCWludCBuZXdlbnRy
eTsNCiANCiAJCW5ld2VudHJ5ID0NCiAJCQlleGZhdF9maW5kX2VtcHR5X2VudHJ5KGlub2RlLCBw
X2RpciwgbnVtX25ld19lbnRyaWVzKTsNCi0JCWlmIChuZXdlbnRyeSA8IDApDQotCQkJcmV0dXJu
IG5ld2VudHJ5OyAvKiAtRUlPIG9yIC1FTk9TUEMgKi8NCisJCWlmIChuZXdlbnRyeSA8IDApIHsN
CisJCQlyZXQgPSBuZXdlbnRyeTsgLyogLUVJTyBvciAtRU5PU1BDICovDQorCQkJZ290byBwdXRf
b2xkX2VzOw0KKwkJfQ0KIA0KIAkJZXBuZXcgPSBleGZhdF9nZXRfZGVudHJ5KHNiLCBwX2Rpciwg
bmV3ZW50cnksICZuZXdfYmgpOw0KLQkJaWYgKCFlcG5ldykNCi0JCQlyZXR1cm4gLUVJTzsNCisJ
CWlmICghZXBuZXcpIHsNCisJCQlyZXQgPSAtRUlPOw0KKwkJCWdvdG8gcHV0X29sZF9lczsNCisJ
CX0NCiANCiAJCSplcG5ldyA9ICplcG9sZDsNCiAJCWlmIChleGZhdF9nZXRfZW50cnlfdHlwZShl
cG5ldykgPT0gVFlQRV9GSUxFKSB7DQpAQCAtMTA2NywzMCArMTA1NiwyNSBAQCBzdGF0aWMgaW50
IGV4ZmF0X3JlbmFtZV9maWxlKHN0cnVjdCBpbm9kZSAqaW5vZGUsIHN0cnVjdCBleGZhdF9jaGFp
biAqcF9kaXIsDQogCQkJZWktPmF0dHIgfD0gRVhGQVRfQVRUUl9BUkNISVZFOw0KIAkJfQ0KIAkJ
ZXhmYXRfdXBkYXRlX2JoKG5ld19iaCwgc3luYyk7DQotCQlicmVsc2Uob2xkX2JoKTsNCiAJCWJy
ZWxzZShuZXdfYmgpOw0KIA0KLQkJZXBvbGQgPSBleGZhdF9nZXRfZGVudHJ5KHNiLCBwX2Rpciwg
b2xkZW50cnkgKyAxLCAmb2xkX2JoKTsNCi0JCWlmICghZXBvbGQpDQotCQkJcmV0dXJuIC1FSU87
DQorCQllcG9sZCA9IGV4ZmF0X2dldF9kZW50cnlfY2FjaGVkKCZvbGRfZXMsIEVTX0lEWF9TVFJF
QU0pOw0KIAkJZXBuZXcgPSBleGZhdF9nZXRfZGVudHJ5KHNiLCBwX2RpciwgbmV3ZW50cnkgKyAx
LCAmbmV3X2JoKTsNCiAJCWlmICghZXBuZXcpIHsNCi0JCQlicmVsc2Uob2xkX2JoKTsNCi0JCQly
ZXR1cm4gLUVJTzsNCisJCQlyZXQgPSAtRUlPOw0KKwkJCWdvdG8gcHV0X29sZF9lczsNCiAJCX0N
CiANCiAJCSplcG5ldyA9ICplcG9sZDsNCiAJCWV4ZmF0X3VwZGF0ZV9iaChuZXdfYmgsIHN5bmMp
Ow0KLQkJYnJlbHNlKG9sZF9iaCk7DQogCQlicmVsc2UobmV3X2JoKTsNCiANCiAJCXJldCA9IGV4
ZmF0X2luaXRfZXh0X2VudHJ5KGlub2RlLCBwX2RpciwgbmV3ZW50cnksDQogCQkJbnVtX25ld19l
bnRyaWVzLCBwX3VuaW5hbWUpOw0KIAkJaWYgKHJldCkNCi0JCQlyZXR1cm4gcmV0Ow0KKwkJCWdv
dG8gcHV0X29sZF9lczsNCiANCi0JCWV4ZmF0X3JlbW92ZV9lbnRyaWVzKGlub2RlLCBwX2Rpciwg
b2xkZW50cnksIDAsDQotCQkJbnVtX29sZF9lbnRyaWVzKTsNCisJCWV4ZmF0X3JlbW92ZV9lbnRy
aWVzKGlub2RlLCAmb2xkX2VzLCBFU19JRFhfRklMRSk7DQogCQllaS0+ZGlyID0gKnBfZGlyOw0K
IAkJZWktPmVudHJ5ID0gbmV3ZW50cnk7DQogCX0gZWxzZSB7DQpAQCAtMTA5OCwzNyArMTA4Miwy
OSBAQCBzdGF0aWMgaW50IGV4ZmF0X3JlbmFtZV9maWxlKHN0cnVjdCBpbm9kZSAqaW5vZGUsIHN0
cnVjdCBleGZhdF9jaGFpbiAqcF9kaXIsDQogCQkJZXBvbGQtPmRlbnRyeS5maWxlLmF0dHIgfD0g
Y3B1X3RvX2xlMTYoRVhGQVRfQVRUUl9BUkNISVZFKTsNCiAJCQllaS0+YXR0ciB8PSBFWEZBVF9B
VFRSX0FSQ0hJVkU7DQogCQl9DQotCQlleGZhdF91cGRhdGVfYmgob2xkX2JoLCBzeW5jKTsNCi0J
CWJyZWxzZShvbGRfYmgpOw0KIAkJcmV0ID0gZXhmYXRfaW5pdF9leHRfZW50cnkoaW5vZGUsIHBf
ZGlyLCBvbGRlbnRyeSwNCiAJCQludW1fbmV3X2VudHJpZXMsIHBfdW5pbmFtZSk7DQogCQlpZiAo
cmV0KQ0KLQkJCXJldHVybiByZXQ7DQorCQkJZ290byBwdXRfb2xkX2VzOw0KIA0KLQkJZXhmYXRf
cmVtb3ZlX2VudHJpZXMoaW5vZGUsIHBfZGlyLCBvbGRlbnRyeSwgbnVtX25ld19lbnRyaWVzLA0K
LQkJCW51bV9vbGRfZW50cmllcyk7DQorCQlleGZhdF9yZW1vdmVfZW50cmllcyhpbm9kZSwgJm9s
ZF9lcywgbnVtX25ld19lbnRyaWVzKTsNCiAJfQ0KLQlyZXR1cm4gMDsNCisJcmV0dXJuIGV4ZmF0
X3B1dF9kZW50cnlfc2V0KCZvbGRfZXMsIHN5bmMpOw0KKw0KK3B1dF9vbGRfZXM6DQorCWV4ZmF0
X3B1dF9kZW50cnlfc2V0KCZvbGRfZXMsIGZhbHNlKTsNCisJcmV0dXJuIHJldDsNCiB9DQogDQog
c3RhdGljIGludCBleGZhdF9tb3ZlX2ZpbGUoc3RydWN0IGlub2RlICppbm9kZSwgc3RydWN0IGV4
ZmF0X2NoYWluICpwX29sZGRpciwNCiAJCWludCBvbGRlbnRyeSwgc3RydWN0IGV4ZmF0X2NoYWlu
ICpwX25ld2RpciwNCiAJCXN0cnVjdCBleGZhdF91bmlfbmFtZSAqcF91bmluYW1lLCBzdHJ1Y3Qg
ZXhmYXRfaW5vZGVfaW5mbyAqZWkpDQogew0KLQlpbnQgcmV0LCBuZXdlbnRyeSwgbnVtX25ld19l
bnRyaWVzLCBudW1fb2xkX2VudHJpZXM7DQorCWludCByZXQsIG5ld2VudHJ5LCBudW1fbmV3X2Vu
dHJpZXM7DQogCXN0cnVjdCBleGZhdF9kZW50cnkgKmVwbW92LCAqZXBuZXc7DQogCXN0cnVjdCBz
dXBlcl9ibG9jayAqc2IgPSBpbm9kZS0+aV9zYjsNCi0Jc3RydWN0IGJ1ZmZlcl9oZWFkICptb3Zf
YmgsICpuZXdfYmg7DQotDQotCWVwbW92ID0gZXhmYXRfZ2V0X2RlbnRyeShzYiwgcF9vbGRkaXIs
IG9sZGVudHJ5LCAmbW92X2JoKTsNCi0JaWYgKCFlcG1vdikNCi0JCXJldHVybiAtRUlPOw0KLQ0K
LQludW1fb2xkX2VudHJpZXMgPSBleGZhdF9jb3VudF9leHRfZW50cmllcyhzYiwgcF9vbGRkaXIs
IG9sZGVudHJ5LA0KLQkJZXBtb3YpOw0KLQlpZiAobnVtX29sZF9lbnRyaWVzIDwgMCkNCi0JCXJl
dHVybiAtRUlPOw0KLQludW1fb2xkX2VudHJpZXMrKzsNCisJc3RydWN0IGJ1ZmZlcl9oZWFkICpu
ZXdfYmg7DQorCXN0cnVjdCBleGZhdF9lbnRyeV9zZXRfY2FjaGUgbW92X2VzOw0KIA0KIAludW1f
bmV3X2VudHJpZXMgPSBleGZhdF9jYWxjX251bV9lbnRyaWVzKHBfdW5pbmFtZSk7DQogCWlmIChu
dW1fbmV3X2VudHJpZXMgPCAwKQ0KQEAgLTExMzgsMzEgKzExMTQsMzUgQEAgc3RhdGljIGludCBl
eGZhdF9tb3ZlX2ZpbGUoc3RydWN0IGlub2RlICppbm9kZSwgc3RydWN0IGV4ZmF0X2NoYWluICpw
X29sZGRpciwNCiAJaWYgKG5ld2VudHJ5IDwgMCkNCiAJCXJldHVybiBuZXdlbnRyeTsgLyogLUVJ
TyBvciAtRU5PU1BDICovDQogDQotCWVwbmV3ID0gZXhmYXRfZ2V0X2RlbnRyeShzYiwgcF9uZXdk
aXIsIG5ld2VudHJ5LCAmbmV3X2JoKTsNCi0JaWYgKCFlcG5ldykNCisJcmV0ID0gZXhmYXRfZ2V0
X2RlbnRyeV9zZXQoJm1vdl9lcywgc2IsIHBfb2xkZGlyLCBvbGRlbnRyeSwNCisJCQlFU19BTExf
RU5UUklFUyk7DQorCWlmIChyZXQpDQogCQlyZXR1cm4gLUVJTzsNCiANCisJZXBtb3YgPSBleGZh
dF9nZXRfZGVudHJ5X2NhY2hlZCgmbW92X2VzLCBFU19JRFhfRklMRSk7DQorCWVwbmV3ID0gZXhm
YXRfZ2V0X2RlbnRyeShzYiwgcF9uZXdkaXIsIG5ld2VudHJ5LCAmbmV3X2JoKTsNCisJaWYgKCFl
cG5ldykgew0KKwkJcmV0ID0gLUVJTzsNCisJCWdvdG8gcHV0X21vdl9lczsNCisJfQ0KKw0KIAkq
ZXBuZXcgPSAqZXBtb3Y7DQogCWlmIChleGZhdF9nZXRfZW50cnlfdHlwZShlcG5ldykgPT0gVFlQ
RV9GSUxFKSB7DQogCQllcG5ldy0+ZGVudHJ5LmZpbGUuYXR0ciB8PSBjcHVfdG9fbGUxNihFWEZB
VF9BVFRSX0FSQ0hJVkUpOw0KIAkJZWktPmF0dHIgfD0gRVhGQVRfQVRUUl9BUkNISVZFOw0KIAl9
DQogCWV4ZmF0X3VwZGF0ZV9iaChuZXdfYmgsIElTX0RJUlNZTkMoaW5vZGUpKTsNCi0JYnJlbHNl
KG1vdl9iaCk7DQogCWJyZWxzZShuZXdfYmgpOw0KIA0KLQllcG1vdiA9IGV4ZmF0X2dldF9kZW50
cnkoc2IsIHBfb2xkZGlyLCBvbGRlbnRyeSArIDEsICZtb3ZfYmgpOw0KLQlpZiAoIWVwbW92KQ0K
LQkJcmV0dXJuIC1FSU87DQorCWVwbW92ID0gZXhmYXRfZ2V0X2RlbnRyeV9jYWNoZWQoJm1vdl9l
cywgRVNfSURYX1NUUkVBTSk7DQogCWVwbmV3ID0gZXhmYXRfZ2V0X2RlbnRyeShzYiwgcF9uZXdk
aXIsIG5ld2VudHJ5ICsgMSwgJm5ld19iaCk7DQogCWlmICghZXBuZXcpIHsNCi0JCWJyZWxzZSht
b3ZfYmgpOw0KLQkJcmV0dXJuIC1FSU87DQorCQlyZXQgPSAtRUlPOw0KKwkJZ290byBwdXRfbW92
X2VzOw0KIAl9DQogDQogCSplcG5ldyA9ICplcG1vdjsNCiAJZXhmYXRfdXBkYXRlX2JoKG5ld19i
aCwgSVNfRElSU1lOQyhpbm9kZSkpOw0KLQlicmVsc2UobW92X2JoKTsNCiAJYnJlbHNlKG5ld19i
aCk7DQogDQogCXJldCA9IGV4ZmF0X2luaXRfZXh0X2VudHJ5KGlub2RlLCBwX25ld2RpciwgbmV3
ZW50cnksIG51bV9uZXdfZW50cmllcywNCkBAIC0xMTcwLDEzICsxMTUwLDE4IEBAIHN0YXRpYyBp
bnQgZXhmYXRfbW92ZV9maWxlKHN0cnVjdCBpbm9kZSAqaW5vZGUsIHN0cnVjdCBleGZhdF9jaGFp
biAqcF9vbGRkaXIsDQogCWlmIChyZXQpDQogCQlyZXR1cm4gcmV0Ow0KIA0KLQlleGZhdF9yZW1v
dmVfZW50cmllcyhpbm9kZSwgcF9vbGRkaXIsIG9sZGVudHJ5LCAwLCBudW1fb2xkX2VudHJpZXMp
Ow0KKwlleGZhdF9yZW1vdmVfZW50cmllcyhpbm9kZSwgJm1vdl9lcywgRVNfSURYX0ZJTEUpOw0K
IA0KIAlleGZhdF9jaGFpbl9zZXQoJmVpLT5kaXIsIHBfbmV3ZGlyLT5kaXIsIHBfbmV3ZGlyLT5z
aXplLA0KIAkJcF9uZXdkaXItPmZsYWdzKTsNCiANCiAJZWktPmVudHJ5ID0gbmV3ZW50cnk7DQot
CXJldHVybiAwOw0KKwlyZXR1cm4gZXhmYXRfcHV0X2RlbnRyeV9zZXQoJm1vdl9lcywgSVNfRElS
U1lOQyhpbm9kZSkpOw0KKw0KK3B1dF9tb3ZfZXM6DQorCWV4ZmF0X3B1dF9kZW50cnlfc2V0KCZt
b3ZfZXMsIGZhbHNlKTsNCisNCisJcmV0dXJuIHJldDsNCiB9DQogDQogLyogcmVuYW1lIG9yIG1v
dmUgYSBvbGQgZmlsZSBpbnRvIGEgbmV3IGZpbGUgKi8NCkBAIC0xMTk0LDcgKzExNzksNiBAQCBz
dGF0aWMgaW50IF9fZXhmYXRfcmVuYW1lKHN0cnVjdCBpbm9kZSAqb2xkX3BhcmVudF9pbm9kZSwN
CiAJc3RydWN0IGV4ZmF0X3NiX2luZm8gKnNiaSA9IEVYRkFUX1NCKHNiKTsNCiAJY29uc3QgdW5z
aWduZWQgY2hhciAqbmV3X3BhdGggPSBuZXdfZGVudHJ5LT5kX25hbWUubmFtZTsNCiAJc3RydWN0
IGlub2RlICpuZXdfaW5vZGUgPSBuZXdfZGVudHJ5LT5kX2lub2RlOw0KLQlpbnQgbnVtX2VudHJp
ZXM7DQogCXN0cnVjdCBleGZhdF9pbm9kZV9pbmZvICpuZXdfZWkgPSBOVUxMOw0KIAl1bnNpZ25l
ZCBpbnQgbmV3X2VudHJ5X3R5cGUgPSBUWVBFX1VOVVNFRDsNCiAJaW50IG5ld19lbnRyeSA9IDA7
DQpAQCAtMTI2NSwyNSArMTI0OSwyMSBAQCBzdGF0aWMgaW50IF9fZXhmYXRfcmVuYW1lKHN0cnVj
dCBpbm9kZSAqb2xkX3BhcmVudF9pbm9kZSwNCiAJCQkJJm5ld2RpciwgJnVuaV9uYW1lLCBlaSk7
DQogDQogCWlmICghcmV0ICYmIG5ld19pbm9kZSkgew0KKwkJc3RydWN0IGV4ZmF0X2VudHJ5X3Nl
dF9jYWNoZSBlczsNCisNCiAJCS8qIGRlbGV0ZSBlbnRyaWVzIG9mIG5ld19kaXIgKi8NCi0JCWVw
ID0gZXhmYXRfZ2V0X2RlbnRyeShzYiwgcF9kaXIsIG5ld19lbnRyeSwgJm5ld19iaCk7DQotCQlp
ZiAoIWVwKSB7DQorCQlyZXQgPSBleGZhdF9nZXRfZGVudHJ5X3NldCgmZXMsIHNiLCBwX2Rpciwg
bmV3X2VudHJ5LA0KKwkJCQlFU19BTExfRU5UUklFUyk7DQorCQlpZiAocmV0KSB7DQogCQkJcmV0
ID0gLUVJTzsNCiAJCQlnb3RvIGRlbF9vdXQ7DQogCQl9DQogDQotCQludW1fZW50cmllcyA9IGV4
ZmF0X2NvdW50X2V4dF9lbnRyaWVzKHNiLCBwX2RpciwgbmV3X2VudHJ5LCBlcCk7DQotCQlpZiAo
bnVtX2VudHJpZXMgPCAwKSB7DQotCQkJcmV0ID0gLUVJTzsNCi0JCQlnb3RvIGRlbF9vdXQ7DQot
CQl9DQotCQlicmVsc2UobmV3X2JoKTsNCisJCWV4ZmF0X3JlbW92ZV9lbnRyaWVzKG5ld19pbm9k
ZSwgJmVzLCBFU19JRFhfRklMRSk7DQogDQotCQlpZiAoZXhmYXRfcmVtb3ZlX2VudHJpZXMobmV3
X2lub2RlLCBwX2RpciwgbmV3X2VudHJ5LCAwLA0KLQkJCQludW1fZW50cmllcyArIDEpKSB7DQot
CQkJcmV0ID0gLUVJTzsNCisJCXJldCA9IGV4ZmF0X3B1dF9kZW50cnlfc2V0KCZlcywgSVNfRElS
U1lOQyhuZXdfaW5vZGUpKTsNCisJCWlmIChyZXQpDQogCQkJZ290byBkZWxfb3V0Ow0KLQkJfQ0K
IA0KIAkJLyogRnJlZSB0aGUgY2x1c3RlcnMgaWYgbmV3X2lub2RlIGlzIGEgZGlyKGFzIGlmIGV4
ZmF0X3JtZGlyKSAqLw0KIAkJaWYgKG5ld19lbnRyeV90eXBlID09IFRZUEVfRElSICYmDQotLSAN
CjIuMzQuMQ0KDQo=

