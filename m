Return-Path: <linux-fsdevel-owner@vger.kernel.org>
X-Original-To: lists+linux-fsdevel@lfdr.de
Delivered-To: lists+linux-fsdevel@lfdr.de
Received: from out1.vger.email (out1.vger.email [IPv6:2620:137:e000::1:20])
	by mail.lfdr.de (Postfix) with ESMTP id 417D8567BF2
	for <lists+linux-fsdevel@lfdr.de>; Wed,  6 Jul 2022 04:35:55 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S230398AbiGFCfQ (ORCPT <rfc822;lists+linux-fsdevel@lfdr.de>);
        Tue, 5 Jul 2022 22:35:16 -0400
Received: from lindbergh.monkeyblade.net ([23.128.96.19]:36204 "EHLO
        lindbergh.monkeyblade.net" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S229485AbiGFCfN (ORCPT
        <rfc822;linux-fsdevel@vger.kernel.org>);
        Tue, 5 Jul 2022 22:35:13 -0400
Received: from mx07-001d1705.pphosted.com (mx07-001d1705.pphosted.com [185.132.183.11])
        by lindbergh.monkeyblade.net (Postfix) with ESMTPS id 884C319286;
        Tue,  5 Jul 2022 19:35:12 -0700 (PDT)
Received: from pps.filterd (m0209324.ppops.net [127.0.0.1])
        by mx08-001d1705.pphosted.com (8.17.1.5/8.17.1.5) with ESMTP id 265NCw1Z027526;
        Wed, 6 Jul 2022 02:34:54 GMT
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=sony.com; h=from : to : cc :
 subject : date : message-id : content-type : mime-version; s=S1;
 bh=VV+AVS9/adkL1RNCzHO0ThPhchYVOuEgeWFzSzN8i38=;
 b=Y25jd3OH+MxuclPSt4FEFhUNEpeu+7h47Ha7Fw2+TVDCHoZqRr7X4CE9bmhxgmI86x+k
 6LKIv3MqHxLbGL+SU1zAVGuLyylOmSaBkBXC9t/ZQ1751EZWeo79biDm1p/up79aELKL
 HbFkIwpkFU81bBpPFTEgih/PHk52sr8UNMRopG9en0zs7ppTTgaVz3NkFW6Q/ZS6QxBM
 dbKjtX8PTen1m4Umz40SlorfQkeA6DeTaOhiatne3APOLyLbzNN2/QVwze5fORBTbmpg
 F+4K1XJ8bm0MHPCKc29BWOjbC97LOrFVpksU/y8aGgShZ6Py97PjyhQegFr92RtRvTIg Gg== 
Received: from apc01-sg2-obe.outbound.protection.outlook.com (mail-sgaapc01lp2113.outbound.protection.outlook.com [104.47.26.113])
        by mx08-001d1705.pphosted.com (PPS) with ESMTPS id 3h4uq2raa7-1
        (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK);
        Wed, 06 Jul 2022 02:34:53 +0000
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=UBseFHacbKhMUTGupz9IGpbcQ0ZdYg8VY6yf9LKFvmNuwe6yBv20BTeIg3NCRAYESKfac2W1IiEDcuA0Wd/lc/Urol19lvaymC3yVEYGKGkiOUKqsjc9mXUb5fsaL7qF34YbUMw61Ey1bhMeqLieYgA4sOtG+QAPG+hEAU/7BG4oMlYz7cczGYWruKMxFQ48vqGXz8hM/4TcFMJLT7N87ucZjyNMCMp7QNTVH1dz0vdGAjE2pQ34SjZajYjPEXLcP9NGE11FWdUiWSVsjrcPda5+muFzoLS+8yaprcpHcrsRjQvAjQe8aPgG/HUdlehE4PbSrcTxrHtMlNxFFg6sQg==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=VV+AVS9/adkL1RNCzHO0ThPhchYVOuEgeWFzSzN8i38=;
 b=VaMD9gRm6BWKoGb2Zr8s7e4LsxNarQtrdboIgnZ9Sv1SwgMMUp7Uz6WeJdyQqzNYzttbzH0u4pRVxUC9FuHXfvr+YeqnwM39AudAhzulD1KDNkcDwhKXeaouPBhWGxmgmdFMF+jtTsCWv3mg+eb2GnuXUNPGbSmjC2b065OhkdQOjNCPkP8ZUvR/w7dUbPt4kjgN2EuH2EKeRCaL6Dtzr9lbsirol6luDNIsr/TRseUzYDU+UT11W8FjeGdXnsHkxWo9kTqYRoZcsyYJEVj/rBTanHKT+cgtMoTAFQcsVkcF4m/QON9k88YpU7HixhgU6rKepYJ0SCzoQpDzI3drxA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=sony.com; dmarc=pass action=none header.from=sony.com;
 dkim=pass header.d=sony.com; arc=none
Received: from SG2PR04MB3899.apcprd04.prod.outlook.com (2603:1096:4:94::11) by
 SEZPR04MB5972.apcprd04.prod.outlook.com (2603:1096:101:65::8) with Microsoft
 SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.5417.15; Wed, 6 Jul 2022 02:34:48 +0000
Received: from SG2PR04MB3899.apcprd04.prod.outlook.com
 ([fe80::9076:c0a7:6016:599a]) by SG2PR04MB3899.apcprd04.prod.outlook.com
 ([fe80::9076:c0a7:6016:599a%6]) with mapi id 15.20.5395.017; Wed, 6 Jul 2022
 02:34:48 +0000
From:   "Yuezhang.Mo@sony.com" <Yuezhang.Mo@sony.com>
To:     Namjae Jeon <linkinjeon@kernel.org>,
        "sj1557.seo@samsung.com" <sj1557.seo@samsung.com>
CC:     "linux-fsdevel@vger.kernel.org" <linux-fsdevel@vger.kernel.org>,
        "linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>,
        "Andy.Wu@sony.com" <Andy.Wu@sony.com>,
        "Wataru.Aoyama@sony.com" <Wataru.Aoyama@sony.com>
Subject: [PATCH v1 1/3] exfat: reuse __exfat_write_inode() to update directory
 entry
Thread-Topic: [PATCH v1 1/3] exfat: reuse __exfat_write_inode() to update
 directory entry
Thread-Index: AdiQ30/QdgNcxH9sSaq73tXNMdE/og==
Date:   Wed, 6 Jul 2022 02:34:48 +0000
Message-ID: <SG2PR04MB3899E46BF128E2E472354B6D81809@SG2PR04MB3899.apcprd04.prod.outlook.com>
Accept-Language: zh-CN, en-US
Content-Language: zh-CN
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator: 
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: f4be08c9-e213-467f-f31d-08da5ef818a4
x-ms-traffictypediagnostic: SEZPR04MB5972:EE_
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: JbT6J/Ly6YgENk3w/Sf5fwgO9Kc+yZpnn8bZlnu58F7mfvkVIm0L+kc5/Hy29zd2xkfgIXzJIRMfo10UupkLPNpsVCaht8TDZF4Uiw0I9EASSb5iczsRfAmBV8aAW5qTzRKhSWQFWXUdh4fgtbe3uN9u7Onqzt8KlKEFCZxVCnvSFSl/C7HxkYLHOKDuj1ZqJsEANfP+hdIQFCEbOjAZhNRZBtnVy1pTT9sri7k1PU+tbhCz46A8O+l0VDB0BwxZK3Y+obF3NOox18NY2NRj0pBLL7745EpV8NhDUwgne3jpwlWbZ01qt9vsfG4hSbRr9jFfGKj9npE3/2Oo3Lee9iNf5qFmtwnHWrsYGhlV/hPFejTXyjbQnC/SS6SY6P6Lsyyp8ud+9I49UM4r9w1uWJToEk4NaxNGup3lzq1Mn+tT1xX/dSZXUyJcWhSeE84gRNdJoV8uUpfzm1CdEjkht8y6R1KP5GH31tYv0Asuxuml3zz8HY/e8YhsYtNFZZeG3YHmAAEwwwDbGQQTwaQzAil/u+2gBShiD12K6Tl7Sx2f/c8spfr4nNzXRdkNpZJoTtJSgMWaerUc80+6OHNYpugGkT3j5E4pzZsJeT2FNdDjlJRfm1fdquX0kKvmQKNRDI4T8oas9s0skXVIcGeAfARDCUZcgyGzVoKyPiMMyqrmXjU9MfRwHEJLWhnhB0M2PmL8670gTx5lcfeunkaxwdBmMvM8qj2kDuC5lDewgoIuHMtmHiM++nqfILw/09zM3aSx1/EsspcQwcAWSKaWrl3cA35TVaUWszZBTm+PEqiFr0qWDYjQEo2iYXhy9/NQ
x-forefront-antispam-report: CIP:255.255.255.255;CTRY:;LANG:en;SCL:1;SRV:;IPV:NLI;SFV:NSPM;H:SG2PR04MB3899.apcprd04.prod.outlook.com;PTR:;CAT:NONE;SFS:(13230016)(4636009)(396003)(366004)(136003)(39860400002)(376002)(346002)(83380400001)(99936003)(82960400001)(122000001)(38070700005)(38100700002)(54906003)(110136005)(316002)(71200400001)(52536014)(8936002)(5660300002)(4326008)(8676002)(76116006)(66946007)(66556008)(66476007)(66446008)(64756008)(107886003)(9686003)(186003)(26005)(2906002)(478600001)(15650500001)(6506007)(41300700001)(7696005)(55016003)(33656002)(86362001);DIR:OUT;SFP:1102;
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0: =?utf-8?B?UzQvbnYwaDRHdUxxWEx3Rjh1a1pRN2kydUVtenR4MGhZaThJd0ZtbVliSTlY?=
 =?utf-8?B?ZnZWalNaSndiTnFSSkRDN05UeHE5K1J6TkZkdk9seE1qbFdndmtOazBtZisx?=
 =?utf-8?B?a0k4VFhhWmxKenFqOG5CWHVYcGFJU2JncE9BTkZwaGJIQ0F4Y2JTNWV4ZlFG?=
 =?utf-8?B?ZEtQNmRWbFVwekM0MEJSa2ZnM0lrbUM3SGNxS3dTTjQ3em1NZFZsSHNqODlm?=
 =?utf-8?B?NGE4bWZ3N1pXYWJTZ3Q5VjU4UzIvNHg4OGxaNStyelh5aDhsa1dqZWhiOFBK?=
 =?utf-8?B?OURMVzF1UmFuci9vbWlJaEhYZGcrTjNCQWtyb3BlV054MkdWRnNpN3hkUjNB?=
 =?utf-8?B?TWFibFNGbWVOQnR1THRtZXNRYWk4ekpQaTdoTXhDdE1BWm9lamlNOVhucitN?=
 =?utf-8?B?TEphRFBrY3dMNDRQc0tUM2ZGZUhaeHZlclpYVzhUUnhkNENCNWJmK250VTYw?=
 =?utf-8?B?WDdYU3ZSWmdsdGZPWW4vWXZTdkJ0OHFFRGYwYmRHVFJvVXYwc0htTGlUa2Uw?=
 =?utf-8?B?MVZkSTl6YnpYQW5oZ2Uyejd1T0c4bWpUVFh1ZVIyek1XcGwvSmZVWGpzL3kv?=
 =?utf-8?B?Vi9La3orOEpIak9vY3pjQWo2ckY4ZW5wUzZZbktvZE41RlZ3VElpaG1jeTkr?=
 =?utf-8?B?bnVaWVI1ZStNcmhwUUM0eERFbldNaGFheFBiaVNxbERUcGlIS0pTMGtNZXlm?=
 =?utf-8?B?VllvTnpIbFg0M2E2Ujk5MHEybUhRaHNUWXVHdVNGWjdodWhyMkhDd0pSOFJr?=
 =?utf-8?B?OWJaNkZkZENMQ2o1Yk5MMVA1THlKRkNsUUtlYmNPYndqdnN1UUwvK29BN1pO?=
 =?utf-8?B?eXdLOHZ0dE1KVldjMnNoaWFxcWh0WjVlRldCM1h1TGxXN1plNGx6b0RkRHZ1?=
 =?utf-8?B?Mk5oK3ZzYU5DeTVqbUNsczFOcnYvOUN4NmVlbHhjaVE4N09ma2ZyZ2NSZ3ZN?=
 =?utf-8?B?OWhBQ3ZjQjhUdlRUT2lZVFhVaGNTcUFrYkFXekJWME14WXNTZ3E4ZDExTjdY?=
 =?utf-8?B?S3ZPTUs4N0lmeHpNSExDZkcwQzZydDRjOHZvdGtQc3ZuQkFFenpSZFI3dC90?=
 =?utf-8?B?ejJWZ0NyQ0pyRWE1ZnJWbm1DWis1K1k4TU8xaUVIamlvTzY1bWVKdHpJeUx0?=
 =?utf-8?B?SXpQdEVCL2dObmNnZkRlR1BDbGxyUHZCdzNpR2wxaDBpQ3BQM2kzL3E2bGNY?=
 =?utf-8?B?am5xSnlGajVONFNTVUMzaDVOSEQ4M2pob0h3Y0I1TElQNG1uMkJCb0gramNl?=
 =?utf-8?B?Y3cyT25PcHlNRS9HVGtyTFM3OGhvTkwveWo1QUdiVlFTSkRaTnJtRVlPcjR6?=
 =?utf-8?B?NnZyZGpzTkU1WHVaeVorS1g0d3J0Ti9CelFsZTVsdmg2SGpueWpUYkZJU05k?=
 =?utf-8?B?WVh0S2hDY1JUL1dVdXBOMVpFSWpGMkhmM2E2R2pMeDZZSWRwRkJIQ1pkcTBX?=
 =?utf-8?B?NGE5YkQyNng1ZUpiNENjbDVNSGRCS1lGbWZhZ0wzZlBDTkZmNWNzRkl1Ti81?=
 =?utf-8?B?K2ZPSDZiSzZrWUx5VnZaTWhoTjZtSWtiK2RoSDc4YmRPdzFsWE5VTGsvZUdt?=
 =?utf-8?B?WGQvUmJJUktzbFA2M0RoSmxrczZCWTdXUTF6UnNMTXJNUDg0a3pneDA5N3Y4?=
 =?utf-8?B?ekxXWUZFWjBwbFZBMWEveFZhanJSOXA3QWNEWjIydmxwcDZYUWJjbW1Od2Fq?=
 =?utf-8?B?L2NLMWRXVzFzczY0Uk0zV0dNbEtlcE1JeEhPd0N1YzhHaGh5Tis5NUQvKzlC?=
 =?utf-8?B?VlBRSk9obGxEMVJMUStNZ1l3VzRBTklxVVpUN3JYb3dkODJBa2NJUzRiM2NP?=
 =?utf-8?B?djRVOHhnaUg1R1cvRklNcmt5azFVYXVNRjRaWHp3NUpucmpHU2I5V1FaOGhu?=
 =?utf-8?B?QUNpb0tXUnhhSjVydFFjdlg5SUNwdmdqbUxXWG1pQnV6SFIyamNsdkFLR0tv?=
 =?utf-8?B?RjBlNk1OcTZ5N0FpdTZCM3hMc3dDamJEY2JNN2xmaUFBeXNhWU9jVnc2L3ZH?=
 =?utf-8?B?T1pWSXBiYXBSeFhDOG5EajV1NFhsK2JFc0ZCbEFleHlJWFM3S0JGT0ZNQU0w?=
 =?utf-8?B?aTNZR2lIK3J0dUVtVlB1MXZibGFveGRPZ01VcFVHazdUVVd5TExBZFlocjVm?=
 =?utf-8?Q?GfqzdPmVzUpYJr5mVvLSj5474?=
Content-Type: multipart/mixed;
        boundary="_002_SG2PR04MB3899E46BF128E2E472354B6D81809SG2PR04MB3899apcp_"
MIME-Version: 1.0
X-OriginatorOrg: sony.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: SG2PR04MB3899.apcprd04.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: f4be08c9-e213-467f-f31d-08da5ef818a4
X-MS-Exchange-CrossTenant-originalarrivaltime: 06 Jul 2022 02:34:48.4553
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 66c65d8a-9158-4521-a2d8-664963db48e4
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: UlTSIRL4GiEKlB4xzxb09l6ZVZvYgPF6q1MYDvbj4/T3rKlyNyldscXOFW9mk68JmsU9o6h63yyncSknCT0Hrw==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: SEZPR04MB5972
X-Proofpoint-GUID: xntBE6vPKKVsdLfR810Al6v9teuo6nuw
X-Proofpoint-ORIG-GUID: xntBE6vPKKVsdLfR810Al6v9teuo6nuw
X-Sony-Outbound-GUID: xntBE6vPKKVsdLfR810Al6v9teuo6nuw
X-Proofpoint-Virus-Version: vendor=baseguard
 engine=ICAP:2.0.205,Aquarius:18.0.883,Hydra:6.0.517,FMLib:17.11.122.1
 definitions=2022-07-06_02,2022-06-28_01,2022-06-22_01
X-Spam-Status: No, score=-3.5 required=5.0 tests=BAYES_00,DKIMWL_WL_HIGH,
        DKIM_SIGNED,DKIM_VALID,DKIM_VALID_AU,DKIM_VALID_EF,RCVD_IN_DNSWL_LOW,
        SPF_HELO_NONE,SPF_NONE,T_SCC_BODY_TEXT_LINE autolearn=ham
        autolearn_force=no version=3.4.6
X-Spam-Checker-Version: SpamAssassin 3.4.6 (2021-04-09) on
        lindbergh.monkeyblade.net
Precedence: bulk
List-ID: <linux-fsdevel.vger.kernel.org>
X-Mailing-List: linux-fsdevel@vger.kernel.org

--_002_SG2PR04MB3899E46BF128E2E472354B6D81809SG2PR04MB3899apcp_
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64

X19leGZhdF93cml0ZV9pbm9kZSgpIGlzIHVzZWQgdG8gdXBkYXRlIGZpbGUgYW5kIHN0cmVhbSBk
aXJlY3RvcnkNCmVudHJpZXMsIGV4Y2VwdCBmb3IgZmlsZS0+c3RhcnRfY2x1IGFuZCBzdHJlYW0t
PmZsYWdzLg0KDQpUaGlzIGNvbW1pdCBtb3ZlcyB1cGRhdGUgZmlsZS0+c3RhcnRfY2x1IGFuZCBz
dHJlYW0tPmZsYWdzIHRvDQpfX2V4ZmF0X3dyaXRlX2lub2RlKCkgYW5kIHJldXNlIF9fZXhmYXRf
d3JpdGVfaW5vZGUoKSB0byB1cGRhdGUNCmRpcmVjdG9yeSBlbnRyaWVzLg0KDQpTaWduZWQtb2Zm
LWJ5OiBZdWV6aGFuZyBNbyA8WXVlemhhbmcuTW9Ac29ueS5jb20+DQpSZXZpZXdlZC1ieTogQW5k
eSBXdSA8QW5keS5XdUBzb255LmNvbT4NClJldmlld2VkLWJ5OiBBb3lhbWEgV2F0YXJ1IDx3YXRh
cnUuYW95YW1hQHNvbnkuY29tPg0KUmV2aWV3ZWQtYnk6IERhbmllbCBQYWxtZXIgPGRhbmllbC5w
YWxtZXJAc29ueS5jb20+DQotLS0NCiBmcy9leGZhdC9leGZhdF9mcy5oIHwgIDEgKw0KIGZzL2V4
ZmF0L2ZpbGUuYyAgICAgfCA0NyArKystLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0NCiBmcy9leGZhdC9pbm9kZS5jICAgIHwgMzcgKysrKysrKysrKystLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0NCiBmcy9leGZhdC9uYW1laS5jICAgIHwgMjAgKystLS0tLS0tLS0tLS0t
LS0tLQ0KIDQgZmlsZXMgY2hhbmdlZCwgMTcgaW5zZXJ0aW9ucygrKSwgODggZGVsZXRpb25zKC0p
DQoNCmRpZmYgLS1naXQgYS9mcy9leGZhdC9leGZhdF9mcy5oIGIvZnMvZXhmYXQvZXhmYXRfZnMu
aA0KaW5kZXggNGE3YTIzMDhlYjcyLi43MDhkOTcyNzAwYzAgMTAwNjQ0DQotLS0gYS9mcy9leGZh
dC9leGZhdF9mcy5oDQorKysgYi9mcy9leGZhdC9leGZhdF9mcy5oDQpAQCAtNDgzLDYgKzQ4Myw3
IEBAIHN0cnVjdCBpbm9kZSAqZXhmYXRfYnVpbGRfaW5vZGUoc3RydWN0IHN1cGVyX2Jsb2NrICpz
YiwNCiB2b2lkIGV4ZmF0X2hhc2hfaW5vZGUoc3RydWN0IGlub2RlICppbm9kZSwgbG9mZl90IGlf
cG9zKTsNCiB2b2lkIGV4ZmF0X3VuaGFzaF9pbm9kZShzdHJ1Y3QgaW5vZGUgKmlub2RlKTsNCiBz
dHJ1Y3QgaW5vZGUgKmV4ZmF0X2lnZXQoc3RydWN0IHN1cGVyX2Jsb2NrICpzYiwgbG9mZl90IGlf
cG9zKTsNCitpbnQgX19leGZhdF93cml0ZV9pbm9kZShzdHJ1Y3QgaW5vZGUgKmlub2RlLCBpbnQg
c3luYyk7DQogaW50IGV4ZmF0X3dyaXRlX2lub2RlKHN0cnVjdCBpbm9kZSAqaW5vZGUsIHN0cnVj
dCB3cml0ZWJhY2tfY29udHJvbCAqd2JjKTsNCiB2b2lkIGV4ZmF0X2V2aWN0X2lub2RlKHN0cnVj
dCBpbm9kZSAqaW5vZGUpOw0KIGludCBleGZhdF9ibG9ja190cnVuY2F0ZV9wYWdlKHN0cnVjdCBp
bm9kZSAqaW5vZGUsIGxvZmZfdCBmcm9tKTsNCmRpZmYgLS1naXQgYS9mcy9leGZhdC9maWxlLmMg
Yi9mcy9leGZhdC9maWxlLmMNCmluZGV4IDIwZDRlNDdmNTdhYi4uMDhlNWZmZDc4YjEwIDEwMDY0
NA0KLS0tIGEvZnMvZXhmYXQvZmlsZS5jDQorKysgYi9mcy9leGZhdC9maWxlLmMNCkBAIC0xMDEs
NyArMTAxLDYgQEAgaW50IF9fZXhmYXRfdHJ1bmNhdGUoc3RydWN0IGlub2RlICppbm9kZSwgbG9m
Zl90IG5ld19zaXplKQ0KIAlzdHJ1Y3Qgc3VwZXJfYmxvY2sgKnNiID0gaW5vZGUtPmlfc2I7DQog
CXN0cnVjdCBleGZhdF9zYl9pbmZvICpzYmkgPSBFWEZBVF9TQihzYik7DQogCXN0cnVjdCBleGZh
dF9pbm9kZV9pbmZvICplaSA9IEVYRkFUX0koaW5vZGUpOw0KLQlpbnQgZXZpY3QgPSAoZWktPmRp
ci5kaXIgPT0gRElSX0RFTEVURUQpID8gMSA6IDA7DQogDQogCS8qIGNoZWNrIGlmIHRoZSBnaXZl
biBmaWxlIElEIGlzIG9wZW5lZCAqLw0KIAlpZiAoZWktPnR5cGUgIT0gVFlQRV9GSUxFICYmIGVp
LT50eXBlICE9IFRZUEVfRElSKQ0KQEAgLTE1MCw0OSArMTQ5LDkgQEAgaW50IF9fZXhmYXRfdHJ1
bmNhdGUoc3RydWN0IGlub2RlICppbm9kZSwgbG9mZl90IG5ld19zaXplKQ0KIAkJZWktPmF0dHIg
fD0gQVRUUl9BUkNISVZFOw0KIA0KIAkvKiB1cGRhdGUgdGhlIGRpcmVjdG9yeSBlbnRyeSAqLw0K
LQlpZiAoIWV2aWN0KSB7DQotCQlzdHJ1Y3QgdGltZXNwZWM2NCB0czsNCi0JCXN0cnVjdCBleGZh
dF9kZW50cnkgKmVwLCAqZXAyOw0KLQkJc3RydWN0IGV4ZmF0X2VudHJ5X3NldF9jYWNoZSAqZXM7
DQotCQlpbnQgZXJyOw0KLQ0KLQkJZXMgPSBleGZhdF9nZXRfZGVudHJ5X3NldChzYiwgJihlaS0+
ZGlyKSwgZWktPmVudHJ5LA0KLQkJCQlFU19BTExfRU5UUklFUyk7DQotCQlpZiAoIWVzKQ0KLQkJ
CXJldHVybiAtRUlPOw0KLQkJZXAgPSBleGZhdF9nZXRfZGVudHJ5X2NhY2hlZChlcywgMCk7DQot
CQllcDIgPSBleGZhdF9nZXRfZGVudHJ5X2NhY2hlZChlcywgMSk7DQotDQotCQl0cyA9IGN1cnJl
bnRfdGltZShpbm9kZSk7DQotCQlleGZhdF9zZXRfZW50cnlfdGltZShzYmksICZ0cywNCi0JCQkJ
JmVwLT5kZW50cnkuZmlsZS5tb2RpZnlfdHosDQotCQkJCSZlcC0+ZGVudHJ5LmZpbGUubW9kaWZ5
X3RpbWUsDQotCQkJCSZlcC0+ZGVudHJ5LmZpbGUubW9kaWZ5X2RhdGUsDQotCQkJCSZlcC0+ZGVu
dHJ5LmZpbGUubW9kaWZ5X3RpbWVfY3MpOw0KLQkJZXAtPmRlbnRyeS5maWxlLmF0dHIgPSBjcHVf
dG9fbGUxNihlaS0+YXR0cik7DQotDQotCQkvKiBGaWxlIHNpemUgc2hvdWxkIGJlIHplcm8gaWYg
dGhlcmUgaXMgbm8gY2x1c3RlciBhbGxvY2F0ZWQgKi8NCi0JCWlmIChlaS0+c3RhcnRfY2x1ID09
IEVYRkFUX0VPRl9DTFVTVEVSKSB7DQotCQkJZXAyLT5kZW50cnkuc3RyZWFtLnZhbGlkX3NpemUg
PSAwOw0KLQkJCWVwMi0+ZGVudHJ5LnN0cmVhbS5zaXplID0gMDsNCi0JCX0gZWxzZSB7DQotCQkJ
ZXAyLT5kZW50cnkuc3RyZWFtLnZhbGlkX3NpemUgPSBjcHVfdG9fbGU2NChuZXdfc2l6ZSk7DQot
CQkJZXAyLT5kZW50cnkuc3RyZWFtLnNpemUgPSBlcDItPmRlbnRyeS5zdHJlYW0udmFsaWRfc2l6
ZTsNCi0JCX0NCi0NCi0JCWlmIChuZXdfc2l6ZSA9PSAwKSB7DQotCQkJLyogQW55IGRpcmVjdG9y
eSBjYW4gbm90IGJlIHRydW5jYXRlZCB0byB6ZXJvICovDQotCQkJV0FSTl9PTihlaS0+dHlwZSAh
PSBUWVBFX0ZJTEUpOw0KLQ0KLQkJCWVwMi0+ZGVudHJ5LnN0cmVhbS5mbGFncyA9IEFMTE9DX0ZB
VF9DSEFJTjsNCi0JCQllcDItPmRlbnRyeS5zdHJlYW0uc3RhcnRfY2x1ID0gRVhGQVRfRlJFRV9D
TFVTVEVSOw0KLQkJfQ0KLQ0KLQkJZXhmYXRfdXBkYXRlX2Rpcl9jaGtzdW1fd2l0aF9lbnRyeV9z
ZXQoZXMpOw0KLQkJZXJyID0gZXhmYXRfZnJlZV9kZW50cnlfc2V0KGVzLCBpbm9kZV9uZWVkc19z
eW5jKGlub2RlKSk7DQotCQlpZiAoZXJyKQ0KLQkJCXJldHVybiBlcnI7DQotCX0NCisJaW5vZGUt
PmlfbXRpbWUgPSBjdXJyZW50X3RpbWUoaW5vZGUpOw0KKwlpZiAoX19leGZhdF93cml0ZV9pbm9k
ZShpbm9kZSwgaW5vZGVfbmVlZHNfc3luYyhpbm9kZSkpKQ0KKwkJcmV0dXJuIC1FSU87DQogDQog
CS8qIGN1dCBvZmYgZnJvbSB0aGUgRkFUIGNoYWluICovDQogCWlmIChlaS0+ZmxhZ3MgPT0gQUxM
T0NfRkFUX0NIQUlOICYmIGxhc3RfY2x1ICE9IEVYRkFUX0ZSRUVfQ0xVU1RFUiAmJg0KZGlmZiAt
LWdpdCBhL2ZzL2V4ZmF0L2lub2RlLmMgYi9mcy9leGZhdC9pbm9kZS5jDQppbmRleCAwMTMzZDM4
NWQ4ZTguLmViYzY0ZmE1YzJkZSAxMDA2NDQNCi0tLSBhL2ZzL2V4ZmF0L2lub2RlLmMNCisrKyBi
L2ZzL2V4ZmF0L2lub2RlLmMNCkBAIC0xNyw3ICsxNyw3IEBADQogI2luY2x1ZGUgImV4ZmF0X3Jh
dy5oIg0KICNpbmNsdWRlICJleGZhdF9mcy5oIg0KIA0KLXN0YXRpYyBpbnQgX19leGZhdF93cml0
ZV9pbm9kZShzdHJ1Y3QgaW5vZGUgKmlub2RlLCBpbnQgc3luYykNCitpbnQgX19leGZhdF93cml0
ZV9pbm9kZShzdHJ1Y3QgaW5vZGUgKmlub2RlLCBpbnQgc3luYykNCiB7DQogCXVuc2lnbmVkIGxv
bmcgbG9uZyBvbl9kaXNrX3NpemU7DQogCXN0cnVjdCBleGZhdF9kZW50cnkgKmVwLCAqZXAyOw0K
QEAgLTc1LDYgKzc1LDEzIEBAIHN0YXRpYyBpbnQgX19leGZhdF93cml0ZV9pbm9kZShzdHJ1Y3Qg
aW5vZGUgKmlub2RlLCBpbnQgc3luYykNCiANCiAJZXAyLT5kZW50cnkuc3RyZWFtLnZhbGlkX3Np
emUgPSBjcHVfdG9fbGU2NChvbl9kaXNrX3NpemUpOw0KIAllcDItPmRlbnRyeS5zdHJlYW0uc2l6
ZSA9IGVwMi0+ZGVudHJ5LnN0cmVhbS52YWxpZF9zaXplOw0KKwlpZiAob25fZGlza19zaXplKSB7
DQorCQllcDItPmRlbnRyeS5zdHJlYW0uZmxhZ3MgPSBlaS0+ZmxhZ3M7DQorCQllcDItPmRlbnRy
eS5zdHJlYW0uc3RhcnRfY2x1ID0gY3B1X3RvX2xlMzIoZWktPnN0YXJ0X2NsdSk7DQorCX0gZWxz
ZSB7DQorCQllcDItPmRlbnRyeS5zdHJlYW0uZmxhZ3MgPSBBTExPQ19GQVRfQ0hBSU47DQorCQll
cDItPmRlbnRyeS5zdHJlYW0uc3RhcnRfY2x1ID0gRVhGQVRfRlJFRV9DTFVTVEVSOw0KKwl9DQog
DQogCWV4ZmF0X3VwZGF0ZV9kaXJfY2hrc3VtX3dpdGhfZW50cnlfc2V0KGVzKTsNCiAJcmV0dXJu
IGV4ZmF0X2ZyZWVfZGVudHJ5X3NldChlcywgc3luYyk7DQpAQCAtMjE2LDMyICsyMjMsMTAgQEAg
c3RhdGljIGludCBleGZhdF9tYXBfY2x1c3RlcihzdHJ1Y3QgaW5vZGUgKmlub2RlLCB1bnNpZ25l
ZCBpbnQgY2x1X29mZnNldCwNCiAJCW51bV9jbHVzdGVycyArPSBudW1fdG9fYmVfYWxsb2NhdGVk
Ow0KIAkJKmNsdSA9IG5ld19jbHUuZGlyOw0KIA0KLQkJaWYgKGVpLT5kaXIuZGlyICE9IERJUl9E
RUxFVEVEICYmIG1vZGlmaWVkKSB7DQotCQkJc3RydWN0IGV4ZmF0X2RlbnRyeSAqZXA7DQotCQkJ
c3RydWN0IGV4ZmF0X2VudHJ5X3NldF9jYWNoZSAqZXM7DQotCQkJaW50IGVycjsNCi0NCi0JCQll
cyA9IGV4ZmF0X2dldF9kZW50cnlfc2V0KHNiLCAmKGVpLT5kaXIpLCBlaS0+ZW50cnksDQotCQkJ
CUVTX0FMTF9FTlRSSUVTKTsNCi0JCQlpZiAoIWVzKQ0KKwkJaWYgKG1vZGlmaWVkKSB7DQorCQkJ
aWYgKF9fZXhmYXRfd3JpdGVfaW5vZGUoaW5vZGUsIGlub2RlX25lZWRzX3N5bmMoaW5vZGUpKSkN
CiAJCQkJcmV0dXJuIC1FSU87DQotCQkJLyogZ2V0IHN0cmVhbSBlbnRyeSAqLw0KLQkJCWVwID0g
ZXhmYXRfZ2V0X2RlbnRyeV9jYWNoZWQoZXMsIDEpOw0KLQ0KLQkJCS8qIHVwZGF0ZSBkaXJlY3Rv
cnkgZW50cnkgKi8NCi0JCQllcC0+ZGVudHJ5LnN0cmVhbS5mbGFncyA9IGVpLT5mbGFnczsNCi0J
CQllcC0+ZGVudHJ5LnN0cmVhbS5zdGFydF9jbHUgPQ0KLQkJCQljcHVfdG9fbGUzMihlaS0+c3Rh
cnRfY2x1KTsNCi0JCQllcC0+ZGVudHJ5LnN0cmVhbS52YWxpZF9zaXplID0NCi0JCQkJY3B1X3Rv
X2xlNjQoaV9zaXplX3JlYWQoaW5vZGUpKTsNCi0JCQllcC0+ZGVudHJ5LnN0cmVhbS5zaXplID0N
Ci0JCQkJZXAtPmRlbnRyeS5zdHJlYW0udmFsaWRfc2l6ZTsNCi0NCi0JCQlleGZhdF91cGRhdGVf
ZGlyX2Noa3N1bV93aXRoX2VudHJ5X3NldChlcyk7DQotCQkJZXJyID0gZXhmYXRfZnJlZV9kZW50
cnlfc2V0KGVzLCBpbm9kZV9uZWVkc19zeW5jKGlub2RlKSk7DQotCQkJaWYgKGVycikNCi0JCQkJ
cmV0dXJuIGVycjsNCi0JCX0gLyogZW5kIG9mIGlmICE9IERJUl9ERUxFVEVEICovDQorCQl9DQog
DQogCQlpbm9kZS0+aV9ibG9ja3MgKz0NCiAJCQludW1fdG9fYmVfYWxsb2NhdGVkIDw8IHNiaS0+
c2VjdF9wZXJfY2x1c19iaXRzOw0KZGlmZiAtLWdpdCBhL2ZzL2V4ZmF0L25hbWVpLmMgYi9mcy9l
eGZhdC9uYW1laS5jDQppbmRleCA3NmFjYzM3MjE5NTEuLmY2Zjg3MjU4MDNkYyAxMDA2NDQNCi0t
LSBhL2ZzL2V4ZmF0L25hbWVpLmMNCisrKyBiL2ZzL2V4ZmF0L25hbWVpLmMNCkBAIC0zMTgsNyAr
MzE4LDYgQEAgc3RhdGljIGludCBleGZhdF9maW5kX2VtcHR5X2VudHJ5KHN0cnVjdCBpbm9kZSAq
aW5vZGUsDQogCXVuc2lnbmVkIGludCByZXQsIGxhc3RfY2x1Ow0KIAlsb2ZmX3Qgc2l6ZSA9IDA7
DQogCXN0cnVjdCBleGZhdF9jaGFpbiBjbHU7DQotCXN0cnVjdCBleGZhdF9kZW50cnkgKmVwID0g
TlVMTDsNCiAJc3RydWN0IHN1cGVyX2Jsb2NrICpzYiA9IGlub2RlLT5pX3NiOw0KIAlzdHJ1Y3Qg
ZXhmYXRfc2JfaW5mbyAqc2JpID0gRVhGQVRfU0Ioc2IpOw0KIAlzdHJ1Y3QgZXhmYXRfaW5vZGVf
aW5mbyAqZWkgPSBFWEZBVF9JKGlub2RlKTsNCkBAIC0zODQsMjMgKzM4Myw4IEBAIHN0YXRpYyBp
bnQgZXhmYXRfZmluZF9lbXB0eV9lbnRyeShzdHJ1Y3QgaW5vZGUgKmlub2RlLA0KIAkJc2l6ZSA9
IEVYRkFUX0NMVV9UT19CKHBfZGlyLT5zaXplLCBzYmkpOw0KIA0KIAkJLyogdXBkYXRlIHRoZSBk
aXJlY3RvcnkgZW50cnkgKi8NCi0JCWlmIChwX2Rpci0+ZGlyICE9IHNiaS0+cm9vdF9kaXIpIHsN
Ci0JCQlzdHJ1Y3QgYnVmZmVyX2hlYWQgKmJoOw0KLQ0KLQkJCWVwID0gZXhmYXRfZ2V0X2RlbnRy
eShzYiwNCi0JCQkJJihlaS0+ZGlyKSwgZWktPmVudHJ5ICsgMSwgJmJoKTsNCi0JCQlpZiAoIWVw
KQ0KLQkJCQlyZXR1cm4gLUVJTzsNCi0NCi0JCQllcC0+ZGVudHJ5LnN0cmVhbS52YWxpZF9zaXpl
ID0gY3B1X3RvX2xlNjQoc2l6ZSk7DQotCQkJZXAtPmRlbnRyeS5zdHJlYW0uc2l6ZSA9IGVwLT5k
ZW50cnkuc3RyZWFtLnZhbGlkX3NpemU7DQotCQkJZXAtPmRlbnRyeS5zdHJlYW0uZmxhZ3MgPSBw
X2Rpci0+ZmxhZ3M7DQotCQkJZXhmYXRfdXBkYXRlX2JoKGJoLCBJU19ESVJTWU5DKGlub2RlKSk7
DQotCQkJYnJlbHNlKGJoKTsNCi0JCQlpZiAoZXhmYXRfdXBkYXRlX2Rpcl9jaGtzdW0oaW5vZGUs
ICYoZWktPmRpciksDQotCQkJICAgIGVpLT5lbnRyeSkpDQotCQkJCXJldHVybiAtRUlPOw0KLQkJ
fQ0KKwkJaWYgKF9fZXhmYXRfd3JpdGVfaW5vZGUoaW5vZGUsIElTX0RJUlNZTkMoaW5vZGUpKSkN
CisJCQlyZXR1cm4gLUVJTzsNCiANCiAJCS8qIGRpcmVjdG9yeSBpbm9kZSBzaG91bGQgYmUgdXBk
YXRlZCBpbiBoZXJlICovDQogCQlpX3NpemVfd3JpdGUoaW5vZGUsIHNpemUpOw0KLS0gDQoyLjI1
LjENCg==

--_002_SG2PR04MB3899E46BF128E2E472354B6D81809SG2PR04MB3899apcp_
Content-Type: application/octet-stream;
	name="v1-0001-exfat-reuse-__exfat_write_inode-to-update-directo.patch"
Content-Description: 
 v1-0001-exfat-reuse-__exfat_write_inode-to-update-directo.patch
Content-Disposition: attachment;
	filename="v1-0001-exfat-reuse-__exfat_write_inode-to-update-directo.patch";
	size=6761; creation-date="Wed, 06 Jul 2022 02:13:17 GMT";
	modification-date="Wed, 06 Jul 2022 02:34:48 GMT"
Content-Transfer-Encoding: base64

X19leGZhdF93cml0ZV9pbm9kZSgpIGlzIHVzZWQgdG8gdXBkYXRlIGZpbGUgYW5kIHN0cmVhbSBk
aXJlY3RvcnkKZW50cmllcywgZXhjZXB0IGZvciBmaWxlLT5zdGFydF9jbHUgYW5kIHN0cmVhbS0+
ZmxhZ3MuCgpUaGlzIGNvbW1pdCBtb3ZlcyB1cGRhdGUgZmlsZS0+c3RhcnRfY2x1IGFuZCBzdHJl
YW0tPmZsYWdzIHRvCl9fZXhmYXRfd3JpdGVfaW5vZGUoKSBhbmQgcmV1c2UgX19leGZhdF93cml0
ZV9pbm9kZSgpIHRvIHVwZGF0ZQpkaXJlY3RvcnkgZW50cmllcy4KClNpZ25lZC1vZmYtYnk6IFl1
ZXpoYW5nIE1vIDxZdWV6aGFuZy5Nb0Bzb255LmNvbT4KUmV2aWV3ZWQtYnk6IEFuZHkgV3UgPEFu
ZHkuV3VAc29ueS5jb20+ClJldmlld2VkLWJ5OiBBb3lhbWEgV2F0YXJ1IDx3YXRhcnUuYW95YW1h
QHNvbnkuY29tPgpSZXZpZXdlZC1ieTogRGFuaWVsIFBhbG1lciA8ZGFuaWVsLnBhbG1lckBzb255
LmNvbT4KLS0tCiBmcy9leGZhdC9leGZhdF9mcy5oIHwgIDEgKwogZnMvZXhmYXQvZmlsZS5jICAg
ICB8IDQ3ICsrKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogZnMv
ZXhmYXQvaW5vZGUuYyAgICB8IDM3ICsrKysrKysrKysrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
CiBmcy9leGZhdC9uYW1laS5jICAgIHwgMjAgKystLS0tLS0tLS0tLS0tLS0tLQogNCBmaWxlcyBj
aGFuZ2VkLCAxNyBpbnNlcnRpb25zKCspLCA4OCBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9m
cy9leGZhdC9leGZhdF9mcy5oIGIvZnMvZXhmYXQvZXhmYXRfZnMuaAppbmRleCA0YTdhMjMwOGVi
NzIuLjcwOGQ5NzI3MDBjMCAxMDA2NDQKLS0tIGEvZnMvZXhmYXQvZXhmYXRfZnMuaAorKysgYi9m
cy9leGZhdC9leGZhdF9mcy5oCkBAIC00ODMsNiArNDgzLDcgQEAgc3RydWN0IGlub2RlICpleGZh
dF9idWlsZF9pbm9kZShzdHJ1Y3Qgc3VwZXJfYmxvY2sgKnNiLAogdm9pZCBleGZhdF9oYXNoX2lu
b2RlKHN0cnVjdCBpbm9kZSAqaW5vZGUsIGxvZmZfdCBpX3Bvcyk7CiB2b2lkIGV4ZmF0X3VuaGFz
aF9pbm9kZShzdHJ1Y3QgaW5vZGUgKmlub2RlKTsKIHN0cnVjdCBpbm9kZSAqZXhmYXRfaWdldChz
dHJ1Y3Qgc3VwZXJfYmxvY2sgKnNiLCBsb2ZmX3QgaV9wb3MpOworaW50IF9fZXhmYXRfd3JpdGVf
aW5vZGUoc3RydWN0IGlub2RlICppbm9kZSwgaW50IHN5bmMpOwogaW50IGV4ZmF0X3dyaXRlX2lu
b2RlKHN0cnVjdCBpbm9kZSAqaW5vZGUsIHN0cnVjdCB3cml0ZWJhY2tfY29udHJvbCAqd2JjKTsK
IHZvaWQgZXhmYXRfZXZpY3RfaW5vZGUoc3RydWN0IGlub2RlICppbm9kZSk7CiBpbnQgZXhmYXRf
YmxvY2tfdHJ1bmNhdGVfcGFnZShzdHJ1Y3QgaW5vZGUgKmlub2RlLCBsb2ZmX3QgZnJvbSk7CmRp
ZmYgLS1naXQgYS9mcy9leGZhdC9maWxlLmMgYi9mcy9leGZhdC9maWxlLmMKaW5kZXggMjBkNGU0
N2Y1N2FiLi4wOGU1ZmZkNzhiMTAgMTAwNjQ0Ci0tLSBhL2ZzL2V4ZmF0L2ZpbGUuYworKysgYi9m
cy9leGZhdC9maWxlLmMKQEAgLTEwMSw3ICsxMDEsNiBAQCBpbnQgX19leGZhdF90cnVuY2F0ZShz
dHJ1Y3QgaW5vZGUgKmlub2RlLCBsb2ZmX3QgbmV3X3NpemUpCiAJc3RydWN0IHN1cGVyX2Jsb2Nr
ICpzYiA9IGlub2RlLT5pX3NiOwogCXN0cnVjdCBleGZhdF9zYl9pbmZvICpzYmkgPSBFWEZBVF9T
QihzYik7CiAJc3RydWN0IGV4ZmF0X2lub2RlX2luZm8gKmVpID0gRVhGQVRfSShpbm9kZSk7Ci0J
aW50IGV2aWN0ID0gKGVpLT5kaXIuZGlyID09IERJUl9ERUxFVEVEKSA/IDEgOiAwOwogCiAJLyog
Y2hlY2sgaWYgdGhlIGdpdmVuIGZpbGUgSUQgaXMgb3BlbmVkICovCiAJaWYgKGVpLT50eXBlICE9
IFRZUEVfRklMRSAmJiBlaS0+dHlwZSAhPSBUWVBFX0RJUikKQEAgLTE1MCw0OSArMTQ5LDkgQEAg
aW50IF9fZXhmYXRfdHJ1bmNhdGUoc3RydWN0IGlub2RlICppbm9kZSwgbG9mZl90IG5ld19zaXpl
KQogCQllaS0+YXR0ciB8PSBBVFRSX0FSQ0hJVkU7CiAKIAkvKiB1cGRhdGUgdGhlIGRpcmVjdG9y
eSBlbnRyeSAqLwotCWlmICghZXZpY3QpIHsKLQkJc3RydWN0IHRpbWVzcGVjNjQgdHM7Ci0JCXN0
cnVjdCBleGZhdF9kZW50cnkgKmVwLCAqZXAyOwotCQlzdHJ1Y3QgZXhmYXRfZW50cnlfc2V0X2Nh
Y2hlICplczsKLQkJaW50IGVycjsKLQotCQllcyA9IGV4ZmF0X2dldF9kZW50cnlfc2V0KHNiLCAm
KGVpLT5kaXIpLCBlaS0+ZW50cnksCi0JCQkJRVNfQUxMX0VOVFJJRVMpOwotCQlpZiAoIWVzKQot
CQkJcmV0dXJuIC1FSU87Ci0JCWVwID0gZXhmYXRfZ2V0X2RlbnRyeV9jYWNoZWQoZXMsIDApOwot
CQllcDIgPSBleGZhdF9nZXRfZGVudHJ5X2NhY2hlZChlcywgMSk7Ci0KLQkJdHMgPSBjdXJyZW50
X3RpbWUoaW5vZGUpOwotCQlleGZhdF9zZXRfZW50cnlfdGltZShzYmksICZ0cywKLQkJCQkmZXAt
PmRlbnRyeS5maWxlLm1vZGlmeV90eiwKLQkJCQkmZXAtPmRlbnRyeS5maWxlLm1vZGlmeV90aW1l
LAotCQkJCSZlcC0+ZGVudHJ5LmZpbGUubW9kaWZ5X2RhdGUsCi0JCQkJJmVwLT5kZW50cnkuZmls
ZS5tb2RpZnlfdGltZV9jcyk7Ci0JCWVwLT5kZW50cnkuZmlsZS5hdHRyID0gY3B1X3RvX2xlMTYo
ZWktPmF0dHIpOwotCi0JCS8qIEZpbGUgc2l6ZSBzaG91bGQgYmUgemVybyBpZiB0aGVyZSBpcyBu
byBjbHVzdGVyIGFsbG9jYXRlZCAqLwotCQlpZiAoZWktPnN0YXJ0X2NsdSA9PSBFWEZBVF9FT0Zf
Q0xVU1RFUikgewotCQkJZXAyLT5kZW50cnkuc3RyZWFtLnZhbGlkX3NpemUgPSAwOwotCQkJZXAy
LT5kZW50cnkuc3RyZWFtLnNpemUgPSAwOwotCQl9IGVsc2UgewotCQkJZXAyLT5kZW50cnkuc3Ry
ZWFtLnZhbGlkX3NpemUgPSBjcHVfdG9fbGU2NChuZXdfc2l6ZSk7Ci0JCQllcDItPmRlbnRyeS5z
dHJlYW0uc2l6ZSA9IGVwMi0+ZGVudHJ5LnN0cmVhbS52YWxpZF9zaXplOwotCQl9Ci0KLQkJaWYg
KG5ld19zaXplID09IDApIHsKLQkJCS8qIEFueSBkaXJlY3RvcnkgY2FuIG5vdCBiZSB0cnVuY2F0
ZWQgdG8gemVybyAqLwotCQkJV0FSTl9PTihlaS0+dHlwZSAhPSBUWVBFX0ZJTEUpOwotCi0JCQll
cDItPmRlbnRyeS5zdHJlYW0uZmxhZ3MgPSBBTExPQ19GQVRfQ0hBSU47Ci0JCQllcDItPmRlbnRy
eS5zdHJlYW0uc3RhcnRfY2x1ID0gRVhGQVRfRlJFRV9DTFVTVEVSOwotCQl9Ci0KLQkJZXhmYXRf
dXBkYXRlX2Rpcl9jaGtzdW1fd2l0aF9lbnRyeV9zZXQoZXMpOwotCQllcnIgPSBleGZhdF9mcmVl
X2RlbnRyeV9zZXQoZXMsIGlub2RlX25lZWRzX3N5bmMoaW5vZGUpKTsKLQkJaWYgKGVycikKLQkJ
CXJldHVybiBlcnI7Ci0JfQorCWlub2RlLT5pX210aW1lID0gY3VycmVudF90aW1lKGlub2RlKTsK
KwlpZiAoX19leGZhdF93cml0ZV9pbm9kZShpbm9kZSwgaW5vZGVfbmVlZHNfc3luYyhpbm9kZSkp
KQorCQlyZXR1cm4gLUVJTzsKIAogCS8qIGN1dCBvZmYgZnJvbSB0aGUgRkFUIGNoYWluICovCiAJ
aWYgKGVpLT5mbGFncyA9PSBBTExPQ19GQVRfQ0hBSU4gJiYgbGFzdF9jbHUgIT0gRVhGQVRfRlJF
RV9DTFVTVEVSICYmCmRpZmYgLS1naXQgYS9mcy9leGZhdC9pbm9kZS5jIGIvZnMvZXhmYXQvaW5v
ZGUuYwppbmRleCAwMTMzZDM4NWQ4ZTguLmViYzY0ZmE1YzJkZSAxMDA2NDQKLS0tIGEvZnMvZXhm
YXQvaW5vZGUuYworKysgYi9mcy9leGZhdC9pbm9kZS5jCkBAIC0xNyw3ICsxNyw3IEBACiAjaW5j
bHVkZSAiZXhmYXRfcmF3LmgiCiAjaW5jbHVkZSAiZXhmYXRfZnMuaCIKIAotc3RhdGljIGludCBf
X2V4ZmF0X3dyaXRlX2lub2RlKHN0cnVjdCBpbm9kZSAqaW5vZGUsIGludCBzeW5jKQoraW50IF9f
ZXhmYXRfd3JpdGVfaW5vZGUoc3RydWN0IGlub2RlICppbm9kZSwgaW50IHN5bmMpCiB7CiAJdW5z
aWduZWQgbG9uZyBsb25nIG9uX2Rpc2tfc2l6ZTsKIAlzdHJ1Y3QgZXhmYXRfZGVudHJ5ICplcCwg
KmVwMjsKQEAgLTc1LDYgKzc1LDEzIEBAIHN0YXRpYyBpbnQgX19leGZhdF93cml0ZV9pbm9kZShz
dHJ1Y3QgaW5vZGUgKmlub2RlLCBpbnQgc3luYykKIAogCWVwMi0+ZGVudHJ5LnN0cmVhbS52YWxp
ZF9zaXplID0gY3B1X3RvX2xlNjQob25fZGlza19zaXplKTsKIAllcDItPmRlbnRyeS5zdHJlYW0u
c2l6ZSA9IGVwMi0+ZGVudHJ5LnN0cmVhbS52YWxpZF9zaXplOworCWlmIChvbl9kaXNrX3NpemUp
IHsKKwkJZXAyLT5kZW50cnkuc3RyZWFtLmZsYWdzID0gZWktPmZsYWdzOworCQllcDItPmRlbnRy
eS5zdHJlYW0uc3RhcnRfY2x1ID0gY3B1X3RvX2xlMzIoZWktPnN0YXJ0X2NsdSk7CisJfSBlbHNl
IHsKKwkJZXAyLT5kZW50cnkuc3RyZWFtLmZsYWdzID0gQUxMT0NfRkFUX0NIQUlOOworCQllcDIt
PmRlbnRyeS5zdHJlYW0uc3RhcnRfY2x1ID0gRVhGQVRfRlJFRV9DTFVTVEVSOworCX0KIAogCWV4
ZmF0X3VwZGF0ZV9kaXJfY2hrc3VtX3dpdGhfZW50cnlfc2V0KGVzKTsKIAlyZXR1cm4gZXhmYXRf
ZnJlZV9kZW50cnlfc2V0KGVzLCBzeW5jKTsKQEAgLTIxNiwzMiArMjIzLDEwIEBAIHN0YXRpYyBp
bnQgZXhmYXRfbWFwX2NsdXN0ZXIoc3RydWN0IGlub2RlICppbm9kZSwgdW5zaWduZWQgaW50IGNs
dV9vZmZzZXQsCiAJCW51bV9jbHVzdGVycyArPSBudW1fdG9fYmVfYWxsb2NhdGVkOwogCQkqY2x1
ID0gbmV3X2NsdS5kaXI7CiAKLQkJaWYgKGVpLT5kaXIuZGlyICE9IERJUl9ERUxFVEVEICYmIG1v
ZGlmaWVkKSB7Ci0JCQlzdHJ1Y3QgZXhmYXRfZGVudHJ5ICplcDsKLQkJCXN0cnVjdCBleGZhdF9l
bnRyeV9zZXRfY2FjaGUgKmVzOwotCQkJaW50IGVycjsKLQotCQkJZXMgPSBleGZhdF9nZXRfZGVu
dHJ5X3NldChzYiwgJihlaS0+ZGlyKSwgZWktPmVudHJ5LAotCQkJCUVTX0FMTF9FTlRSSUVTKTsK
LQkJCWlmICghZXMpCisJCWlmIChtb2RpZmllZCkgeworCQkJaWYgKF9fZXhmYXRfd3JpdGVfaW5v
ZGUoaW5vZGUsIGlub2RlX25lZWRzX3N5bmMoaW5vZGUpKSkKIAkJCQlyZXR1cm4gLUVJTzsKLQkJ
CS8qIGdldCBzdHJlYW0gZW50cnkgKi8KLQkJCWVwID0gZXhmYXRfZ2V0X2RlbnRyeV9jYWNoZWQo
ZXMsIDEpOwotCi0JCQkvKiB1cGRhdGUgZGlyZWN0b3J5IGVudHJ5ICovCi0JCQllcC0+ZGVudHJ5
LnN0cmVhbS5mbGFncyA9IGVpLT5mbGFnczsKLQkJCWVwLT5kZW50cnkuc3RyZWFtLnN0YXJ0X2Ns
dSA9Ci0JCQkJY3B1X3RvX2xlMzIoZWktPnN0YXJ0X2NsdSk7Ci0JCQllcC0+ZGVudHJ5LnN0cmVh
bS52YWxpZF9zaXplID0KLQkJCQljcHVfdG9fbGU2NChpX3NpemVfcmVhZChpbm9kZSkpOwotCQkJ
ZXAtPmRlbnRyeS5zdHJlYW0uc2l6ZSA9Ci0JCQkJZXAtPmRlbnRyeS5zdHJlYW0udmFsaWRfc2l6
ZTsKLQotCQkJZXhmYXRfdXBkYXRlX2Rpcl9jaGtzdW1fd2l0aF9lbnRyeV9zZXQoZXMpOwotCQkJ
ZXJyID0gZXhmYXRfZnJlZV9kZW50cnlfc2V0KGVzLCBpbm9kZV9uZWVkc19zeW5jKGlub2RlKSk7
Ci0JCQlpZiAoZXJyKQotCQkJCXJldHVybiBlcnI7Ci0JCX0gLyogZW5kIG9mIGlmICE9IERJUl9E
RUxFVEVEICovCisJCX0KIAogCQlpbm9kZS0+aV9ibG9ja3MgKz0KIAkJCW51bV90b19iZV9hbGxv
Y2F0ZWQgPDwgc2JpLT5zZWN0X3Blcl9jbHVzX2JpdHM7CmRpZmYgLS1naXQgYS9mcy9leGZhdC9u
YW1laS5jIGIvZnMvZXhmYXQvbmFtZWkuYwppbmRleCA3NmFjYzM3MjE5NTEuLmY2Zjg3MjU4MDNk
YyAxMDA2NDQKLS0tIGEvZnMvZXhmYXQvbmFtZWkuYworKysgYi9mcy9leGZhdC9uYW1laS5jCkBA
IC0zMTgsNyArMzE4LDYgQEAgc3RhdGljIGludCBleGZhdF9maW5kX2VtcHR5X2VudHJ5KHN0cnVj
dCBpbm9kZSAqaW5vZGUsCiAJdW5zaWduZWQgaW50IHJldCwgbGFzdF9jbHU7CiAJbG9mZl90IHNp
emUgPSAwOwogCXN0cnVjdCBleGZhdF9jaGFpbiBjbHU7Ci0Jc3RydWN0IGV4ZmF0X2RlbnRyeSAq
ZXAgPSBOVUxMOwogCXN0cnVjdCBzdXBlcl9ibG9jayAqc2IgPSBpbm9kZS0+aV9zYjsKIAlzdHJ1
Y3QgZXhmYXRfc2JfaW5mbyAqc2JpID0gRVhGQVRfU0Ioc2IpOwogCXN0cnVjdCBleGZhdF9pbm9k
ZV9pbmZvICplaSA9IEVYRkFUX0koaW5vZGUpOwpAQCAtMzg0LDIzICszODMsOCBAQCBzdGF0aWMg
aW50IGV4ZmF0X2ZpbmRfZW1wdHlfZW50cnkoc3RydWN0IGlub2RlICppbm9kZSwKIAkJc2l6ZSA9
IEVYRkFUX0NMVV9UT19CKHBfZGlyLT5zaXplLCBzYmkpOwogCiAJCS8qIHVwZGF0ZSB0aGUgZGly
ZWN0b3J5IGVudHJ5ICovCi0JCWlmIChwX2Rpci0+ZGlyICE9IHNiaS0+cm9vdF9kaXIpIHsKLQkJ
CXN0cnVjdCBidWZmZXJfaGVhZCAqYmg7Ci0KLQkJCWVwID0gZXhmYXRfZ2V0X2RlbnRyeShzYiwK
LQkJCQkmKGVpLT5kaXIpLCBlaS0+ZW50cnkgKyAxLCAmYmgpOwotCQkJaWYgKCFlcCkKLQkJCQly
ZXR1cm4gLUVJTzsKLQotCQkJZXAtPmRlbnRyeS5zdHJlYW0udmFsaWRfc2l6ZSA9IGNwdV90b19s
ZTY0KHNpemUpOwotCQkJZXAtPmRlbnRyeS5zdHJlYW0uc2l6ZSA9IGVwLT5kZW50cnkuc3RyZWFt
LnZhbGlkX3NpemU7Ci0JCQllcC0+ZGVudHJ5LnN0cmVhbS5mbGFncyA9IHBfZGlyLT5mbGFnczsK
LQkJCWV4ZmF0X3VwZGF0ZV9iaChiaCwgSVNfRElSU1lOQyhpbm9kZSkpOwotCQkJYnJlbHNlKGJo
KTsKLQkJCWlmIChleGZhdF91cGRhdGVfZGlyX2Noa3N1bShpbm9kZSwgJihlaS0+ZGlyKSwKLQkJ
CSAgICBlaS0+ZW50cnkpKQotCQkJCXJldHVybiAtRUlPOwotCQl9CisJCWlmIChfX2V4ZmF0X3dy
aXRlX2lub2RlKGlub2RlLCBJU19ESVJTWU5DKGlub2RlKSkpCisJCQlyZXR1cm4gLUVJTzsKIAog
CQkvKiBkaXJlY3RvcnkgaW5vZGUgc2hvdWxkIGJlIHVwZGF0ZWQgaW4gaGVyZSAqLwogCQlpX3Np
emVfd3JpdGUoaW5vZGUsIHNpemUpOwotLSAKMi4yNS4xCgo=

--_002_SG2PR04MB3899E46BF128E2E472354B6D81809SG2PR04MB3899apcp_--
