Return-Path: <linux-fsdevel+bounces-6983-lists+linux-fsdevel=lfdr.de@vger.kernel.org>
X-Original-To: lists+linux-fsdevel@lfdr.de
Delivered-To: lists+linux-fsdevel@lfdr.de
Received: from sv.mirrors.kernel.org (sv.mirrors.kernel.org [139.178.88.99])
	by mail.lfdr.de (Postfix) with ESMTPS id 25F6C81F540
	for <lists+linux-fsdevel@lfdr.de>; Thu, 28 Dec 2023 08:00:19 +0100 (CET)
Received: from smtp.subspace.kernel.org (wormhole.subspace.kernel.org [52.25.139.140])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by sv.mirrors.kernel.org (Postfix) with ESMTPS id D29562816F8
	for <lists+linux-fsdevel@lfdr.de>; Thu, 28 Dec 2023 07:00:17 +0000 (UTC)
Received: from localhost.localdomain (localhost.localdomain [127.0.0.1])
	by smtp.subspace.kernel.org (Postfix) with ESMTP id C396463CA;
	Thu, 28 Dec 2023 07:00:10 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (2048-bit key) header.d=sony.com header.i=@sony.com header.b="UOBjIGtQ"
X-Original-To: linux-fsdevel@vger.kernel.org
Received: from mx07-001d1705.pphosted.com (mx07-001d1705.pphosted.com [185.132.183.11])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id A7A8063A8
	for <linux-fsdevel@vger.kernel.org>; Thu, 28 Dec 2023 07:00:06 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=none dis=none) header.from=sony.com
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=sony.com
Received: from pps.filterd (m0209327.ppops.net [127.0.0.1])
	by mx08-001d1705.pphosted.com (8.17.1.19/8.17.1.19) with ESMTP id 3BS5Zm6E006154;
	Thu, 28 Dec 2023 06:59:54 GMT
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=sony.com; h=from : to : cc :
 subject : date : message-id : mime-version : content-type :
 content-transfer-encoding; s=S1;
 bh=e/fmn8Oc7Uk6aa9doDzB5jUc8QNrahgp1WZDl/3KkTg=;
 b=UOBjIGtQVSf1HCRxi2dk+qEgVkYMmTuuBbVoBWE3qOUP11QNBKUCdIbLgW7CBR6TJUSF
 Yfju58GvL8qRXRWk+Pvn66u4x9OVQAlOakN3tTfOGVNcj8kKlLx2pJRln2as1gB5udCu
 4e0UJV4M+ka7eBl/+JvK5cuVCbmD9XTmWF6TZ36OFfh6Kj2CYtu0hezFPHE6ziSaxHH1
 ZnP/4iJKNX24GCCBFmKT39WZuMbR/+5T58MHY59vUWCLbxFTM05gsASzFeHhdiZHSGZP
 gXXxQvQuC+pqUS2xfipk5elfQhxOtQtsvNtVRPlZj5f+H6VuJyijJoIMxYHG59Sg/Nof 4w== 
Received: from apc01-tyz-obe.outbound.protection.outlook.com (mail-tyzapc01lp2041.outbound.protection.outlook.com [104.47.110.41])
	by mx08-001d1705.pphosted.com (PPS) with ESMTPS id 3v5pe249dg-1
	(version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK);
	Thu, 28 Dec 2023 06:59:54 +0000
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=X9gmLlD6D+QXdDgY6GB29Xghhh2zBqJlIKwwC+xbdgJQrXaD9GOadK6ja4qqZtNGRxObBBt1sb3noJkr8zXY9WnjnVy9feRTSrD3QIJtUQKUTJLespPXI+0SgTfEmYwApyrK05lFdolX9HthCZ/TJa+lEjlZtOfiFPtA++l5bW60bg37pTLrLXYREH/srC3iZEfEqrz3+NNsiP2GtXVQLnLspwPEKnntaVRy0jjcK5g6TO4zyI7AjJrdk54jmTcq/KBVQPcfJhHYMLKYUl/1lGv8Wkjdi3LxuB6lle9SFlNut9Kt211ECOW4/I+bn+WR5HCbbDGa+dY1KRAkP5RoEg==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=e/fmn8Oc7Uk6aa9doDzB5jUc8QNrahgp1WZDl/3KkTg=;
 b=YIFejYuTtZzR1mp2VBQflbZKeQ1bXuX+XPBvtJcY+VMxvT0XqE9s9372Tcwicq2Evs29aWZRa+70di/Pnd75OfsgIwN3gG7Y1PWEWs+iimQGUV/U0f5JPFdrgRTMeBND30BcTSrswa44aeoaHMSPELFb4+2WhBcoDgXf0T2Gtng5NSir7I32gWn42up1wtIG59MfgvIEOXuEpPpmoMcyvADtleb5jwrq5iDwo7zKw9hikzQNyG6puVrnVUnPK1yIeqvYQLAdBF8/m5nDJFRTQgv01ySjS/mU5EnLC+C5Pww9rWxd1XSUJWGqLhcjWDd+JzxB7Iz7OvHdpdNjRsidGA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=sony.com; dmarc=pass action=none header.from=sony.com;
 dkim=pass header.d=sony.com; arc=none
Received: from PUZPR04MB6316.apcprd04.prod.outlook.com (2603:1096:301:fc::7)
 by KL1PR04MB6878.apcprd04.prod.outlook.com (2603:1096:820:d5::9) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.7113.26; Thu, 28 Dec
 2023 06:59:47 +0000
Received: from PUZPR04MB6316.apcprd04.prod.outlook.com
 ([fe80::5914:6fc7:b79d:7e34]) by PUZPR04MB6316.apcprd04.prod.outlook.com
 ([fe80::5914:6fc7:b79d:7e34%7]) with mapi id 15.20.7113.026; Thu, 28 Dec 2023
 06:59:47 +0000
From: "Yuezhang.Mo@sony.com" <Yuezhang.Mo@sony.com>
To: "linkinjeon@kernel.org" <linkinjeon@kernel.org>,
        "sj1557.seo@samsung.com"
	<sj1557.seo@samsung.com>
CC: "linux-fsdevel@vger.kernel.org" <linux-fsdevel@vger.kernel.org>,
        "Andy.Wu@sony.com" <Andy.Wu@sony.com>,
        "Wataru.Aoyama@sony.com"
	<Wataru.Aoyama@sony.com>
Subject: [PATCH v2 06/10] exfat: convert exfat_init_ext_entry() to use dentry
 cache
Thread-Topic: [PATCH v2 06/10] exfat: convert exfat_init_ext_entry() to use
 dentry cache
Thread-Index: Ado5WjOA+wdiwp54SsOXB7UOjr9FWg==
Date: Thu, 28 Dec 2023 06:59:47 +0000
Message-ID: 
 <PUZPR04MB6316F6352DFE1B81DBD710EC819EA@PUZPR04MB6316.apcprd04.prod.outlook.com>
Accept-Language: zh-CN, en-US
Content-Language: zh-CN
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-ms-publictraffictype: Email
x-ms-traffictypediagnostic: PUZPR04MB6316:EE_|KL1PR04MB6878:EE_
x-ms-office365-filtering-correlation-id: e440ec61-1c8f-49db-e35e-08dc07729454
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: 
 xFoy+I1e2mrLRx9oXSRnvyls2Sx7Om11JioDkIa6NAAYwIsIOXyUBKIsa/jWVtnSgi3G0A5ueD/T4ofCLxo7Mw9pPKRkrZAXodcKTdwQDgAaE9l5ESBpIwDXeLnKk4zIiJvX33LnmaD4a0DdhmA4xQwxt4hX26Rpoeo04/GBIv8k6Zj5dKeQAlcZa09UKN9er145OgJFyweE3NsxayYt36U/SgbkAWeWQuIlZZ8N62ozoNwpGCui9bAofAXI50tVTMQp/juSa1j3x1g9aloR81Q/DmCQCS5h4DBf1wB7cmB6tMAOGsBFTz0/H5eacaE0K1Jrht/hbq/9WSnvMSeMOXHI7Dta58uMWswqmOBzQAD3XkU6l1XJD5qrBAotSGl91pOd4v3YMhdel3nGW4DL5kIVcVmEsyclvg37D5Rg+YBUe81r6rxx9WEnga4XC9MwsNX6LnPlyWuKyftKgoBgzAC1SPbZw2KV23YGiPRFDG36+VtHukhTYDyT/RYWdtH8XVkSpundHX+maHcoJk8lQDEBUbrLl31XUiN8skIsMUgDV1BPkFZJReVfY8vJJg7xucYrCAj2Cq7VZnWGT3fdqVamgkfAy7VOuowyKflYvE+2yh6SivEfHPYb8fWHUvhH
x-forefront-antispam-report: 
 CIP:255.255.255.255;CTRY:;LANG:en;SCL:1;SRV:;IPV:NLI;SFV:NSPM;H:PUZPR04MB6316.apcprd04.prod.outlook.com;PTR:;CAT:NONE;SFS:(13230031)(39860400002)(136003)(376002)(346002)(396003)(366004)(230922051799003)(1800799012)(451199024)(186009)(64100799003)(33656002)(9686003)(6506007)(71200400001)(83380400001)(7696005)(478600001)(107886003)(26005)(38100700002)(122000001)(82960400001)(41300700001)(316002)(54906003)(110136005)(66556008)(66946007)(66446008)(66476007)(64756008)(4326008)(8676002)(8936002)(52536014)(5660300002)(76116006)(2906002)(38070700009)(55016003)(86362001);DIR:OUT;SFP:1102;
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0: 
 =?utf-8?B?WkNTK0svSXpBLyt4cFNNNVdmQTBRVWpISEJUT3h2Vk42RzFEU0lHcmRMeGZj?=
 =?utf-8?B?WlFOckhKV0xGcWptQmpGS3AreHl5N0dmRG9sMzhybTRUMjFJRkd4d1ErZW1v?=
 =?utf-8?B?dG5zdUlmNld2ZnZka2Z0WVdrdDFiK0Q3NFFIa2xPVkZ3MHFkM3BzZ3d6citV?=
 =?utf-8?B?YzlSOFVTalNsYngxSEh6ank3MWVBSWFrblVsQndxZFZrMW04djN1TVdiZDVH?=
 =?utf-8?B?ZTNKWVN1ZHFhdzhOMU9iZFQ3QUhRZVRZNkdaeGFrN0JqaE1nVlV2UFlqWUNy?=
 =?utf-8?B?M1lqKy9JRkM0OHAzR05TdTA5a3JXcmpsRHQybk5hbGdnY3FxQ24vUGllNVpI?=
 =?utf-8?B?K01Va3A4NDBjaFpQaFVNOUd6ekpsQWZZUThST0Jid3llaVp3MnVTSDdkT2t6?=
 =?utf-8?B?d2xCNDgxOHRRZXNSYVpXY1owbHNyU3FIY1dPZkhOV0VaVVRucWQ3RDVXOWtU?=
 =?utf-8?B?d25TSEY3YTFVTTNGTXF4NEhuUnBFVVJVUTVaSVl3OVQrZS9hNkFQbXRYYzZ5?=
 =?utf-8?B?L2hCWDEwNEY2SThqTFlTdlZRKzd6NkZmdVlEdWpVQTdnTUg2Sk1tWHAzR1Fv?=
 =?utf-8?B?U1J5ek92OUMyRlYxMEpWTDNsU3RPU3VmRzd4M0xvcHA3dm1uVldVKzYwdEFw?=
 =?utf-8?B?VnhhcWRYSnZZcVdVNTF3ODhpdmE1a3ZRRy8wL1ZoU1NvTXRIMDFXMXJMcEVi?=
 =?utf-8?B?Z3lURkJrK1Vacmg2OUtGUk5MV09wZktvcGo1cGFDZEhFeXpTVXBqbzFsTFVB?=
 =?utf-8?B?RjlFR1pTT250dW9nVStKaG1Xd2NnQUpPbFJUSnh5WkVOdmxzVTE2cWRzNzZH?=
 =?utf-8?B?aE42YVQ5MUlKSjZwS3F1YzJORWVMUnVnWGhaVUEwUjg4VzZkcVcyU09nbEZu?=
 =?utf-8?B?UURkLzYrWThNOWRmK3hpUUljSkR3bWRkU21lMHZRV0NIaGtBZ3c5ZGRKWlRw?=
 =?utf-8?B?aUlGL29jU3pETGUwQlFsSVFzcnViRmh4dUFLMlc2SVNFL2JPVEF0N1owRC95?=
 =?utf-8?B?bzJQcUxWeGN0aDFDNXozWVo5VFg4MnVsaGs3L0laYnk4emxRV2ZtemFiQlI3?=
 =?utf-8?B?QW5LSGlWTzFYblZqTTJaQkhlRXFURGRrdnJFUFNiOE9TL09jd0w1ZGZ2Sm5l?=
 =?utf-8?B?Q29DNEZsc2hZbWh4c3lnOXBoMlhKZklPU1BVNExNZ3dyTVlIU3BjZjRRSkFK?=
 =?utf-8?B?UjNFbi9zV2F2UmoxMG5HVjFEdlJHc2ZVSnZrVnBWN1RXbGNCTnd4SzdoaWZK?=
 =?utf-8?B?YU5pVmpYSjZ2dHk2QjhTbTgraXhIN3F2czIrL0ZEbXEwZzc0cjFiOHh4dVlW?=
 =?utf-8?B?NnVEVlY1UytZYS9MRTF3WXExWHlwM3BnazBxRlVFTEtDNklXcHNBUVJmQlFK?=
 =?utf-8?B?aW5rZ1hYT3JYUUhFbUJzYXJkTzlGNGg1VExBVWl4QytPVy9YS3NKVFp1N1Y2?=
 =?utf-8?B?VGpGUGlLaXlUSElUaDV3Ym4wRXA5eHBBK2dCMG1XNG90bWhFbnNMMG9ISjdX?=
 =?utf-8?B?L3hMWnB2NjFjZmY0bTJjZWcwVEtTRjY2cE5jRTh0YlpxTXBFN0gwd3ZjQlNJ?=
 =?utf-8?B?aS8yZVUweENyVE12Q3lJNUxIWnlNeGdHbUdXOExtQnpHWGhCVjFQTkRGc2Fp?=
 =?utf-8?B?UzMwaEczb1ZLVW5XWlYvR2NocFdna2FZZEh4L2s0YWhidUJxdTZEUDl6QVE4?=
 =?utf-8?B?S0pKaGIxaVlTMzl4QzBmNUNBd21SaWR6UUVWMXc3OHFVYlUzc1Y4eStRbXc3?=
 =?utf-8?B?U3AyM21Dc1hlLzRhREQwWURwcTIxeFpkKzdHYVhxdlFhVk0xaHVPQUdKYStR?=
 =?utf-8?B?bzZHZzRUT0hxQ0hvYUt0cmNvT1kxa09PT29nREJNa3pUK0lqNkhkZjkrQUZ0?=
 =?utf-8?B?ZWlpbWx6ZzNxeTVKbWFGUUEzQktsS2grR0pHT1lPR0h1b3F1L3NwMlJkTDRl?=
 =?utf-8?B?enJZeVVHdG5TK2ZkZE1YQWlkVWM4aHNxUDVwL29XbU5qMGF4R3IvbHRKekt0?=
 =?utf-8?B?S3ZhZXlsZVk3b3U5bzRncXlHZGNzTk5uZE0wbWJKZUwvcVZ4VmRvRkUxM1Bm?=
 =?utf-8?B?cmtlZDB6dDhvUHcyWDlSYXdRcjErcVQyMGZBd1orZDFRUzB4RzBwQzFNUFd3?=
 =?utf-8?Q?AVZDOhNItiYFiR1sel8YA4fmb?=
Precedence: bulk
X-Mailing-List: linux-fsdevel@vger.kernel.org
List-Id: <linux-fsdevel.vger.kernel.org>
List-Subscribe: <mailto:linux-fsdevel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-fsdevel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
X-MS-Exchange-AntiSpam-ExternalHop-MessageData-ChunkCount: 1
X-MS-Exchange-AntiSpam-ExternalHop-MessageData-0: 
	ZSSqCvZQ70QM+CxpuhnCL7Vv2AC9nRXZU+toxkNKxUn8e6BaV/LKNbTZvNhZiFgqizosgWDv3tSv3mHbwl3Y/HYB+Ynxjone7n2UQ6aBGuhQqMTZvkd+hBxqGwIm2xo+h/wAozVPjLV7IBZF7PTsWcTiWNF7+6WN2rKB+nGqQN1QPfJ9PRaqijyJoejREGBQKcGZssaIENOV6sSdgBSACJNdudzyPWgT5Eo40k+/klSFlgvrwd4Q7InEdtuEu00Fu3GdPIPjoLTTBPt7pN9Mg/GtH0v85xjnY/n1PcUmd1HQGoUMmV0Xrcl8vpvv3dIiKaRHqv+XnJd7HKxlSnnVFmh2uFi+PLCFIK7f7xJX4zFdTARd1CZpFZ8ENjsDh6C4uCqXMaU03V3X1CZoBsfxxap1/N8Uwk8ug2m+AAS5eTJWN3fj9HljiH/0kfUIRMY+TOq8HufgvG5vBTg2mUQFmvlwSLxP+NTZR5hfyCg36pBAAzmjDX7DSvfoPupkMFRXhg9G8twpKCTCLiCOrLvv1ce3mxUr+cfIEZliXp4hMAZX3Qu+U2EmJ1truqV9L5Mqlz5G4vC+G4B7yrWOCjOAJy76APwrWvhiwBVyE0wxHJFkOZNH8E+wK4b8wcmzm5r5
X-OriginatorOrg: sony.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: PUZPR04MB6316.apcprd04.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: e440ec61-1c8f-49db-e35e-08dc07729454
X-MS-Exchange-CrossTenant-originalarrivaltime: 28 Dec 2023 06:59:47.5332
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 66c65d8a-9158-4521-a2d8-664963db48e4
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: XY8pzEyJpl21hYI9fJgIWvHkaxZL0kJ1EXvrYy2m9O5kumznjOY4cqINeNKNLuNKhn2uix06znV010N/QzEShQ==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: KL1PR04MB6878
X-Proofpoint-GUID: CwTpJo-HaUIxp9UsxMfpqSzSHxTtfcmN
X-Proofpoint-ORIG-GUID: CwTpJo-HaUIxp9UsxMfpqSzSHxTtfcmN
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
X-Sony-Outbound-GUID: CwTpJo-HaUIxp9UsxMfpqSzSHxTtfcmN
X-Proofpoint-Virus-Version: vendor=baseguard
 engine=ICAP:2.0.272,Aquarius:18.0.997,Hydra:6.0.619,FMLib:17.11.176.26
 definitions=2023-12-28_02,2023-12-27_01,2023-05-22_02

QmVmb3JlIHRoaXMgY29udmVyc2lvbiwgaW4gZXhmYXRfaW5pdF9leHRfZW50cnkoKSwgdG8gaW5p
dA0KdGhlIGRlbnRyaWVzIGluIGEgZGVudHJ5IHNldCwgdGhlIHN5bmMgdGltZXMgaXMgZXF1YWxz
IHRoZQ0KZGVudHJ5IG51bWJlciBpZiAnZGlyc3luYycgb3IgJ3N5bmMnIGlzIGVuYWJsZWQuDQpU
aGF0IGFmZmVjdHMgbm90IG9ubHkgcGVyZm9ybWFuY2UgYnV0IGFsc28gZGV2aWNlIGxpZmUuDQoN
CkFmdGVyIHRoaXMgY29udmVyc2lvbiwgb25seSBuZWVkcyB0byBiZSBzeW5jaHJvbml6ZWQgb25j
ZSBpZg0KJ2RpcnN5bmMnIG9yICdzeW5jJyBpcyBlbmFibGVkLg0KDQpTaWduZWQtb2ZmLWJ5OiBZ
dWV6aGFuZyBNbyA8WXVlemhhbmcuTW9Ac29ueS5jb20+DQpSZXZpZXdlZC1ieTogQW5keSBXdSA8
QW5keS5XdUBzb255LmNvbT4NClJldmlld2VkLWJ5OiBBb3lhbWEgV2F0YXJ1IDx3YXRhcnUuYW95
YW1hQHNvbnkuY29tPg0KLS0tDQogZnMvZXhmYXQvZGlyLmMgICAgICB8IDMzICsrKysrLS0tLS0t
LS0tLS0tLS0tDQogZnMvZXhmYXQvZXhmYXRfZnMuaCB8ICA0ICstLQ0KIGZzL2V4ZmF0L25hbWVp
LmMgICAgfCA3MyArKysrKysrKysrKysrKystLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0N
CiAzIGZpbGVzIGNoYW5nZWQsIDMzIGluc2VydGlvbnMoKyksIDc3IGRlbGV0aW9ucygtKQ0KDQpk
aWZmIC0tZ2l0IGEvZnMvZXhmYXQvZGlyLmMgYi9mcy9leGZhdC9kaXIuYw0KaW5kZXggZDM3Njc2
Nzk3NDVhLi5mMTIzYzFjMmE0YTIgMTAwNjQ0DQotLS0gYS9mcy9leGZhdC9kaXIuYw0KKysrIGIv
ZnMvZXhmYXQvZGlyLmMNCkBAIC01MzIsNDYgKzUzMiwyNyBAQCBzdGF0aWMgdm9pZCBleGZhdF9m
cmVlX2Jlbmlnbl9zZWNvbmRhcnlfY2x1c3RlcnMoc3RydWN0IGlub2RlICppbm9kZSwNCiAJZXhm
YXRfZnJlZV9jbHVzdGVyKGlub2RlLCAmZGlyKTsNCiB9DQogDQotaW50IGV4ZmF0X2luaXRfZXh0
X2VudHJ5KHN0cnVjdCBpbm9kZSAqaW5vZGUsIHN0cnVjdCBleGZhdF9jaGFpbiAqcF9kaXIsDQot
CQlpbnQgZW50cnksIGludCBudW1fZW50cmllcywgc3RydWN0IGV4ZmF0X3VuaV9uYW1lICpwX3Vu
aW5hbWUpDQordm9pZCBleGZhdF9pbml0X2V4dF9lbnRyeShzdHJ1Y3QgZXhmYXRfZW50cnlfc2V0
X2NhY2hlICplcywgaW50IG51bV9lbnRyaWVzLA0KKwkJc3RydWN0IGV4ZmF0X3VuaV9uYW1lICpw
X3VuaW5hbWUpDQogew0KLQlzdHJ1Y3Qgc3VwZXJfYmxvY2sgKnNiID0gaW5vZGUtPmlfc2I7DQog
CWludCBpOw0KIAl1bnNpZ25lZCBzaG9ydCAqdW5pbmFtZSA9IHBfdW5pbmFtZS0+bmFtZTsNCiAJ
c3RydWN0IGV4ZmF0X2RlbnRyeSAqZXA7DQotCXN0cnVjdCBidWZmZXJfaGVhZCAqYmg7DQotCWlu
dCBzeW5jID0gSVNfRElSU1lOQyhpbm9kZSk7DQotDQotCWVwID0gZXhmYXRfZ2V0X2RlbnRyeShz
YiwgcF9kaXIsIGVudHJ5LCAmYmgpOw0KLQlpZiAoIWVwKQ0KLQkJcmV0dXJuIC1FSU87DQogDQor
CWVwID0gZXhmYXRfZ2V0X2RlbnRyeV9jYWNoZWQoZXMsIEVTX0lEWF9GSUxFKTsNCiAJZXAtPmRl
bnRyeS5maWxlLm51bV9leHQgPSAodW5zaWduZWQgY2hhcikobnVtX2VudHJpZXMgLSAxKTsNCi0J
ZXhmYXRfdXBkYXRlX2JoKGJoLCBzeW5jKTsNCi0JYnJlbHNlKGJoKTsNCi0NCi0JZXAgPSBleGZh
dF9nZXRfZGVudHJ5KHNiLCBwX2RpciwgZW50cnkgKyAxLCAmYmgpOw0KLQlpZiAoIWVwKQ0KLQkJ
cmV0dXJuIC1FSU87DQogDQorCWVwID0gZXhmYXRfZ2V0X2RlbnRyeV9jYWNoZWQoZXMsIEVTX0lE
WF9TVFJFQU0pOw0KIAllcC0+ZGVudHJ5LnN0cmVhbS5uYW1lX2xlbiA9IHBfdW5pbmFtZS0+bmFt
ZV9sZW47DQogCWVwLT5kZW50cnkuc3RyZWFtLm5hbWVfaGFzaCA9IGNwdV90b19sZTE2KHBfdW5p
bmFtZS0+bmFtZV9oYXNoKTsNCi0JZXhmYXRfdXBkYXRlX2JoKGJoLCBzeW5jKTsNCi0JYnJlbHNl
KGJoKTsNCi0NCi0JZm9yIChpID0gRVhGQVRfRklSU1RfQ0xVU1RFUjsgaSA8IG51bV9lbnRyaWVz
OyBpKyspIHsNCi0JCWVwID0gZXhmYXRfZ2V0X2RlbnRyeShzYiwgcF9kaXIsIGVudHJ5ICsgaSwg
JmJoKTsNCi0JCWlmICghZXApDQotCQkJcmV0dXJuIC1FSU87DQogDQorCWZvciAoaSA9IEVTX0lE
WF9GSVJTVF9GSUxFTkFNRTsgaSA8IG51bV9lbnRyaWVzOyBpKyspIHsNCisJCWVwID0gZXhmYXRf
Z2V0X2RlbnRyeV9jYWNoZWQoZXMsIGkpOw0KIAkJZXhmYXRfaW5pdF9uYW1lX2VudHJ5KGVwLCB1
bmluYW1lKTsNCi0JCWV4ZmF0X3VwZGF0ZV9iaChiaCwgc3luYyk7DQotCQlicmVsc2UoYmgpOw0K
IAkJdW5pbmFtZSArPSBFWEZBVF9GSUxFX05BTUVfTEVOOw0KIAl9DQogDQotCWV4ZmF0X3VwZGF0
ZV9kaXJfY2hrc3VtKGlub2RlLCBwX2RpciwgZW50cnkpOw0KLQlyZXR1cm4gMDsNCisJZXhmYXRf
dXBkYXRlX2Rpcl9jaGtzdW1fd2l0aF9lbnRyeV9zZXQoZXMpOw0KIH0NCiANCiB2b2lkIGV4ZmF0
X3JlbW92ZV9lbnRyaWVzKHN0cnVjdCBpbm9kZSAqaW5vZGUsIHN0cnVjdCBleGZhdF9lbnRyeV9z
ZXRfY2FjaGUgKmVzLA0KZGlmZiAtLWdpdCBhL2ZzL2V4ZmF0L2V4ZmF0X2ZzLmggYi9mcy9leGZh
dC9leGZhdF9mcy5oDQppbmRleCBmYmY3NmE4YjVkODguLmIxYzg1ZjZlYzkwYiAxMDA2NDQNCi0t
LSBhL2ZzL2V4ZmF0L2V4ZmF0X2ZzLmgNCisrKyBiL2ZzL2V4ZmF0L2V4ZmF0X2ZzLmgNCkBAIC00
ODMsOCArNDgzLDggQEAgdW5zaWduZWQgaW50IGV4ZmF0X2dldF9lbnRyeV90eXBlKHN0cnVjdCBl
eGZhdF9kZW50cnkgKnBfZW50cnkpOw0KIHZvaWQgZXhmYXRfaW5pdF9kaXJfZW50cnkoc3RydWN0
IGV4ZmF0X2VudHJ5X3NldF9jYWNoZSAqZXMsDQogCQl1bnNpZ25lZCBpbnQgdHlwZSwgdW5zaWdu
ZWQgaW50IHN0YXJ0X2NsdSwNCiAJCXVuc2lnbmVkIGxvbmcgbG9uZyBzaXplLCBzdHJ1Y3QgdGlt
ZXNwZWM2NCAqdHMpOw0KLWludCBleGZhdF9pbml0X2V4dF9lbnRyeShzdHJ1Y3QgaW5vZGUgKmlu
b2RlLCBzdHJ1Y3QgZXhmYXRfY2hhaW4gKnBfZGlyLA0KLQkJaW50IGVudHJ5LCBpbnQgbnVtX2Vu
dHJpZXMsIHN0cnVjdCBleGZhdF91bmlfbmFtZSAqcF91bmluYW1lKTsNCit2b2lkIGV4ZmF0X2lu
aXRfZXh0X2VudHJ5KHN0cnVjdCBleGZhdF9lbnRyeV9zZXRfY2FjaGUgKmVzLCBpbnQgbnVtX2Vu
dHJpZXMsDQorCQlzdHJ1Y3QgZXhmYXRfdW5pX25hbWUgKnBfdW5pbmFtZSk7DQogdm9pZCBleGZh
dF9yZW1vdmVfZW50cmllcyhzdHJ1Y3QgaW5vZGUgKmlub2RlLCBzdHJ1Y3QgZXhmYXRfZW50cnlf
c2V0X2NhY2hlICplcywNCiAJCWludCBvcmRlcik7DQogaW50IGV4ZmF0X3VwZGF0ZV9kaXJfY2hr
c3VtKHN0cnVjdCBpbm9kZSAqaW5vZGUsIHN0cnVjdCBleGZhdF9jaGFpbiAqcF9kaXIsDQpkaWZm
IC0tZ2l0IGEvZnMvZXhmYXQvbmFtZWkuYyBiL2ZzL2V4ZmF0L25hbWVpLmMNCmluZGV4IGJlNjc2
MDI5N2U4Zi4uMmM2ZGY0Zjk2NmY1IDEwMDY0NA0KLS0tIGEvZnMvZXhmYXQvbmFtZWkuYw0KKysr
IGIvZnMvZXhmYXQvbmFtZWkuYw0KQEAgLTUzOSwxNSArNTM5LDEyIEBAIHN0YXRpYyBpbnQgZXhm
YXRfYWRkX2VudHJ5KHN0cnVjdCBpbm9kZSAqaW5vZGUsIGNvbnN0IGNoYXIgKnBhdGgsDQogCQln
b3RvIG91dDsNCiANCiAJZXhmYXRfaW5pdF9kaXJfZW50cnkoJmVzLCB0eXBlLCBzdGFydF9jbHUs
IGNsdV9zaXplLCAmdHMpOw0KKwlleGZhdF9pbml0X2V4dF9lbnRyeSgmZXMsIG51bV9lbnRyaWVz
LCAmdW5pbmFtZSk7DQogDQogCXJldCA9IGV4ZmF0X3B1dF9kZW50cnlfc2V0KCZlcywgSVNfRElS
U1lOQyhpbm9kZSkpOw0KIAlpZiAocmV0KQ0KIAkJZ290byBvdXQ7DQogDQotCXJldCA9IGV4ZmF0
X2luaXRfZXh0X2VudHJ5KGlub2RlLCBwX2RpciwgZGVudHJ5LCBudW1fZW50cmllcywgJnVuaW5h
bWUpOw0KLQlpZiAocmV0KQ0KLQkJZ290byBvdXQ7DQotDQogCWluZm8tPmRpciA9ICpwX2RpcjsN
CiAJaW5mby0+ZW50cnkgPSBkZW50cnk7DQogCWluZm8tPmZsYWdzID0gQUxMT0NfTk9fRkFUX0NI
QUlOOw0KQEAgLTEwMTgsOCArMTAxNSw3IEBAIHN0YXRpYyBpbnQgZXhmYXRfcmVuYW1lX2ZpbGUo
c3RydWN0IGlub2RlICppbm9kZSwgc3RydWN0IGV4ZmF0X2NoYWluICpwX2RpciwNCiAJaW50IHJl
dCwgbnVtX25ld19lbnRyaWVzOw0KIAlzdHJ1Y3QgZXhmYXRfZGVudHJ5ICplcG9sZCwgKmVwbmV3
Ow0KIAlzdHJ1Y3Qgc3VwZXJfYmxvY2sgKnNiID0gaW5vZGUtPmlfc2I7DQotCXN0cnVjdCBidWZm
ZXJfaGVhZCAqbmV3X2JoOw0KLQlzdHJ1Y3QgZXhmYXRfZW50cnlfc2V0X2NhY2hlIG9sZF9lczsN
CisJc3RydWN0IGV4ZmF0X2VudHJ5X3NldF9jYWNoZSBvbGRfZXMsIG5ld19lczsNCiAJaW50IHN5
bmMgPSBJU19ESVJTWU5DKGlub2RlKTsNCiANCiAJbnVtX25ld19lbnRyaWVzID0gZXhmYXRfY2Fs
Y19udW1fZW50cmllcyhwX3VuaW5hbWUpOw0KQEAgLTEwNDQsMzMgKzEwNDAsMjUgQEAgc3RhdGlj
IGludCBleGZhdF9yZW5hbWVfZmlsZShzdHJ1Y3QgaW5vZGUgKmlub2RlLCBzdHJ1Y3QgZXhmYXRf
Y2hhaW4gKnBfZGlyLA0KIAkJCWdvdG8gcHV0X29sZF9lczsNCiAJCX0NCiANCi0JCWVwbmV3ID0g
ZXhmYXRfZ2V0X2RlbnRyeShzYiwgcF9kaXIsIG5ld2VudHJ5LCAmbmV3X2JoKTsNCi0JCWlmICgh
ZXBuZXcpIHsNCi0JCQlyZXQgPSAtRUlPOw0KKwkJcmV0ID0gZXhmYXRfZ2V0X2VtcHR5X2RlbnRy
eV9zZXQoJm5ld19lcywgc2IsIHBfZGlyLCBuZXdlbnRyeSwNCisJCQkJbnVtX25ld19lbnRyaWVz
KTsNCisJCWlmIChyZXQpDQogCQkJZ290byBwdXRfb2xkX2VzOw0KLQkJfQ0KIA0KKwkJZXBuZXcg
PSBleGZhdF9nZXRfZGVudHJ5X2NhY2hlZCgmbmV3X2VzLCBFU19JRFhfRklMRSk7DQogCQkqZXBu
ZXcgPSAqZXBvbGQ7DQogCQlpZiAoZXhmYXRfZ2V0X2VudHJ5X3R5cGUoZXBuZXcpID09IFRZUEVf
RklMRSkgew0KIAkJCWVwbmV3LT5kZW50cnkuZmlsZS5hdHRyIHw9IGNwdV90b19sZTE2KEVYRkFU
X0FUVFJfQVJDSElWRSk7DQogCQkJZWktPmF0dHIgfD0gRVhGQVRfQVRUUl9BUkNISVZFOw0KIAkJ
fQ0KLQkJZXhmYXRfdXBkYXRlX2JoKG5ld19iaCwgc3luYyk7DQotCQlicmVsc2UobmV3X2JoKTsN
CiANCiAJCWVwb2xkID0gZXhmYXRfZ2V0X2RlbnRyeV9jYWNoZWQoJm9sZF9lcywgRVNfSURYX1NU
UkVBTSk7DQotCQllcG5ldyA9IGV4ZmF0X2dldF9kZW50cnkoc2IsIHBfZGlyLCBuZXdlbnRyeSAr
IDEsICZuZXdfYmgpOw0KLQkJaWYgKCFlcG5ldykgew0KLQkJCXJldCA9IC1FSU87DQotCQkJZ290
byBwdXRfb2xkX2VzOw0KLQkJfQ0KLQ0KKwkJZXBuZXcgPSBleGZhdF9nZXRfZGVudHJ5X2NhY2hl
ZCgmbmV3X2VzLCBFU19JRFhfU1RSRUFNKTsNCiAJCSplcG5ldyA9ICplcG9sZDsNCi0JCWV4ZmF0
X3VwZGF0ZV9iaChuZXdfYmgsIHN5bmMpOw0KLQkJYnJlbHNlKG5ld19iaCk7DQogDQotCQlyZXQg
PSBleGZhdF9pbml0X2V4dF9lbnRyeShpbm9kZSwgcF9kaXIsIG5ld2VudHJ5LA0KLQkJCW51bV9u
ZXdfZW50cmllcywgcF91bmluYW1lKTsNCisJCWV4ZmF0X2luaXRfZXh0X2VudHJ5KCZuZXdfZXMs
IG51bV9uZXdfZW50cmllcywgcF91bmluYW1lKTsNCisNCisJCXJldCA9IGV4ZmF0X3B1dF9kZW50
cnlfc2V0KCZuZXdfZXMsIHN5bmMpOw0KIAkJaWYgKHJldCkNCiAJCQlnb3RvIHB1dF9vbGRfZXM7
DQogDQpAQCAtMTA4NCwxMSArMTA3Miw3IEBAIHN0YXRpYyBpbnQgZXhmYXRfcmVuYW1lX2ZpbGUo
c3RydWN0IGlub2RlICppbm9kZSwgc3RydWN0IGV4ZmF0X2NoYWluICpwX2RpciwNCiAJCX0NCiAN
CiAJCWV4ZmF0X3JlbW92ZV9lbnRyaWVzKGlub2RlLCAmb2xkX2VzLCBFU19JRFhfRklSU1RfRklM
RU5BTUUgKyAxKTsNCi0NCi0JCXJldCA9IGV4ZmF0X2luaXRfZXh0X2VudHJ5KGlub2RlLCBwX2Rp
ciwgb2xkZW50cnksDQotCQkJbnVtX25ld19lbnRyaWVzLCBwX3VuaW5hbWUpOw0KLQkJaWYgKHJl
dCkNCi0JCQlnb3RvIHB1dF9vbGRfZXM7DQorCQlleGZhdF9pbml0X2V4dF9lbnRyeSgmb2xkX2Vz
LCBudW1fbmV3X2VudHJpZXMsIHBfdW5pbmFtZSk7DQogCX0NCiAJcmV0dXJuIGV4ZmF0X3B1dF9k
ZW50cnlfc2V0KCZvbGRfZXMsIHN5bmMpOw0KIA0KQEAgLTExMDQsOCArMTA4OCw3IEBAIHN0YXRp
YyBpbnQgZXhmYXRfbW92ZV9maWxlKHN0cnVjdCBpbm9kZSAqaW5vZGUsIHN0cnVjdCBleGZhdF9j
aGFpbiAqcF9vbGRkaXIsDQogCWludCByZXQsIG5ld2VudHJ5LCBudW1fbmV3X2VudHJpZXM7DQog
CXN0cnVjdCBleGZhdF9kZW50cnkgKmVwbW92LCAqZXBuZXc7DQogCXN0cnVjdCBzdXBlcl9ibG9j
ayAqc2IgPSBpbm9kZS0+aV9zYjsNCi0Jc3RydWN0IGJ1ZmZlcl9oZWFkICpuZXdfYmg7DQotCXN0
cnVjdCBleGZhdF9lbnRyeV9zZXRfY2FjaGUgbW92X2VzOw0KKwlzdHJ1Y3QgZXhmYXRfZW50cnlf
c2V0X2NhY2hlIG1vdl9lcywgbmV3X2VzOw0KIA0KIAludW1fbmV3X2VudHJpZXMgPSBleGZhdF9j
YWxjX251bV9lbnRyaWVzKHBfdW5pbmFtZSk7DQogCWlmIChudW1fbmV3X2VudHJpZXMgPCAwKQ0K
QEAgLTExMjAsNDMgKzExMDMsMzUgQEAgc3RhdGljIGludCBleGZhdF9tb3ZlX2ZpbGUoc3RydWN0
IGlub2RlICppbm9kZSwgc3RydWN0IGV4ZmF0X2NoYWluICpwX29sZGRpciwNCiAJaWYgKHJldCkN
CiAJCXJldHVybiAtRUlPOw0KIA0KLQllcG1vdiA9IGV4ZmF0X2dldF9kZW50cnlfY2FjaGVkKCZt
b3ZfZXMsIEVTX0lEWF9GSUxFKTsNCi0JZXBuZXcgPSBleGZhdF9nZXRfZGVudHJ5KHNiLCBwX25l
d2RpciwgbmV3ZW50cnksICZuZXdfYmgpOw0KLQlpZiAoIWVwbmV3KSB7DQotCQlyZXQgPSAtRUlP
Ow0KKwlyZXQgPSBleGZhdF9nZXRfZW1wdHlfZGVudHJ5X3NldCgmbmV3X2VzLCBzYiwgcF9uZXdk
aXIsIG5ld2VudHJ5LA0KKwkJCW51bV9uZXdfZW50cmllcyk7DQorCWlmIChyZXQpDQogCQlnb3Rv
IHB1dF9tb3ZfZXM7DQotCX0NCiANCisJZXBtb3YgPSBleGZhdF9nZXRfZGVudHJ5X2NhY2hlZCgm
bW92X2VzLCBFU19JRFhfRklMRSk7DQorCWVwbmV3ID0gZXhmYXRfZ2V0X2RlbnRyeV9jYWNoZWQo
Jm5ld19lcywgRVNfSURYX0ZJTEUpOw0KIAkqZXBuZXcgPSAqZXBtb3Y7DQogCWlmIChleGZhdF9n
ZXRfZW50cnlfdHlwZShlcG5ldykgPT0gVFlQRV9GSUxFKSB7DQogCQllcG5ldy0+ZGVudHJ5LmZp
bGUuYXR0ciB8PSBjcHVfdG9fbGUxNihFWEZBVF9BVFRSX0FSQ0hJVkUpOw0KIAkJZWktPmF0dHIg
fD0gRVhGQVRfQVRUUl9BUkNISVZFOw0KIAl9DQotCWV4ZmF0X3VwZGF0ZV9iaChuZXdfYmgsIElT
X0RJUlNZTkMoaW5vZGUpKTsNCi0JYnJlbHNlKG5ld19iaCk7DQogDQogCWVwbW92ID0gZXhmYXRf
Z2V0X2RlbnRyeV9jYWNoZWQoJm1vdl9lcywgRVNfSURYX1NUUkVBTSk7DQotCWVwbmV3ID0gZXhm
YXRfZ2V0X2RlbnRyeShzYiwgcF9uZXdkaXIsIG5ld2VudHJ5ICsgMSwgJm5ld19iaCk7DQotCWlm
ICghZXBuZXcpIHsNCi0JCXJldCA9IC1FSU87DQotCQlnb3RvIHB1dF9tb3ZfZXM7DQotCX0NCi0N
CisJZXBuZXcgPSBleGZhdF9nZXRfZGVudHJ5X2NhY2hlZCgmbmV3X2VzLCBFU19JRFhfU1RSRUFN
KTsNCiAJKmVwbmV3ID0gKmVwbW92Ow0KLQlleGZhdF91cGRhdGVfYmgobmV3X2JoLCBJU19ESVJT
WU5DKGlub2RlKSk7DQotCWJyZWxzZShuZXdfYmgpOw0KLQ0KLQlyZXQgPSBleGZhdF9pbml0X2V4
dF9lbnRyeShpbm9kZSwgcF9uZXdkaXIsIG5ld2VudHJ5LCBudW1fbmV3X2VudHJpZXMsDQotCQlw
X3VuaW5hbWUpOw0KLQlpZiAocmV0KQ0KLQkJcmV0dXJuIHJldDsNCiANCisJZXhmYXRfaW5pdF9l
eHRfZW50cnkoJm5ld19lcywgbnVtX25ld19lbnRyaWVzLCBwX3VuaW5hbWUpOw0KIAlleGZhdF9y
ZW1vdmVfZW50cmllcyhpbm9kZSwgJm1vdl9lcywgRVNfSURYX0ZJTEUpOw0KIA0KIAlleGZhdF9j
aGFpbl9zZXQoJmVpLT5kaXIsIHBfbmV3ZGlyLT5kaXIsIHBfbmV3ZGlyLT5zaXplLA0KIAkJcF9u
ZXdkaXItPmZsYWdzKTsNCiANCiAJZWktPmVudHJ5ID0gbmV3ZW50cnk7DQorDQorCXJldCA9IGV4
ZmF0X3B1dF9kZW50cnlfc2V0KCZuZXdfZXMsIElTX0RJUlNZTkMoaW5vZGUpKTsNCisJaWYgKHJl
dCkNCisJCWdvdG8gcHV0X21vdl9lczsNCisNCiAJcmV0dXJuIGV4ZmF0X3B1dF9kZW50cnlfc2V0
KCZtb3ZfZXMsIElTX0RJUlNZTkMoaW5vZGUpKTsNCiANCiBwdXRfbW92X2VzOg0KLS0gDQoyLjI1
LjENCg0K

