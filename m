Return-Path: <linux-fsdevel+bounces-14705-lists+linux-fsdevel=lfdr.de@vger.kernel.org>
X-Original-To: lists+linux-fsdevel@lfdr.de
Delivered-To: lists+linux-fsdevel@lfdr.de
Received: from sv.mirrors.kernel.org (sv.mirrors.kernel.org [139.178.88.99])
	by mail.lfdr.de (Postfix) with ESMTPS id B86E187E2FB
	for <lists+linux-fsdevel@lfdr.de>; Mon, 18 Mar 2024 06:22:19 +0100 (CET)
Received: from smtp.subspace.kernel.org (wormhole.subspace.kernel.org [52.25.139.140])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by sv.mirrors.kernel.org (Postfix) with ESMTPS id 6F58E2822FA
	for <lists+linux-fsdevel@lfdr.de>; Mon, 18 Mar 2024 05:22:18 +0000 (UTC)
Received: from localhost.localdomain (localhost.localdomain [127.0.0.1])
	by smtp.subspace.kernel.org (Postfix) with ESMTP id 993E820DFF;
	Mon, 18 Mar 2024 05:22:13 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (2048-bit key) header.d=sony.com header.i=@sony.com header.b="UTz7UbjQ"
X-Original-To: linux-fsdevel@vger.kernel.org
Received: from mx08-001d1705.pphosted.com (mx08-001d1705.pphosted.com [185.183.30.70])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id 90C3620DC4
	for <linux-fsdevel@vger.kernel.org>; Mon, 18 Mar 2024 05:22:10 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=fail smtp.client-ip=185.183.30.70
ARC-Seal:i=2; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1710739333; cv=fail; b=tW9SulFLSIu/dHyNcbJhxjiyO6jmhI8PxB69RD0iJxmvzpWRzy3XCAACzmX7ivhp4XyAI+XFSRNbcIb3W/dDZB0EFUmJUgL/TCMdFxNfrGnpzetsDQ39QAggIR2g2++Lr9n/JqW0K0/f52W5RlRr/WnYC3F5rJRj9UoCodi0ZfA=
ARC-Message-Signature:i=2; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1710739333; c=relaxed/simple;
	bh=+IIQhLmUS1tpocMZbumCvHZ/dfdPQ1/vOPA5l7CLrWg=;
	h=From:To:CC:Subject:Date:Message-ID:MIME-Version:Content-Type; b=qfK/mYer3a1hr2Lk8bmVq8jrQq5grXHhnA0ouP/89fauevZlrtNKbBdsC8smmAW/hckLKug5PEqhKfmnupaPoeg/tJnZRZ/cOnX2OpgFi47d2OVY+hcDPljZ3acHjprq64E36Chk29YpK6qRSRPZ5CY1S8eUVHjAV9njIP9HoYA=
ARC-Authentication-Results:i=2; smtp.subspace.kernel.org; dmarc=pass (p=none dis=none) header.from=sony.com; spf=pass smtp.mailfrom=sony.com; dkim=pass (2048-bit key) header.d=sony.com header.i=@sony.com header.b=UTz7UbjQ; arc=fail smtp.client-ip=185.183.30.70
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=none dis=none) header.from=sony.com
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=sony.com
Received: from pps.filterd (m0209320.ppops.net [127.0.0.1])
	by mx08-001d1705.pphosted.com (8.17.1.19/8.17.1.19) with ESMTP id 42I0YVtd006187;
	Mon, 18 Mar 2024 05:22:01 GMT
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=sony.com; h=from : to : cc :
 subject : date : message-id : mime-version : content-type :
 content-transfer-encoding; s=S1;
 bh=+IIQhLmUS1tpocMZbumCvHZ/dfdPQ1/vOPA5l7CLrWg=;
 b=UTz7UbjQ7hqDmcBruuweKtUCRv85AAbD2F22H6Tkiwuk5ujgrGeOPBnYC6lnHWLlTx0n
 acf7oT+hJgb9F34tpVWTXV2dj0b2OwOKOVp/Zn8wVrmJlGQOpN1wzYc78AMXfR4L5b5V
 vYeeil8G/IrYzngYVir3PZ5xhIrPucDzExkn3gHho9YgsFPQeEOS9tT45wD78wx140L7
 pH4mM24csDlMOuS2nzvwLPq2vbkeBRoPZ9Pe6xLDbxQ1su+AXW3g90RzkOnvD/rM0lLu
 hmwRe55zstaHnmzO/4bB8sw2GGoJjaVQ6NmbE3zSH8Gr42TBjxoNYWS6zIsA3F/Iboz+ BA== 
Received: from apc01-psa-obe.outbound.protection.outlook.com (mail-psaapc01lp2040.outbound.protection.outlook.com [104.47.26.40])
	by mx08-001d1705.pphosted.com (PPS) with ESMTPS id 3ww1am1hk6-1
	(version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK);
	Mon, 18 Mar 2024 05:22:00 +0000
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=c6N4wxAq81fq025tlcofXR4ATzvnHpIZAotyo4nXSOB0BJDVgdWGYIW5Vk52t8UrbaisgZ+ve35fjWDBZTiM/7AyQ+FqwzJGXx8qZIbcoIlnlKSm6RZChrXajz7femoQuFgT37rLcmK6UIDRkdFIH4tHvo4W/Ps7HOjtbPMQ/esTIAN1ZkomdJmFGaCIsy7h7D2Oi7rlTMhOBiFFDxeO8Inf6Fjys9TZQy4PKYn4UaMntw/gPDpUTO0hAAxmOUIN42qPLcwgsIOay6Ni/CuaAaCEEDpSl5Y0Y2H4C52+LaLfNudFG1JFyixtlwZWGog6l/95kBYYZpZM1eQ+43GHqQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=+IIQhLmUS1tpocMZbumCvHZ/dfdPQ1/vOPA5l7CLrWg=;
 b=Rf1uEq4N6Lp0HmsNypBIY4bbS6goCo8XjiivCKPeu5KAnSSZd0PIa79Kvy6g1EevEEETxu8/rPELT0GiUCVRf+NCejdpRmAR5Vycvrl+M9S/zwYjJuros+e+rN5BKFxWIV3pdDsu3t9IqFEux/iVVxLFN7QizSQR9baxXbZeO0THSFIyRt+09Si2wS4rQdH+iwr2Hc+C/WrLWIyGC9PVMiZl3Cl/Ra3Gshx2ftmcK7YvD4Eg119oa9ClkFV3fb7htd2wsMdVNd4Hj7YTvr+CwV2qwUNKys/ZvEzFY2v0gFnbO0OnYAHnC2dAGjMqpM4ad+uWrACYZ/TsqH0pDjl2hA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=sony.com; dmarc=pass action=none header.from=sony.com;
 dkim=pass header.d=sony.com; arc=none
Received: from PUZPR04MB6316.apcprd04.prod.outlook.com (2603:1096:301:fc::7)
 by SI2PR04MB5895.apcprd04.prod.outlook.com (2603:1096:4:1eb::6) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.7386.26; Mon, 18 Mar
 2024 05:21:54 +0000
Received: from PUZPR04MB6316.apcprd04.prod.outlook.com
 ([fe80::7414:91e1:bb61:1c8d]) by PUZPR04MB6316.apcprd04.prod.outlook.com
 ([fe80::7414:91e1:bb61:1c8d%7]) with mapi id 15.20.7386.022; Mon, 18 Mar 2024
 05:21:54 +0000
From: "Yuezhang.Mo@sony.com" <Yuezhang.Mo@sony.com>
To: "linkinjeon@kernel.org" <linkinjeon@kernel.org>,
        "sj1557.seo@samsung.com"
	<sj1557.seo@samsung.com>
CC: "linux-fsdevel@vger.kernel.org" <linux-fsdevel@vger.kernel.org>,
        "Andy.Wu@sony.com" <Andy.Wu@sony.com>,
        "Wataru.Aoyama@sony.com"
	<Wataru.Aoyama@sony.com>
Subject: [PATCH v4 04/10] exfat: convert exfat_remove_entries() to use dentry
 cache
Thread-Topic: [PATCH v4 04/10] exfat: convert exfat_remove_entries() to use
 dentry cache
Thread-Index: AdiooMwbxmVRnjZgQTisyZfS8SST6HQUX8mg
Date: Mon, 18 Mar 2024 05:21:54 +0000
Message-ID: 
 <PUZPR04MB6316C1E6600584C874F41E5F812D2@PUZPR04MB6316.apcprd04.prod.outlook.com>
Accept-Language: zh-CN, en-US
Content-Language: zh-CN
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-ms-publictraffictype: Email
x-ms-traffictypediagnostic: PUZPR04MB6316:EE_|SI2PR04MB5895:EE_
x-ms-office365-filtering-correlation-id: be4c4766-bda3-4627-302c-08dc470b530b
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: 
 tdD7cec7CqqibmHxdiLxVP9DxSHaAN47Fda6Dbx7KHze/nJWsBFiP0knj6fTJhkawnL6MMwWSCbxAvCGSVxHPcN0DwuD2RTvUObI7W9TEJa/kW4UfhM6+0dVxjjiXeOCIPsLPIZ8VUUyw35blsE39re1QouDg13/Oecr+md2pwt5i4b8sVKd1ykXHDfFDlOAaz0IZHXJY7+i/CruVqv2jChY6kLrdgSh7gv/2VQmi4AvGgj2YMKOojBsxOMoYgWgv90QSvhPx58tsI7VLoBswYJuYOBWL3JR92a+0eijWe7oWSUnMw57PYKSlxC2w4bqJXu6/OsvcDVjnLlWopp3aUnx+UtsMZL32kIfYOMJZugyDyuVNpLHfbxkLYSmIFsFlf2e9Wc/gylRM9ZBExpRqCyr7GTr+Pi7OFRrvsOkGs4ULQ+o9tHtTXmHRaCSu17/S3NTzI6FDWf1T1a5MqiIb4CxFmCr/+lF3qAYNCIpeyMp1ltie2j3EOYTY4qMhntyVEzey8Dyv2aZen4lSYVCvgOFt0xX09cF6ncOTEIElnIAclCivDxoPVwyr/kFlePF1yEtPoUQqmGM+XsXbgT0G4ICGrJUj1bLJZ771YJ/iNDU7DguMsFUK14z5e9cjZrvgWyGqTrxy/xp5MbA2YOvXPzR8Vj4VVlsnYzNuL5QSmt6KPq8azqwqvq41wLDSSRdCHD51uYFQFJF9TwlFiYAeHAvwlmD1l5NgqU1/pXVBOE=
x-forefront-antispam-report: 
 CIP:255.255.255.255;CTRY:;LANG:zh-cn;SCL:1;SRV:;IPV:NLI;SFV:NSPM;H:PUZPR04MB6316.apcprd04.prod.outlook.com;PTR:;CAT:NONE;SFS:(13230031)(376005)(366007)(1800799015)(38070700009);DIR:OUT;SFP:1101;
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0: 
 =?utf-8?B?cTN4Qnlmb3ZrYzVYaVBNRkRBR1hRVUJqVFlZWGxRd1cyOU1xbXlEMzVWa3lj?=
 =?utf-8?B?cGpON1BZaTV6Rk9GdVpUUm1YZTNpekV6NDczSlMyRHdiditEZWRqaC93Q1ZN?=
 =?utf-8?B?bDI3aW45RlpETVFWRzZJVU1JRXR1VWYxYU9FQy8vYkdPc1piWkhhR2NiVVZF?=
 =?utf-8?B?THREN0lzWW1ZVm5DR044VVk0dnN2dk1XYkMzVTI4djAwUSsvNW9vb3ppOExn?=
 =?utf-8?B?TkQxMklmRnFNZUZBTi9VU3RkTE1UQVgrZ0RweGNQRXVwS3hsdmlzS0VtaU8w?=
 =?utf-8?B?NWtNZ2dIVE9BOHpsbnljcm5aaDRQcXBBa08wTkpjbXNMTDB3Ulo2Wm5DcC9l?=
 =?utf-8?B?TGlXNmJTeGp2ZzRKdW1wTGJraFdpT3h5ZHVQWDJFelUzL2JZTk1SZENyT3Qz?=
 =?utf-8?B?bzdSTnhQL3JrZnRoaWRIK1M5cElRcDFKY2ZvODA3T0pzNVJFRjBwRHdieXlj?=
 =?utf-8?B?aGRQSTNYaWNIek03MHRhNVkyZEJKZk5ELzBZNlFaTU5sNUNCSmdwSXd2SWls?=
 =?utf-8?B?Y3l4TzBBQWlkKy95Z25Vd284N1JVSTBnWHF5eWx5YXR5aGs4L2p0ZW10WkZS?=
 =?utf-8?B?bEt3Umw5Yk1tbU01OWFKdUNNNVZWSlR2alRDS2lLSjkwckErSjFPRk1sbEZ2?=
 =?utf-8?B?K2t2UzVpRkdDNU5MdEtadWRtTWdKWFpRNnFYeEVDQVRyRFg5alBUY295MEpD?=
 =?utf-8?B?aGFGd0ZXd2RWam9JRG1jQVdOTlNSMWlGWlJabFJGSVg1Sk1uRlFVcGhWRmlS?=
 =?utf-8?B?SWR6QW5leVBSWXBJSXMyOTlQeUdEVnFpK3AveGtZb0VMdWtjbTNyVzRrRXRt?=
 =?utf-8?B?STdoR3VxTm1Ob3piSDl2ZXZKRFBWYWFQUC9Tdk1qR1Qrb2Q5bTJwQVFZajlh?=
 =?utf-8?B?MXk3Y0w2MXBBYkVOdDhCV0ExNDJWNEp0b0JHdER3NW4zWElNVWp2eERuY2k0?=
 =?utf-8?B?VGo5OEprNDJjWnFadElac3ZTQTVrcnZFNEVVNUN3MkNpS2ppNDFjK2pEa0l3?=
 =?utf-8?B?ZkhpeGVqSEJiSkhRY3pKa2Z6NGdGUG41ODQ0ejdCaVpOYnBqS25WaDJrME8w?=
 =?utf-8?B?RFhTaVphYXhoaGJ2bzE1d2ltRFg4L2JxR2lwSVB5RWpjS1hyRnBKS1ltbjdY?=
 =?utf-8?B?Q0loaVI4OWZjb2drWUNUTnRBeVdMTzV6YkhpUDc4WmQzNDM5TlF1bmZtTWwy?=
 =?utf-8?B?bC9uVzhuNG54MTRZLzJ1WmpvbXo2WDdJOTdRN091a3N1Qm9rV1N3R2t6eVVF?=
 =?utf-8?B?RmRXOUQ4RHdPd2N3VnV6SVgxNUpVU0FZV1JUYnUrbllBckhDOTVMaXE4SDYy?=
 =?utf-8?B?Ylh4ZWJUU3JLY2NuMWNmVDlFbm82dGRhZUIrRjNaV1lHVUxDRDRsQS9QSWhU?=
 =?utf-8?B?ZThja2todGtoaWczdW5Vd0w5TkVmb3poUC9zcVNpUnhVajNpTHZHUjltcVVY?=
 =?utf-8?B?MnVXNTZQRW9VTXFkaDZiWmQ2V3pRcnFQb2xFMGYyNlZpa01EeE96L29jNGF3?=
 =?utf-8?B?bWF0UVJRejFHVUpxYlZTODl1L09Vd0toNFpFWnNPaG45SGpNazlLbXNaTmJk?=
 =?utf-8?B?dU9KeUhlYSs3QjB0ZlNtVzhUYU5nZWJFcnRmUjZYNGRvUTZ3Rm5IZWQ4R0Q3?=
 =?utf-8?B?dW4yRG9UeTF5RXU0RGZlRnZGSjRJa2tjVnNmYW51QkJ0SFIrbTRSVTJqckxl?=
 =?utf-8?B?TWpwSE5oUVJYcXRzb2JrZTA1clVKSUNnQWtGVlhVTDJFa3hpUUhZdktaL2dj?=
 =?utf-8?B?WnhOUmdBZnl5dXVkVHhGU0hHU21XdDlOSzVjQWVZQUFHeXlvR3l4REh0cjZ0?=
 =?utf-8?B?Y2dPWjJ4MkhPdmhtTDREYklZYkhvZ1pUYjNxY2RyWFJnU1dVbE1sSlhFK3NC?=
 =?utf-8?B?dzBrczk3ZEsxNnFlWm9yWnd5dFh5Qk9sdTRGL3ZQL2FCb0VQNmJ6cTRNMHg4?=
 =?utf-8?B?OUdmL0cvdWtWQnRKMjV4YnhoTXpRcmppakNQMVFBRVBQKzh3cCswY0hTQWYy?=
 =?utf-8?B?QXFuTTFCUDNPNmlaMG43MnFTQU5sUHYvOEpmeStkTGtCQVdhQ2JwOGQrSVY4?=
 =?utf-8?B?eE9WQUVIcWk1QThLajErL1Bqa0RqaEtJWFhPN09KUk4xNFI4MGxwTklTOU9w?=
 =?utf-8?Q?uuYNBSbxu/X+NbCYUj64d/Fhh?=
Precedence: bulk
X-Mailing-List: linux-fsdevel@vger.kernel.org
List-Id: <linux-fsdevel.vger.kernel.org>
List-Subscribe: <mailto:linux-fsdevel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-fsdevel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
X-MS-Exchange-AntiSpam-ExternalHop-MessageData-ChunkCount: 1
X-MS-Exchange-AntiSpam-ExternalHop-MessageData-0: 
	2XJkn1Vuy8cAaqFZogUt6QL/fANJMhCO0M2rcB/rcjKRtF8astVMK8SYO0/kQCpugxPrArVi1v1ZZu8ISLNq3mB7maPULY4Z9Xc5jsBCfNjI6J+3QhW1dW6OEam/mEsGLQlcE0hOoVLNXSq4TasTwbmitGZ+T0bPYuuPdxMRKakDt5kKWSwqxq7pAyd6GoGCYjpaWV/OYP5WXIbCkWE8qbKgen+16biMiGVPBJFUePqzLkFsZ09b+QbI5Snn+CNCYLvQsD3FfGFy2q5bhkNdVvHVgyaJyveo0JcjHJbvOBDf0SfDozI2cMYRcY3DYd80qWEQvfYcrSBZTVUif5LVhktvfLjQsUtT/Kls0ckD1R3BcmiN5hXe2kZDN2cFWmw3ljh49i7PB8fcFLKtlMhY14K5miA+P+VLM/Cem5SROma7Cgkm++JFJHNmcJnkAbva6vCvHwfUybt7CFm4Shl64Tec9Z5unMLf73ByukQDjJfqfC72LpepBhmSyU0wpHK2u9UJ7+xgA0PTpNHgPuTT49mv50JMijcD55QN+khYuer5KYu98rb3Lljnqcsu416Mw2uDk2XJ0Tkoc1jHZlR0ZxqVnMCQGAd0C9XVpKG43ojkElv6iXVRHcsbidwnnWnG
X-OriginatorOrg: sony.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: PUZPR04MB6316.apcprd04.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: be4c4766-bda3-4627-302c-08dc470b530b
X-MS-Exchange-CrossTenant-originalarrivaltime: 18 Mar 2024 05:21:54.3040
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 66c65d8a-9158-4521-a2d8-664963db48e4
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: Hd/1TxLE5uzrAdW2l17LoZBJ7hmn0O0NrSrpnns65SgEnN4q8d+h7Z/1DSCmVYLdpkIpArWurLTk8novzdFLsg==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: SI2PR04MB5895
X-Proofpoint-ORIG-GUID: QjoO1Ib4w5vAImY4t3ClwD8dxAEsbnYa
X-Proofpoint-GUID: QjoO1Ib4w5vAImY4t3ClwD8dxAEsbnYa
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
X-Sony-Outbound-GUID: QjoO1Ib4w5vAImY4t3ClwD8dxAEsbnYa
X-Proofpoint-Virus-Version: vendor=baseguard
 engine=ICAP:2.0.272,Aquarius:18.0.1011,Hydra:6.0.619,FMLib:17.11.176.26
 definitions=2024-03-17_12,2024-03-15_01,2023-05-22_02

DQpCZWZvcmUgdGhpcyBjb252ZXJzaW9uLCBpbiBleGZhdF9yZW1vdmVfZW50cmllcygpLCB0byBt
YXJrIHRoZQ0KZGVudHJpZXMgaW4gYSBkZW50cnkgc2V0IGFzIGRlbGV0ZWQsIHRoZSBzeW5jIHRp
bWVzIGlzIGVxdWFscw0KdGhlIGRlbnRyeSBudW1iZXJzIGlmICdkaXJzeW5jJyBvciAnc3luYycg
aXMgZW5hYmxlZC4NClRoYXQgYWZmZWN0cyBub3Qgb25seSBwZXJmb3JtYW5jZSBidXQgYWxzbyBk
ZXZpY2UgbGlmZS4NCg0KQWZ0ZXIgdGhpcyBjb252ZXJzaW9uLCBvbmx5IG5lZWRzIHRvIGJlIHN5
bmNocm9uaXplZCBvbmNlIGlmDQonZGlyc3luYycgb3IgJ3N5bmMnIGlzIGVuYWJsZWQuDQoNClNp
Z25lZC1vZmYtYnk6IFl1ZXpoYW5nIE1vIDxZdWV6aGFuZy5Nb0Bzb255LmNvbT4NClJldmlld2Vk
LWJ5OiBBbmR5IFd1IDxBbmR5Lld1QHNvbnkuY29tPg0KUmV2aWV3ZWQtYnk6IEFveWFtYSBXYXRh
cnUgPHdhdGFydS5hb3lhbWFAc29ueS5jb20+DQpSZXZpZXdlZC1ieTogU3VuZ2pvbmcgU2VvIDxz
ajE1NTcuc2VvQHNhbXN1bmcuY29tPg0KU2lnbmVkLW9mZi1ieTogTmFtamFlIEplb24gPGxpbmtp
bmplb25Aa2VybmVsLm9yZz4NCi0tLQ0KIGZzL2V4ZmF0L2Rpci5jICAgICAgfCAgMTcgKystLQ0K
IGZzL2V4ZmF0L2V4ZmF0X2ZzLmggfCAgIDQgKy0NCiBmcy9leGZhdC9uYW1laS5jICAgIHwgMTg0
ICsrKysrKysrKysrKysrKysrKysrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogMyBmaWxlcyBj
aGFuZ2VkLCA5MCBpbnNlcnRpb25zKCspLCAxMTUgZGVsZXRpb25zKC0pDQoNCmRpZmYgLS1naXQg
YS9mcy9leGZhdC9kaXIuYyBiL2ZzL2V4ZmF0L2Rpci5jDQppbmRleCAwMDY1ZDJhYmM5ODMuLjU5
OWRjODFjOWEwOCAxMDA2NDQNCi0tLSBhL2ZzL2V4ZmF0L2Rpci5jDQorKysgYi9mcy9leGZhdC9k
aXIuYw0KQEAgLTU3NywyOCArNTc3LDIzIEBAIGludCBleGZhdF9pbml0X2V4dF9lbnRyeShzdHJ1
Y3QgaW5vZGUgKmlub2RlLCBzdHJ1Y3QgZXhmYXRfY2hhaW4gKnBfZGlyLA0KIAlyZXR1cm4gMDsN
CiB9DQogDQotaW50IGV4ZmF0X3JlbW92ZV9lbnRyaWVzKHN0cnVjdCBpbm9kZSAqaW5vZGUsIHN0
cnVjdCBleGZhdF9jaGFpbiAqcF9kaXIsDQotCQlpbnQgZW50cnksIGludCBvcmRlciwgaW50IG51
bV9lbnRyaWVzKQ0KK3ZvaWQgZXhmYXRfcmVtb3ZlX2VudHJpZXMoc3RydWN0IGlub2RlICppbm9k
ZSwgc3RydWN0IGV4ZmF0X2VudHJ5X3NldF9jYWNoZSAqZXMsDQorCQlpbnQgb3JkZXIpDQogew0K
LQlzdHJ1Y3Qgc3VwZXJfYmxvY2sgKnNiID0gaW5vZGUtPmlfc2I7DQogCWludCBpOw0KIAlzdHJ1
Y3QgZXhmYXRfZGVudHJ5ICplcDsNCi0Jc3RydWN0IGJ1ZmZlcl9oZWFkICpiaDsNCiANCi0JZm9y
IChpID0gb3JkZXI7IGkgPCBudW1fZW50cmllczsgaSsrKSB7DQotCQllcCA9IGV4ZmF0X2dldF9k
ZW50cnkoc2IsIHBfZGlyLCBlbnRyeSArIGksICZiaCk7DQotCQlpZiAoIWVwKQ0KLQkJCXJldHVy
biAtRUlPOw0KKwlmb3IgKGkgPSBvcmRlcjsgaSA8IGVzLT5udW1fZW50cmllczsgaSsrKSB7DQor
CQllcCA9IGV4ZmF0X2dldF9kZW50cnlfY2FjaGVkKGVzLCBpKTsNCiANCiAJCWlmIChleGZhdF9n
ZXRfZW50cnlfdHlwZShlcCkgJiBUWVBFX0JFTklHTl9TRUMpDQogCQkJZXhmYXRfZnJlZV9iZW5p
Z25fc2Vjb25kYXJ5X2NsdXN0ZXJzKGlub2RlLCBlcCk7DQogDQogCQlleGZhdF9zZXRfZW50cnlf
dHlwZShlcCwgVFlQRV9ERUxFVEVEKTsNCi0JCWV4ZmF0X3VwZGF0ZV9iaChiaCwgSVNfRElSU1lO
Qyhpbm9kZSkpOw0KLQkJYnJlbHNlKGJoKTsNCiAJfQ0KIA0KLQlyZXR1cm4gMDsNCisJaWYgKG9y
ZGVyIDwgZXMtPm51bV9lbnRyaWVzKQ0KKwkJZXMtPm1vZGlmaWVkID0gdHJ1ZTsNCiB9DQogDQog
dm9pZCBleGZhdF91cGRhdGVfZGlyX2Noa3N1bV93aXRoX2VudHJ5X3NldChzdHJ1Y3QgZXhmYXRf
ZW50cnlfc2V0X2NhY2hlICplcykNCmRpZmYgLS1naXQgYS9mcy9leGZhdC9leGZhdF9mcy5oIGIv
ZnMvZXhmYXQvZXhmYXRfZnMuaA0KaW5kZXggZWNjNWY2YTNhZDg3Li44M2FlODRhNjU3Y2QgMTAw
NjQ0DQotLS0gYS9mcy9leGZhdC9leGZhdF9mcy5oDQorKysgYi9mcy9leGZhdC9leGZhdF9mcy5o
DQpAQCAtNDg1LDggKzQ4NSw4IEBAIHZvaWQgZXhmYXRfaW5pdF9kaXJfZW50cnkoc3RydWN0IGV4
ZmF0X2VudHJ5X3NldF9jYWNoZSAqZXMsDQogCQl1bnNpZ25lZCBsb25nIGxvbmcgc2l6ZSwgc3Ry
dWN0IHRpbWVzcGVjNjQgKnRzKTsNCiBpbnQgZXhmYXRfaW5pdF9leHRfZW50cnkoc3RydWN0IGlu
b2RlICppbm9kZSwgc3RydWN0IGV4ZmF0X2NoYWluICpwX2RpciwNCiAJCWludCBlbnRyeSwgaW50
IG51bV9lbnRyaWVzLCBzdHJ1Y3QgZXhmYXRfdW5pX25hbWUgKnBfdW5pbmFtZSk7DQotaW50IGV4
ZmF0X3JlbW92ZV9lbnRyaWVzKHN0cnVjdCBpbm9kZSAqaW5vZGUsIHN0cnVjdCBleGZhdF9jaGFp
biAqcF9kaXIsDQotCQlpbnQgZW50cnksIGludCBvcmRlciwgaW50IG51bV9lbnRyaWVzKTsNCit2
b2lkIGV4ZmF0X3JlbW92ZV9lbnRyaWVzKHN0cnVjdCBpbm9kZSAqaW5vZGUsIHN0cnVjdCBleGZh
dF9lbnRyeV9zZXRfY2FjaGUgKmVzLA0KKwkJaW50IG9yZGVyKTsNCiBpbnQgZXhmYXRfdXBkYXRl
X2Rpcl9jaGtzdW0oc3RydWN0IGlub2RlICppbm9kZSwgc3RydWN0IGV4ZmF0X2NoYWluICpwX2Rp
ciwNCiAJCWludCBlbnRyeSk7DQogdm9pZCBleGZhdF91cGRhdGVfZGlyX2Noa3N1bV93aXRoX2Vu
dHJ5X3NldChzdHJ1Y3QgZXhmYXRfZW50cnlfc2V0X2NhY2hlICplcyk7DQpkaWZmIC0tZ2l0IGEv
ZnMvZXhmYXQvbmFtZWkuYyBiL2ZzL2V4ZmF0L25hbWVpLmMNCmluZGV4IDA3NTA2ZjM4ODJiYi4u
ZjU2ZTIyM2I5YjhmIDEwMDY0NA0KLS0tIGEvZnMvZXhmYXQvbmFtZWkuYw0KKysrIGIvZnMvZXhm
YXQvbmFtZWkuYw0KQEAgLTgwMywxMiArODAzLDExIEBAIHN0YXRpYyBzdHJ1Y3QgZGVudHJ5ICpl
eGZhdF9sb29rdXAoc3RydWN0IGlub2RlICpkaXIsIHN0cnVjdCBkZW50cnkgKmRlbnRyeSwNCiBz
dGF0aWMgaW50IGV4ZmF0X3VubGluayhzdHJ1Y3QgaW5vZGUgKmRpciwgc3RydWN0IGRlbnRyeSAq
ZGVudHJ5KQ0KIHsNCiAJc3RydWN0IGV4ZmF0X2NoYWluIGNkaXI7DQotCXN0cnVjdCBleGZhdF9k
ZW50cnkgKmVwOw0KIAlzdHJ1Y3Qgc3VwZXJfYmxvY2sgKnNiID0gZGlyLT5pX3NiOw0KIAlzdHJ1
Y3QgaW5vZGUgKmlub2RlID0gZGVudHJ5LT5kX2lub2RlOw0KIAlzdHJ1Y3QgZXhmYXRfaW5vZGVf
aW5mbyAqZWkgPSBFWEZBVF9JKGlub2RlKTsNCi0Jc3RydWN0IGJ1ZmZlcl9oZWFkICpiaDsNCi0J
aW50IG51bV9lbnRyaWVzLCBlbnRyeSwgZXJyID0gMDsNCisJc3RydWN0IGV4ZmF0X2VudHJ5X3Nl
dF9jYWNoZSBlczsNCisJaW50IGVudHJ5LCBlcnIgPSAwOw0KIA0KIAltdXRleF9sb2NrKCZFWEZB
VF9TQihzYiktPnNfbG9jayk7DQogCWV4ZmF0X2NoYWluX2R1cCgmY2RpciwgJmVpLT5kaXIpOw0K
QEAgLTgxOSwyNiArODE4LDIwIEBAIHN0YXRpYyBpbnQgZXhmYXRfdW5saW5rKHN0cnVjdCBpbm9k
ZSAqZGlyLCBzdHJ1Y3QgZGVudHJ5ICpkZW50cnkpDQogCQlnb3RvIHVubG9jazsNCiAJfQ0KIA0K
LQllcCA9IGV4ZmF0X2dldF9kZW50cnkoc2IsICZjZGlyLCBlbnRyeSwgJmJoKTsNCi0JaWYgKCFl
cCkgew0KLQkJZXJyID0gLUVJTzsNCi0JCWdvdG8gdW5sb2NrOw0KLQl9DQotCW51bV9lbnRyaWVz
ID0gZXhmYXRfY291bnRfZXh0X2VudHJpZXMoc2IsICZjZGlyLCBlbnRyeSwgZXApOw0KLQlpZiAo
bnVtX2VudHJpZXMgPCAwKSB7DQorCWVyciA9IGV4ZmF0X2dldF9kZW50cnlfc2V0KCZlcywgc2Is
ICZjZGlyLCBlbnRyeSwgRVNfQUxMX0VOVFJJRVMpOw0KKwlpZiAoZXJyKSB7DQogCQllcnIgPSAt
RUlPOw0KLQkJYnJlbHNlKGJoKTsNCiAJCWdvdG8gdW5sb2NrOw0KIAl9DQotCW51bV9lbnRyaWVz
Kys7DQotCWJyZWxzZShiaCk7DQogDQogCWV4ZmF0X3NldF92b2x1bWVfZGlydHkoc2IpOw0KKw0K
IAkvKiB1cGRhdGUgdGhlIGRpcmVjdG9yeSBlbnRyeSAqLw0KLQlpZiAoZXhmYXRfcmVtb3ZlX2Vu
dHJpZXMoZGlyLCAmY2RpciwgZW50cnksIDAsIG51bV9lbnRyaWVzKSkgew0KLQkJZXJyID0gLUVJ
TzsNCisJZXhmYXRfcmVtb3ZlX2VudHJpZXMoaW5vZGUsICZlcywgRVNfSURYX0ZJTEUpOw0KKw0K
KwllcnIgPSBleGZhdF9wdXRfZGVudHJ5X3NldCgmZXMsIElTX0RJUlNZTkMoaW5vZGUpKTsNCisJ
aWYgKGVycikNCiAJCWdvdG8gdW5sb2NrOw0KLQl9DQogDQogCS8qIFRoaXMgZG9lc24ndCBtb2Rp
ZnkgZWkgKi8NCiAJZWktPmRpci5kaXIgPSBESVJfREVMRVRFRDsNCkBAIC05NTQsMTMgKzk0Nywx
MiBAQCBzdGF0aWMgaW50IGV4ZmF0X2NoZWNrX2Rpcl9lbXB0eShzdHJ1Y3Qgc3VwZXJfYmxvY2sg
KnNiLA0KIHN0YXRpYyBpbnQgZXhmYXRfcm1kaXIoc3RydWN0IGlub2RlICpkaXIsIHN0cnVjdCBk
ZW50cnkgKmRlbnRyeSkNCiB7DQogCXN0cnVjdCBpbm9kZSAqaW5vZGUgPSBkZW50cnktPmRfaW5v
ZGU7DQotCXN0cnVjdCBleGZhdF9kZW50cnkgKmVwOw0KIAlzdHJ1Y3QgZXhmYXRfY2hhaW4gY2Rp
ciwgY2x1X3RvX2ZyZWU7DQogCXN0cnVjdCBzdXBlcl9ibG9jayAqc2IgPSBpbm9kZS0+aV9zYjsN
CiAJc3RydWN0IGV4ZmF0X3NiX2luZm8gKnNiaSA9IEVYRkFUX1NCKHNiKTsNCiAJc3RydWN0IGV4
ZmF0X2lub2RlX2luZm8gKmVpID0gRVhGQVRfSShpbm9kZSk7DQotCXN0cnVjdCBidWZmZXJfaGVh
ZCAqYmg7DQotCWludCBudW1fZW50cmllcywgZW50cnksIGVycjsNCisJc3RydWN0IGV4ZmF0X2Vu
dHJ5X3NldF9jYWNoZSBlczsNCisJaW50IGVudHJ5LCBlcnI7DQogDQogCW11dGV4X2xvY2soJkVY
RkFUX1NCKGlub2RlLT5pX3NiKS0+c19sb2NrKTsNCiANCkBAIC05ODQsMjcgKzk3NiwyMCBAQCBz
dGF0aWMgaW50IGV4ZmF0X3JtZGlyKHN0cnVjdCBpbm9kZSAqZGlyLCBzdHJ1Y3QgZGVudHJ5ICpk
ZW50cnkpDQogCQlnb3RvIHVubG9jazsNCiAJfQ0KIA0KLQllcCA9IGV4ZmF0X2dldF9kZW50cnko
c2IsICZjZGlyLCBlbnRyeSwgJmJoKTsNCi0JaWYgKCFlcCkgew0KLQkJZXJyID0gLUVJTzsNCi0J
CWdvdG8gdW5sb2NrOw0KLQl9DQotDQotCW51bV9lbnRyaWVzID0gZXhmYXRfY291bnRfZXh0X2Vu
dHJpZXMoc2IsICZjZGlyLCBlbnRyeSwgZXApOw0KLQlpZiAobnVtX2VudHJpZXMgPCAwKSB7DQor
CWVyciA9IGV4ZmF0X2dldF9kZW50cnlfc2V0KCZlcywgc2IsICZjZGlyLCBlbnRyeSwgRVNfQUxM
X0VOVFJJRVMpOw0KKwlpZiAoZXJyKSB7DQogCQllcnIgPSAtRUlPOw0KLQkJYnJlbHNlKGJoKTsN
CiAJCWdvdG8gdW5sb2NrOw0KIAl9DQotCW51bV9lbnRyaWVzKys7DQotCWJyZWxzZShiaCk7DQog
DQogCWV4ZmF0X3NldF92b2x1bWVfZGlydHkoc2IpOw0KLQllcnIgPSBleGZhdF9yZW1vdmVfZW50
cmllcyhkaXIsICZjZGlyLCBlbnRyeSwgMCwgbnVtX2VudHJpZXMpOw0KLQlpZiAoZXJyKSB7DQot
CQlleGZhdF9lcnIoc2IsICJmYWlsZWQgdG8gZXhmYXRfcmVtb3ZlX2VudHJpZXMgOiBlcnIoJWQp
IiwgZXJyKTsNCisNCisJZXhmYXRfcmVtb3ZlX2VudHJpZXMoaW5vZGUsICZlcywgRVNfSURYX0ZJ
TEUpOw0KKw0KKwllcnIgPSBleGZhdF9wdXRfZGVudHJ5X3NldCgmZXMsIElTX0RJUlNZTkMoZGly
KSk7DQorCWlmIChlcnIpDQogCQlnb3RvIHVubG9jazsNCi0JfQ0KKw0KIAllaS0+ZGlyLmRpciA9
IERJUl9ERUxFVEVEOw0KIA0KIAlpbm9kZV9pbmNfaXZlcnNpb24oZGlyKTsNCkBAIC0xMDMwLDM2
ICsxMDE1LDQwIEBAIHN0YXRpYyBpbnQgZXhmYXRfcmVuYW1lX2ZpbGUoc3RydWN0IGlub2RlICpp
bm9kZSwgc3RydWN0IGV4ZmF0X2NoYWluICpwX2RpciwNCiAJCWludCBvbGRlbnRyeSwgc3RydWN0
IGV4ZmF0X3VuaV9uYW1lICpwX3VuaW5hbWUsDQogCQlzdHJ1Y3QgZXhmYXRfaW5vZGVfaW5mbyAq
ZWkpDQogew0KLQlpbnQgcmV0LCBudW1fb2xkX2VudHJpZXMsIG51bV9uZXdfZW50cmllczsNCisJ
aW50IHJldCwgbnVtX25ld19lbnRyaWVzOw0KIAlzdHJ1Y3QgZXhmYXRfZGVudHJ5ICplcG9sZCwg
KmVwbmV3Ow0KIAlzdHJ1Y3Qgc3VwZXJfYmxvY2sgKnNiID0gaW5vZGUtPmlfc2I7DQotCXN0cnVj
dCBidWZmZXJfaGVhZCAqbmV3X2JoLCAqb2xkX2JoOw0KKwlzdHJ1Y3QgYnVmZmVyX2hlYWQgKm5l
d19iaDsNCisJc3RydWN0IGV4ZmF0X2VudHJ5X3NldF9jYWNoZSBvbGRfZXM7DQogCWludCBzeW5j
ID0gSVNfRElSU1lOQyhpbm9kZSk7DQogDQotCWVwb2xkID0gZXhmYXRfZ2V0X2RlbnRyeShzYiwg
cF9kaXIsIG9sZGVudHJ5LCAmb2xkX2JoKTsNCi0JaWYgKCFlcG9sZCkNCi0JCXJldHVybiAtRUlP
Ow0KLQ0KLQludW1fb2xkX2VudHJpZXMgPSBleGZhdF9jb3VudF9leHRfZW50cmllcyhzYiwgcF9k
aXIsIG9sZGVudHJ5LCBlcG9sZCk7DQotCWlmIChudW1fb2xkX2VudHJpZXMgPCAwKQ0KLQkJcmV0
dXJuIC1FSU87DQotCW51bV9vbGRfZW50cmllcysrOw0KLQ0KIAludW1fbmV3X2VudHJpZXMgPSBl
eGZhdF9jYWxjX251bV9lbnRyaWVzKHBfdW5pbmFtZSk7DQogCWlmIChudW1fbmV3X2VudHJpZXMg
PCAwKQ0KIAkJcmV0dXJuIG51bV9uZXdfZW50cmllczsNCiANCi0JaWYgKG51bV9vbGRfZW50cmll
cyA8IG51bV9uZXdfZW50cmllcykgew0KKwlyZXQgPSBleGZhdF9nZXRfZGVudHJ5X3NldCgmb2xk
X2VzLCBzYiwgcF9kaXIsIG9sZGVudHJ5LCBFU19BTExfRU5UUklFUyk7DQorCWlmIChyZXQpIHsN
CisJCXJldCA9IC1FSU87DQorCQlyZXR1cm4gcmV0Ow0KKwl9DQorDQorCWVwb2xkID0gZXhmYXRf
Z2V0X2RlbnRyeV9jYWNoZWQoJm9sZF9lcywgRVNfSURYX0ZJTEUpOw0KKw0KKwlpZiAob2xkX2Vz
Lm51bV9lbnRyaWVzIDwgbnVtX25ld19lbnRyaWVzKSB7DQogCQlpbnQgbmV3ZW50cnk7DQogDQog
CQluZXdlbnRyeSA9DQogCQkJZXhmYXRfZmluZF9lbXB0eV9lbnRyeShpbm9kZSwgcF9kaXIsIG51
bV9uZXdfZW50cmllcyk7DQotCQlpZiAobmV3ZW50cnkgPCAwKQ0KLQkJCXJldHVybiBuZXdlbnRy
eTsgLyogLUVJTyBvciAtRU5PU1BDICovDQorCQlpZiAobmV3ZW50cnkgPCAwKSB7DQorCQkJcmV0
ID0gbmV3ZW50cnk7IC8qIC1FSU8gb3IgLUVOT1NQQyAqLw0KKwkJCWdvdG8gcHV0X29sZF9lczsN
CisJCX0NCiANCiAJCWVwbmV3ID0gZXhmYXRfZ2V0X2RlbnRyeShzYiwgcF9kaXIsIG5ld2VudHJ5
LCAmbmV3X2JoKTsNCi0JCWlmICghZXBuZXcpDQotCQkJcmV0dXJuIC1FSU87DQorCQlpZiAoIWVw
bmV3KSB7DQorCQkJcmV0ID0gLUVJTzsNCisJCQlnb3RvIHB1dF9vbGRfZXM7DQorCQl9DQogDQog
CQkqZXBuZXcgPSAqZXBvbGQ7DQogCQlpZiAoZXhmYXRfZ2V0X2VudHJ5X3R5cGUoZXBuZXcpID09
IFRZUEVfRklMRSkgew0KQEAgLTEwNjcsMzAgKzEwNTYsMjUgQEAgc3RhdGljIGludCBleGZhdF9y
ZW5hbWVfZmlsZShzdHJ1Y3QgaW5vZGUgKmlub2RlLCBzdHJ1Y3QgZXhmYXRfY2hhaW4gKnBfZGly
LA0KIAkJCWVpLT5hdHRyIHw9IEVYRkFUX0FUVFJfQVJDSElWRTsNCiAJCX0NCiAJCWV4ZmF0X3Vw
ZGF0ZV9iaChuZXdfYmgsIHN5bmMpOw0KLQkJYnJlbHNlKG9sZF9iaCk7DQogCQlicmVsc2UobmV3
X2JoKTsNCiANCi0JCWVwb2xkID0gZXhmYXRfZ2V0X2RlbnRyeShzYiwgcF9kaXIsIG9sZGVudHJ5
ICsgMSwgJm9sZF9iaCk7DQotCQlpZiAoIWVwb2xkKQ0KLQkJCXJldHVybiAtRUlPOw0KKwkJZXBv
bGQgPSBleGZhdF9nZXRfZGVudHJ5X2NhY2hlZCgmb2xkX2VzLCBFU19JRFhfU1RSRUFNKTsNCiAJ
CWVwbmV3ID0gZXhmYXRfZ2V0X2RlbnRyeShzYiwgcF9kaXIsIG5ld2VudHJ5ICsgMSwgJm5ld19i
aCk7DQogCQlpZiAoIWVwbmV3KSB7DQotCQkJYnJlbHNlKG9sZF9iaCk7DQotCQkJcmV0dXJuIC1F
SU87DQorCQkJcmV0ID0gLUVJTzsNCisJCQlnb3RvIHB1dF9vbGRfZXM7DQogCQl9DQogDQogCQkq
ZXBuZXcgPSAqZXBvbGQ7DQogCQlleGZhdF91cGRhdGVfYmgobmV3X2JoLCBzeW5jKTsNCi0JCWJy
ZWxzZShvbGRfYmgpOw0KIAkJYnJlbHNlKG5ld19iaCk7DQogDQogCQlyZXQgPSBleGZhdF9pbml0
X2V4dF9lbnRyeShpbm9kZSwgcF9kaXIsIG5ld2VudHJ5LA0KIAkJCW51bV9uZXdfZW50cmllcywg
cF91bmluYW1lKTsNCiAJCWlmIChyZXQpDQotCQkJcmV0dXJuIHJldDsNCisJCQlnb3RvIHB1dF9v
bGRfZXM7DQogDQotCQlleGZhdF9yZW1vdmVfZW50cmllcyhpbm9kZSwgcF9kaXIsIG9sZGVudHJ5
LCAwLA0KLQkJCW51bV9vbGRfZW50cmllcyk7DQorCQlleGZhdF9yZW1vdmVfZW50cmllcyhpbm9k
ZSwgJm9sZF9lcywgRVNfSURYX0ZJTEUpOw0KIAkJZWktPmRpciA9ICpwX2RpcjsNCiAJCWVpLT5l
bnRyeSA9IG5ld2VudHJ5Ow0KIAl9IGVsc2Ugew0KQEAgLTEwOTgsMzcgKzEwODIsMjkgQEAgc3Rh
dGljIGludCBleGZhdF9yZW5hbWVfZmlsZShzdHJ1Y3QgaW5vZGUgKmlub2RlLCBzdHJ1Y3QgZXhm
YXRfY2hhaW4gKnBfZGlyLA0KIAkJCWVwb2xkLT5kZW50cnkuZmlsZS5hdHRyIHw9IGNwdV90b19s
ZTE2KEVYRkFUX0FUVFJfQVJDSElWRSk7DQogCQkJZWktPmF0dHIgfD0gRVhGQVRfQVRUUl9BUkNI
SVZFOw0KIAkJfQ0KLQkJZXhmYXRfdXBkYXRlX2JoKG9sZF9iaCwgc3luYyk7DQotCQlicmVsc2Uo
b2xkX2JoKTsNCiAJCXJldCA9IGV4ZmF0X2luaXRfZXh0X2VudHJ5KGlub2RlLCBwX2Rpciwgb2xk
ZW50cnksDQogCQkJbnVtX25ld19lbnRyaWVzLCBwX3VuaW5hbWUpOw0KIAkJaWYgKHJldCkNCi0J
CQlyZXR1cm4gcmV0Ow0KKwkJCWdvdG8gcHV0X29sZF9lczsNCiANCi0JCWV4ZmF0X3JlbW92ZV9l
bnRyaWVzKGlub2RlLCBwX2Rpciwgb2xkZW50cnksIG51bV9uZXdfZW50cmllcywNCi0JCQludW1f
b2xkX2VudHJpZXMpOw0KKwkJZXhmYXRfcmVtb3ZlX2VudHJpZXMoaW5vZGUsICZvbGRfZXMsIG51
bV9uZXdfZW50cmllcyk7DQogCX0NCi0JcmV0dXJuIDA7DQorCXJldHVybiBleGZhdF9wdXRfZGVu
dHJ5X3NldCgmb2xkX2VzLCBzeW5jKTsNCisNCitwdXRfb2xkX2VzOg0KKwlleGZhdF9wdXRfZGVu
dHJ5X3NldCgmb2xkX2VzLCBmYWxzZSk7DQorCXJldHVybiByZXQ7DQogfQ0KIA0KIHN0YXRpYyBp
bnQgZXhmYXRfbW92ZV9maWxlKHN0cnVjdCBpbm9kZSAqaW5vZGUsIHN0cnVjdCBleGZhdF9jaGFp
biAqcF9vbGRkaXIsDQogCQlpbnQgb2xkZW50cnksIHN0cnVjdCBleGZhdF9jaGFpbiAqcF9uZXdk
aXIsDQogCQlzdHJ1Y3QgZXhmYXRfdW5pX25hbWUgKnBfdW5pbmFtZSwgc3RydWN0IGV4ZmF0X2lu
b2RlX2luZm8gKmVpKQ0KIHsNCi0JaW50IHJldCwgbmV3ZW50cnksIG51bV9uZXdfZW50cmllcywg
bnVtX29sZF9lbnRyaWVzOw0KKwlpbnQgcmV0LCBuZXdlbnRyeSwgbnVtX25ld19lbnRyaWVzOw0K
IAlzdHJ1Y3QgZXhmYXRfZGVudHJ5ICplcG1vdiwgKmVwbmV3Ow0KIAlzdHJ1Y3Qgc3VwZXJfYmxv
Y2sgKnNiID0gaW5vZGUtPmlfc2I7DQotCXN0cnVjdCBidWZmZXJfaGVhZCAqbW92X2JoLCAqbmV3
X2JoOw0KLQ0KLQllcG1vdiA9IGV4ZmF0X2dldF9kZW50cnkoc2IsIHBfb2xkZGlyLCBvbGRlbnRy
eSwgJm1vdl9iaCk7DQotCWlmICghZXBtb3YpDQotCQlyZXR1cm4gLUVJTzsNCi0NCi0JbnVtX29s
ZF9lbnRyaWVzID0gZXhmYXRfY291bnRfZXh0X2VudHJpZXMoc2IsIHBfb2xkZGlyLCBvbGRlbnRy
eSwNCi0JCWVwbW92KTsNCi0JaWYgKG51bV9vbGRfZW50cmllcyA8IDApDQotCQlyZXR1cm4gLUVJ
TzsNCi0JbnVtX29sZF9lbnRyaWVzKys7DQorCXN0cnVjdCBidWZmZXJfaGVhZCAqbmV3X2JoOw0K
KwlzdHJ1Y3QgZXhmYXRfZW50cnlfc2V0X2NhY2hlIG1vdl9lczsNCiANCiAJbnVtX25ld19lbnRy
aWVzID0gZXhmYXRfY2FsY19udW1fZW50cmllcyhwX3VuaW5hbWUpOw0KIAlpZiAobnVtX25ld19l
bnRyaWVzIDwgMCkNCkBAIC0xMTM4LDMxICsxMTE0LDM1IEBAIHN0YXRpYyBpbnQgZXhmYXRfbW92
ZV9maWxlKHN0cnVjdCBpbm9kZSAqaW5vZGUsIHN0cnVjdCBleGZhdF9jaGFpbiAqcF9vbGRkaXIs
DQogCWlmIChuZXdlbnRyeSA8IDApDQogCQlyZXR1cm4gbmV3ZW50cnk7IC8qIC1FSU8gb3IgLUVO
T1NQQyAqLw0KIA0KLQllcG5ldyA9IGV4ZmF0X2dldF9kZW50cnkoc2IsIHBfbmV3ZGlyLCBuZXdl
bnRyeSwgJm5ld19iaCk7DQotCWlmICghZXBuZXcpDQorCXJldCA9IGV4ZmF0X2dldF9kZW50cnlf
c2V0KCZtb3ZfZXMsIHNiLCBwX29sZGRpciwgb2xkZW50cnksDQorCQkJRVNfQUxMX0VOVFJJRVMp
Ow0KKwlpZiAocmV0KQ0KIAkJcmV0dXJuIC1FSU87DQogDQorCWVwbW92ID0gZXhmYXRfZ2V0X2Rl
bnRyeV9jYWNoZWQoJm1vdl9lcywgRVNfSURYX0ZJTEUpOw0KKwllcG5ldyA9IGV4ZmF0X2dldF9k
ZW50cnkoc2IsIHBfbmV3ZGlyLCBuZXdlbnRyeSwgJm5ld19iaCk7DQorCWlmICghZXBuZXcpIHsN
CisJCXJldCA9IC1FSU87DQorCQlnb3RvIHB1dF9tb3ZfZXM7DQorCX0NCisNCiAJKmVwbmV3ID0g
KmVwbW92Ow0KIAlpZiAoZXhmYXRfZ2V0X2VudHJ5X3R5cGUoZXBuZXcpID09IFRZUEVfRklMRSkg
ew0KIAkJZXBuZXctPmRlbnRyeS5maWxlLmF0dHIgfD0gY3B1X3RvX2xlMTYoRVhGQVRfQVRUUl9B
UkNISVZFKTsNCiAJCWVpLT5hdHRyIHw9IEVYRkFUX0FUVFJfQVJDSElWRTsNCiAJfQ0KIAlleGZh
dF91cGRhdGVfYmgobmV3X2JoLCBJU19ESVJTWU5DKGlub2RlKSk7DQotCWJyZWxzZShtb3ZfYmgp
Ow0KIAlicmVsc2UobmV3X2JoKTsNCiANCi0JZXBtb3YgPSBleGZhdF9nZXRfZGVudHJ5KHNiLCBw
X29sZGRpciwgb2xkZW50cnkgKyAxLCAmbW92X2JoKTsNCi0JaWYgKCFlcG1vdikNCi0JCXJldHVy
biAtRUlPOw0KKwllcG1vdiA9IGV4ZmF0X2dldF9kZW50cnlfY2FjaGVkKCZtb3ZfZXMsIEVTX0lE
WF9TVFJFQU0pOw0KIAllcG5ldyA9IGV4ZmF0X2dldF9kZW50cnkoc2IsIHBfbmV3ZGlyLCBuZXdl
bnRyeSArIDEsICZuZXdfYmgpOw0KIAlpZiAoIWVwbmV3KSB7DQotCQlicmVsc2UobW92X2JoKTsN
Ci0JCXJldHVybiAtRUlPOw0KKwkJcmV0ID0gLUVJTzsNCisJCWdvdG8gcHV0X21vdl9lczsNCiAJ
fQ0KIA0KIAkqZXBuZXcgPSAqZXBtb3Y7DQogCWV4ZmF0X3VwZGF0ZV9iaChuZXdfYmgsIElTX0RJ
UlNZTkMoaW5vZGUpKTsNCi0JYnJlbHNlKG1vdl9iaCk7DQogCWJyZWxzZShuZXdfYmgpOw0KIA0K
IAlyZXQgPSBleGZhdF9pbml0X2V4dF9lbnRyeShpbm9kZSwgcF9uZXdkaXIsIG5ld2VudHJ5LCBu
dW1fbmV3X2VudHJpZXMsDQpAQCAtMTE3MCwxMyArMTE1MCwxOCBAQCBzdGF0aWMgaW50IGV4ZmF0
X21vdmVfZmlsZShzdHJ1Y3QgaW5vZGUgKmlub2RlLCBzdHJ1Y3QgZXhmYXRfY2hhaW4gKnBfb2xk
ZGlyLA0KIAlpZiAocmV0KQ0KIAkJcmV0dXJuIHJldDsNCiANCi0JZXhmYXRfcmVtb3ZlX2VudHJp
ZXMoaW5vZGUsIHBfb2xkZGlyLCBvbGRlbnRyeSwgMCwgbnVtX29sZF9lbnRyaWVzKTsNCisJZXhm
YXRfcmVtb3ZlX2VudHJpZXMoaW5vZGUsICZtb3ZfZXMsIEVTX0lEWF9GSUxFKTsNCiANCiAJZXhm
YXRfY2hhaW5fc2V0KCZlaS0+ZGlyLCBwX25ld2Rpci0+ZGlyLCBwX25ld2Rpci0+c2l6ZSwNCiAJ
CXBfbmV3ZGlyLT5mbGFncyk7DQogDQogCWVpLT5lbnRyeSA9IG5ld2VudHJ5Ow0KLQlyZXR1cm4g
MDsNCisJcmV0dXJuIGV4ZmF0X3B1dF9kZW50cnlfc2V0KCZtb3ZfZXMsIElTX0RJUlNZTkMoaW5v
ZGUpKTsNCisNCitwdXRfbW92X2VzOg0KKwlleGZhdF9wdXRfZGVudHJ5X3NldCgmbW92X2VzLCBm
YWxzZSk7DQorDQorCXJldHVybiByZXQ7DQogfQ0KIA0KIC8qIHJlbmFtZSBvciBtb3ZlIGEgb2xk
IGZpbGUgaW50byBhIG5ldyBmaWxlICovDQpAQCAtMTE5NCw3ICsxMTc5LDYgQEAgc3RhdGljIGlu
dCBfX2V4ZmF0X3JlbmFtZShzdHJ1Y3QgaW5vZGUgKm9sZF9wYXJlbnRfaW5vZGUsDQogCXN0cnVj
dCBleGZhdF9zYl9pbmZvICpzYmkgPSBFWEZBVF9TQihzYik7DQogCWNvbnN0IHVuc2lnbmVkIGNo
YXIgKm5ld19wYXRoID0gbmV3X2RlbnRyeS0+ZF9uYW1lLm5hbWU7DQogCXN0cnVjdCBpbm9kZSAq
bmV3X2lub2RlID0gbmV3X2RlbnRyeS0+ZF9pbm9kZTsNCi0JaW50IG51bV9lbnRyaWVzOw0KIAlz
dHJ1Y3QgZXhmYXRfaW5vZGVfaW5mbyAqbmV3X2VpID0gTlVMTDsNCiAJdW5zaWduZWQgaW50IG5l
d19lbnRyeV90eXBlID0gVFlQRV9VTlVTRUQ7DQogCWludCBuZXdfZW50cnkgPSAwOw0KQEAgLTEy
NjUsMjUgKzEyNDksMjEgQEAgc3RhdGljIGludCBfX2V4ZmF0X3JlbmFtZShzdHJ1Y3QgaW5vZGUg
Km9sZF9wYXJlbnRfaW5vZGUsDQogCQkJCSZuZXdkaXIsICZ1bmlfbmFtZSwgZWkpOw0KIA0KIAlp
ZiAoIXJldCAmJiBuZXdfaW5vZGUpIHsNCisJCXN0cnVjdCBleGZhdF9lbnRyeV9zZXRfY2FjaGUg
ZXM7DQorDQogCQkvKiBkZWxldGUgZW50cmllcyBvZiBuZXdfZGlyICovDQotCQllcCA9IGV4ZmF0
X2dldF9kZW50cnkoc2IsIHBfZGlyLCBuZXdfZW50cnksICZuZXdfYmgpOw0KLQkJaWYgKCFlcCkg
ew0KKwkJcmV0ID0gZXhmYXRfZ2V0X2RlbnRyeV9zZXQoJmVzLCBzYiwgcF9kaXIsIG5ld19lbnRy
eSwNCisJCQkJRVNfQUxMX0VOVFJJRVMpOw0KKwkJaWYgKHJldCkgew0KIAkJCXJldCA9IC1FSU87
DQogCQkJZ290byBkZWxfb3V0Ow0KIAkJfQ0KIA0KLQkJbnVtX2VudHJpZXMgPSBleGZhdF9jb3Vu
dF9leHRfZW50cmllcyhzYiwgcF9kaXIsIG5ld19lbnRyeSwgZXApOw0KLQkJaWYgKG51bV9lbnRy
aWVzIDwgMCkgew0KLQkJCXJldCA9IC1FSU87DQotCQkJZ290byBkZWxfb3V0Ow0KLQkJfQ0KLQkJ
YnJlbHNlKG5ld19iaCk7DQorCQlleGZhdF9yZW1vdmVfZW50cmllcyhuZXdfaW5vZGUsICZlcywg
RVNfSURYX0ZJTEUpOw0KIA0KLQkJaWYgKGV4ZmF0X3JlbW92ZV9lbnRyaWVzKG5ld19pbm9kZSwg
cF9kaXIsIG5ld19lbnRyeSwgMCwNCi0JCQkJbnVtX2VudHJpZXMgKyAxKSkgew0KLQkJCXJldCA9
IC1FSU87DQorCQlyZXQgPSBleGZhdF9wdXRfZGVudHJ5X3NldCgmZXMsIElTX0RJUlNZTkMobmV3
X2lub2RlKSk7DQorCQlpZiAocmV0KQ0KIAkJCWdvdG8gZGVsX291dDsNCi0JCX0NCiANCiAJCS8q
IEZyZWUgdGhlIGNsdXN0ZXJzIGlmIG5ld19pbm9kZSBpcyBhIGRpcihhcyBpZiBleGZhdF9ybWRp
cikgKi8NCiAJCWlmIChuZXdfZW50cnlfdHlwZSA9PSBUWVBFX0RJUiAmJg0KLS0gDQoyLjM0LjEN
Cg0K

